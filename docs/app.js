const e=(e,t)=>e===t;let t=S;const n={},r={owned:null,cleanups:null,context:null,owner:null};d(!1,!0);var o=null,s=null;let i=null,l=null,a=null,c=0;function f(e,t){t&&(o=t);const n=s,i=o,l=0===e.length?r:{owned:null,cleanups:null,context:null,owner:i,attached:!!t};let a;o=l,s=null;try{w((()=>a=e((()=>A(l)))),!0)}finally{s=n,o=i}return a}function d(t,r,o){const s={value:t,observers:null,observerSlots:null,pending:n,comparator:r?"function"==typeof r?r:e:void 0};return[b.bind(s),v.bind(s)]}function u(e,t){y(E(e,t,!1))}function h(e,n){t=C;const r=E(e,n,!1);r.user=!0,a&&a.push(r)}function p(t,r,o){const s=E(t,r,!0);return s.pending=n,s.observers=null,s.observerSlots=null,s.state=0,s.comparator=o?"function"==typeof o?o:e:void 0,y(s),b.bind(s)}function g(e){let t,n=s;return s=null,t=e(),s=n,t}function m(e){const t=p(e);return p((()=>M(t())))}function b(){if(this.state&&this.sources){const e=l;l=null,1===this.state?y(this):L(this),l=e}if(s){const e=this.observers?this.observers.length:0;s.sources?(s.sources.push(this),s.sourceSlots.push(e)):(s.sources=[this],s.sourceSlots=[e]),this.observers?(this.observers.push(s),this.observerSlots.push(s.sources.length-1)):(this.observers=[s],this.observerSlots=[s.sources.length-1])}return this.value}function v(e,t){return this.comparator&&this.comparator(this.value,e)?e:i?(this.pending===n&&i.push(this),this.pending=e,e):(this.value=e,!this.observers||l&&!this.observers.length||w((()=>{for(let e=0;e<this.observers.length;e+=1){const t=this.observers[e];t.observers&&2!==t.state&&T(t),t.state=1,t.pure?l.push(t):a.push(t)}if(l.length>1e6)throw l=[],new Error("Potential Infinite Loop Detected.")}),!1),e)}function y(e){if(!e.fn)return;A(e);const t=o,n=s,r=c;s=o=e,function(e,t,n){let r;try{r=e.fn(t)}catch(e){$(e)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?v.call(e,r,!0):e.value=r,e.updatedAt=n)}(e,e.value,r),s=n,o=t}function E(e,t,n){const s={fn:e,state:1,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:o,context:null,pure:n};return null===o||o!==r&&(o.owned?o.owned.push(s):o.owned=[s]),s}function x(e){let t,n=1===e.state&&e;if(e.suspense&&g(e.suspense.inFallback))return e.suspense.effects.push(e);for(;e.fn&&(e=e.owner);)2===e.state?t=e:1===e.state&&(n=e,t=void 0);if(t){const e=l;if(l=null,L(t),l=e,!n||1!==n.state)return}n&&y(n)}function w(e,r){if(l)return e();let o=!1;r||(l=[]),a?o=!0:a=[],c++;try{e()}catch(e){$(e)}finally{!function(e){l&&(S(l),l=null),e||(a.length?function(e){if(i)return e();const t=i=[];e(),i=null,w((()=>{for(let e=0;e<t.length;e+=1){const r=t[e];if(r.pending!==n){const e=r.pending;r.pending=n,v.call(r,e)}}}),!1)}((()=>{t(a),a=null})):a=null)}(o)}}function S(e){for(let t=0;t<e.length;t++)x(e[t])}function C(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:x(r)}const r=e.length;for(t=0;t<n;t++)x(e[t]);for(t=r;t<e.length;t++)x(e[t])}function L(e){e.state=0;for(let t=0;t<e.sources.length;t+=1){const n=e.sources[t];n.sources&&(1===n.state?x(n):2===n.state&&L(n))}}function T(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=2,n.observers&&T(n))}}function A(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),o=t.observerSlots.pop();n<r.length&&(e.sourceSlots[o]=n,r[n]=e,t.observerSlots[n]=o)}}if(e.owned){for(t=0;t<e.owned.length;t++)A(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function $(e){throw e}function M(e){if("function"==typeof e&&!e.length)return M(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){let r=M(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}const _=Symbol("fallback");function k(e,t){return g((()=>e(t)))}function I(e){const t="fallback"in e&&{fallback:()=>e.fallback};return p(function(e,t,n={}){let r=[],s=[],i=[],l=0,a=t.length>1?[]:null,c=o;var u;return u=()=>{for(let e=0,t=i.length;e<t;e++)i[e]()},null===o||(null===o.cleanups?o.cleanups=[u]:o.cleanups.push(u)),()=>{let o,u,h=e()||[];return g((()=>{let e,t,d,g,m,b,v,y,E,x=h.length;if(0===x){if(0!==l){for(o=0;o<l;o++)i[o]();i=[],r=[],s=[],l=0,a&&(a=[])}n.fallback&&(r=[_],s[0]=f((e=>(i[0]=e,n.fallback())),c),l=1)}else if(0===l){for(u=0;u<x;u++)r[u]=h[u],s[u]=f(p,c);l=x}else{for(d=new Array(x),g=new Array(x),a&&(m=new Array(x)),b=0,v=Math.min(l,x);b<v&&r[b]===h[b];b++);for(v=l-1,y=x-1;v>=b&&y>=b&&r[v]===h[y];v--,y--)d[y]=s[v],g[y]=i[v],a&&(m[y]=a[v]);for(e=new Map,t=new Array(y+1),u=y;u>=b;u--)E=h[u],o=e.get(E),t[u]=void 0===o?-1:o,e.set(E,u);for(o=b;o<=v;o++)E=r[o],u=e.get(E),void 0!==u&&-1!==u?(d[u]=s[o],g[u]=i[o],a&&(m[u]=a[o]),u=t[u],e.set(E,u)):i[o]();for(u=b;u<x;u++)u in d?(s[u]=d[u],i[u]=g[u],a&&(a[u]=m[u],a[u](u))):s[u]=f(p,c);l=s.length=x,r=h.slice(0)}return s}));function p(e){if(i[u]=e,a){const[e,n]=d(u,!0);return a[u]=n,t(h[u],e)}return t(h[u])}}}((()=>e.each),e.children,t||void 0))}function N(e){let t=!1;const n=p((()=>e.when),void 0,((e,n)=>t?e===n:!e==!n));return p((()=>{const r=n();if(r){const n=e.children;return(t="function"==typeof n&&n.length>0)?g((()=>n(r))):n}return e.fallback}))}function D(e){let t=!1;const n=m((()=>e.children)),r=p((()=>{let e=n();Array.isArray(e)||(e=[e]);for(let t=0;t<e.length;t++){const n=e[t].when;if(n)return[t,n,e[t]]}return[-1]}),void 0,((e,n)=>e&&e[0]===n[0]&&(t?e[1]===n[1]:!e[1]==!n[1])&&e[2]===n[2]));return p((()=>{const[n,o,s]=r();if(n<0)return e.fallback;const i=s.children;return(t="function"==typeof i&&i.length>0)?g((()=>i(o))):i}))}function O(e){return e}function B(e,t,n){let r=n.length,o=t.length,s=r,i=0,l=0,a=t[o-1].nextSibling,c=null;for(;i<o||l<s;)if(o===i){const t=s<r?l?n[l-1].nextSibling:n[s-l]:a;for(;l<s;)e.insertBefore(n[l++],t)}else if(s===l)for(;i<o;)c&&c.has(t[i])||e.removeChild(t[i]),i++;else if(t[i]===n[l])i++,l++;else if(t[o-1]===n[s-1])o--,s--;else if(t[i]===n[s-1]&&n[l]===t[o-1]){const r=t[--o].nextSibling;e.insertBefore(n[l++],t[i++].nextSibling),e.insertBefore(n[--s],r),t[o]=n[s]}else{if(!c){c=new Map;let e=l;for(;e<s;)c.set(n[e],e++)}const r=c.get(t[i]);if(null!=r)if(l<r&&r<s){let a,f=i,d=1;for(;++f<o&&f<s&&null!=(a=c.get(t[f]))&&a===r+d;)d++;if(d>r-l){const o=t[i];for(;l<r;)e.insertBefore(n[l++],o)}else e.replaceChild(n[l++],t[i++])}else i++;else e.removeChild(t[i++])}}const P=new Set;function j(e,t,n){let r;return f((o=>{r=o,H(t,e(),t.firstChild?null:void 0,n)})),()=>{r(),t.textContent=""}}function R(e,t,n){const r=document.createElement("template");if(r.innerHTML=e,t&&r.innerHTML.split("<").length-1!==t)throw`Template html does not match input:\n${r.innerHTML}\n\n${e}`;let o=r.content.firstChild;return n&&(o=o.firstChild),o}function H(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return V(e,t,r,n);u((r=>V(e,t(),r,n)),r)}function z(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>n});null!==n;){const r=n[t];if(r){const o=n[`${t}Data`];if(void 0!==o?r(o,e):r(e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function V(e,t,n,r,o){for(;"function"==typeof n;)n=n();if(t===n)return n;const s=typeof t,i=void 0!==r;if(e=i&&n[0]&&n[0].parentNode||e,"string"===s||"number"===s)if("number"===s&&(t=t.toString()),i){let o=n[0];o&&3===o.nodeType?o.data=t:o=document.createTextNode(t),n=F(e,n,r,o)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t;else if(null==t||"boolean"===s)n=F(e,n,r);else{if("function"===s)return u((()=>{let o=t();for(;"function"==typeof o;)o=o();n=V(e,o,n,r)})),()=>n;if(Array.isArray(t)){const s=[];if(W(s,t,o))return u((()=>n=V(e,s,n,r,!0))),()=>n;if(0===s.length){if(n=F(e,n,r),i)return n}else Array.isArray(n)?0===n.length?G(e,s,r):B(e,n,s):null==n||""===n?G(e,s):B(e,i&&n||[e.firstChild],s);n=s}else if(t instanceof Node){if(Array.isArray(n)){if(i)return n=F(e,n,r,t);F(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}else console.warn("Skipped inserting",t)}return n}function W(e,t,n){let r=!1;for(let o=0,s=t.length;o<s;o++){let s,i=t[o];if(i instanceof Node)e.push(i);else if(null==i||!0===i||!1===i);else if(Array.isArray(i))r=W(e,i)||r;else if("string"==(s=typeof i))e.push(document.createTextNode(i));else if("function"===s)if(n){for(;"function"==typeof i;)i=i();r=W(e,Array.isArray(i)?i:[i])||r}else e.push(i),r=!0;else e.push(document.createTextNode(i.toString()))}return r}function G(e,t,n){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function F(e,t,n,r){if(void 0===n)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let r=!1;for(let s=t.length-1;s>=0;s--){const i=t[s];if(o!==i){const t=i.parentNode===e;r||s?t&&e.removeChild(i):t?e.replaceChild(o,i):e.insertBefore(o,n)}else r=!0}}else e.insertBefore(o,n);return[o]}const K=(e,t)=>{if(e)for(const n of e)if(n[0]===t)return n[1]},Y=()=>Object.create(null),X=(e,t)=>{switch(e){default:{const e=[];let n=[];for(const r of t)0===r[0]&&e.push(n=[]),n.push(r);return e}case"HEADER":{const e=Y();let n=[];for(const r of t)9===r[0]?e[r[1]]=n=[]:n.push(r);return e}case"CLASSES":{const e=Y();let n=[];for(const r of t)0===r[0]?n=[]:1===r[0]?e[r[1]]=n:n.push(r);return e}case"TABLES":{const e=Y();let n=[],r=[];for(const o of t)0===o[0]?(r=[],"TABLE"===o[1]?n=[r]:"ENDTAB"!==o[1]&&n.push(r)):2===o[0]&&"TABLE"===K(r,0)&&(e[o[1]]=n),r.push(o);return e}case"BLOCKS":{const e=Y();let n=[],r=[];for(const o of t)0===o[0]?(r=[],"BLOCK"===o[1]?n=[r]:n.push(r)):2===o[0]&&"BLOCK"===K(r,0)&&(e[o[1]]=n),r.push(o);return e}case"OBJECTS":{const e=[];let n=[];for(const r of t)0===r[0]&&e.push(n=[]),n.push(r);return e}case"ACDSDATA":{let e=[],n=[e];const r=[n];for(const o of t)0===o[0]?(r.push(n=[]),n.push(e=[])):2===o[0]&&n.push(e=[]),e.push(o);return r}}};function U(e){const t=e.split(/\r\n|\r|\n/),n=Math.floor(t.length/2),r=Array(n);for(let e=0;e<n;e++)r[e]=[parseInt(t[e+e],10),t[e+e+1]];return r}function J(e){const t=[];for(let n=1;n<e.length;n++)if(0===e[n-1][0]&&"SECTION"===e[n-1][1]&&2===e[n][0]){const r=n;for(;++n<e.length&&(0!==e[n][0]||"ENDSEC"!==e[n][1]););t.push({name:e[r][1],startIndex:r+1,endIndex:n})}return t}const q={cp874:"dos-874",cp932:"ms932",cp936:"gbk",cp949:"windows-949",cp950:"csbig5",cp1361:"johab","mac-roman":"mac"},Q={ja:"ms932"},Z=(e,t)=>{const n=t?.encoding,r=new TextDecoder(n?(e=>{const t=e.trim().toLowerCase().replace(/^dos|^ansi_/,"cp").replace(/^iso8859_/,"iso8859-");return q[t]||t})(n):void 0).decode(e);if(!n){const t=((e,t)=>{const n=U(e);for(const{name:e,startIndex:t,endIndex:r}of J(n))if("HEADER"===e)return X(e,n.slice(t,r))})(r),n=K(t?.$ACADVER,1);if(!n||n<"AC1021"){const n=K(t?.$DWGCODEPAGE,3)??Q[navigator.language]??"cp1252";return Z(e,{encoding:n})}}return(e=>{const t=Object.create(null),n=U(e);for(const{name:e,startIndex:r,endIndex:o}of J(n))t[e]=X(e,n.slice(r,o));return t})(r)},ee=(e,t)=>{for(const[n,r]of t)e+=n,e+="\n",e+=r,e+="\n";return e},te=(e,t)=>{const n=[];if(e)for(const r of e)r[0]===t&&n.push(r[1]);return n};var ne=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,re=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector,oe=Element.prototype.closest?function(e,t){return e&&e.closest(t)}:function(e,t){for(;e&&!re.call(e,t);)e=e.parentNode instanceof Element?e.parentNode:null;return e};function se(e){var t={};if(e)for(var n=0,r=e.split(";");n<r.length;n++){var o=r[n],s=o.indexOf(":");t[o.slice(0,s).trim().replace(/[a-zA-Z0-9_]-[a-z]/g,(function(e){return e[0]+e[2].toUpperCase()}))]=o.slice(s+1).trim()}return t}function ie(e,t){var n=oe(e,"["+t+"]");return n?[n,se(n.getAttribute(t))]:[]}function le(){}var ae=!1;try{var ce=Object.defineProperty({},"passive",{get:function(){ae=!0}});addEventListener("t",le,ce),removeEventListener("t",le,ce)}catch(e){ae=!1}var fe=ae?{passive:!1}:void 0,de=function(e){return e.preventDefault()};function ue(e,t,n,r,o,s,i){var l=t+r*s-r,a=n+o*i-o;e.setAttribute("data-scroll-left",l),e.setAttribute("data-scroll-top",a),e.scrollLeft=Math.round(l),e.scrollTop=Math.round(a)}function he(e,t){if(void 0===t&&(t={}),"transform"===t.scalingProperty)return+(e&&e.getAttribute("data-scale")||1);var n=e.firstElementChild,r=n.getBBox(),o=e.clientWidth,s=e.clientHeight;return o/r.width<s/r.height?n.clientWidth/o:n.clientHeight/s}function pe(e,t,n){!function(e,t,n){void 0===n&&(n={});var r=n.minScale||1,o=n.maxScale||10,s=n.origin,i=e.firstElementChild,l=he(e,n),a=function(e,t,n){return e<t?t:e>n?n:e}(t,r,o);if(a!==l||"transform"!==n.scalingProperty){var c=a/l,f=i.getBoundingClientRect(),d=(s&&s.clientX||0)-f.left,u=(s&&s.clientY||0)-f.top,h=+e.getAttribute("data-scroll-left"),p=+e.getAttribute("data-scroll-top");if(Math.round(h)!==e.scrollLeft&&(h=e.scrollLeft),Math.round(p)!==e.scrollTop&&(p=e.scrollTop),e.setAttribute("data-scale",a),"transform"===n.scalingProperty){var g=getComputedStyle(i),m=g.transformOrigin.split(" ").map(parseFloat),b=new ne(g.transform);(b=b.translate.apply(b,m.map(ge))).d=b.a===b.d?a:b.d*c,b.a=a,b=b.translate.apply(b,m),i.style.transform=b,i.setAttribute("transform",b),ue(e,h,p,d,u,c,c)}else{var v=i.clientWidth,y=i.clientHeight,E=e.clientWidth,x=e.clientHeight,w=i.getBBox(),S=void 0,C=void 0;E/w.width<x/w.height?C=(S=a*E)*w.height/w.width:S=(C=a*x)*w.width/w.height,S=Math.max(S,E*r),C=Math.max(C,x*r),i.style.width=S+"px",i.style.height=C+"px",ue(e,h,p,d,u,S/v,C/y)}}}(e,he(e,n)*t,n)}function ge(e){return-e}!function(e,t){addEventListener("mousedown",(function(e){if(0===e.button||2===e.button){var n=ie(e.target,"data-pan-on-drag"),r=n[0],o=n[1];if(r&&o&&function(e,t,n){return e.button===("right"===(t.button||n.button)?2:0)}(e,o,t)){e.preventDefault();var s=e.clientX,i=e.clientY,l=function(e){var t,n,o;t=r,n=s-e.clientX,o=i-e.clientY,t.scrollLeft+=n,t.scrollTop+=o,s=e.clientX,i=e.clientY,e.preventDefault()},a=function(){removeEventListener("mouseup",a),removeEventListener("mousemove",l),removeEventListener("contextmenu",de)};addEventListener("mouseup",a),addEventListener("mousemove",l),addEventListener("contextmenu",de)}}}))}(0,{button:"left"}),function(e,t,n){void 0===n&&(n={}),n.noEmitStyle||((document.head||document.body||document.documentElement).appendChild(document.createElement("style")).textContent="["+e+"]{overflow:scroll}["+e+"]>:first-child{width:100%;height:100%;vertical-align:middle}"),addEventListener("wheel",(function(n){var r=ie(n.target,e),o=r[0],s=r[1];if(o instanceof HTMLElement){var i=+s.zoomAmount||t.zoomAmount;pe(o,Math.pow(1+i,-n.deltaY),{origin:n,minScale:+s.minScale||t.minScale,maxScale:+s.maxScale||t.maxScale,scalingProperty:s.scalingProperty||t.scalingProperty}),n.preventDefault()}}),fe),addEventListener("resize",(function(){for(var t=document.querySelectorAll("["+e+"]"),n=0;n<t.length;n++){var r=t[n];if(r instanceof HTMLElement){var o=se(r.getAttribute(e));pe(r,1,o)}}}))}("data-zoom-on-wheel",{minScale:1,maxScale:10,zoomAmount:.002,scalingProperty:"width/height"});const[me,be]=d({}),[ve,ye]=d(""),[Ee,xe]=d("");var we,Se=(function(e){e.exports=function(){var e=function(){for(var e=3,t=document.createElement("b"),n=t.all||[];t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i><![endif]--\x3e",n[0];);return e>4?e:document.documentMode}(),t=navigator.platform.toLowerCase().indexOf("mac")+1,n=function(e){if(!(this instanceof n))return new n(e);var i=this,l={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,callbacks:{}};i.options={};for(var a,c=["rows_in_block","blocks_in_cluster","show_no_data_row","no_data_class","no_data_text","keep_parity","tag","callbacks"],f=0;a=c[f];f++)i.options[a]=void 0!==e[a]&&null!=e[a]?e[a]:l[a];var d,u=["scroll","content"];for(f=0;d=u[f];f++)if(i[d+"_elem"]=e[d+"Id"]?document.getElementById(e[d+"Id"]):e[d+"Elem"],!i[d+"_elem"])throw new Error("Error! Could not find "+d+" element");i.content_elem.hasAttribute("tabindex")||i.content_elem.setAttribute("tabindex",0);var h=s(e.rows)?e.rows:i.fetchMarkup(),p={},g=i.scroll_elem.scrollTop;i.insertToDOM(h,p),i.scroll_elem.scrollTop=g;var m=!1,b=0,v=!1,y=function(){t&&(v||(i.content_elem.style.pointerEvents="none"),v=!0,clearTimeout(b),b=setTimeout((function(){i.content_elem.style.pointerEvents="auto",v=!1}),50)),m!=(m=i.getClusterNum())&&i.insertToDOM(h,p),i.options.callbacks.scrollingProgress&&i.options.callbacks.scrollingProgress(i.getScrollProgress())},E=0,x=function(){clearTimeout(E),E=setTimeout(i.refresh,100)};r("scroll",i.scroll_elem,y),r("resize",window,x),i.destroy=function(e){o("scroll",i.scroll_elem,y),o("resize",window,x),i.html((e?i.generateEmptyRow():h).join(""))},i.refresh=function(e){(i.getRowsHeight(h)||e)&&i.update(h)},i.update=function(e){h=s(e)?e:[];var t=i.scroll_elem.scrollTop;h.length*i.options.item_height<t&&(i.scroll_elem.scrollTop=0,m=0),i.insertToDOM(h,p),i.scroll_elem.scrollTop=t},i.clear=function(){i.update([])},i.getRowsAmount=function(){return h.length},i.getScrollProgress=function(){return this.options.scroll_top/(h.length*this.options.item_height)*100||0};var w=function(e,t){var n=s(t)?t:[];n.length&&(h="append"==e?h.concat(n):n.concat(h),i.insertToDOM(h,p))};i.append=function(e){w("append",e)},i.prepend=function(e){w("prepend",e)}};function r(e,t,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function o(e,t,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e,t){return window.getComputedStyle?window.getComputedStyle(t)[e]:t.currentStyle[e]}return n.prototype={constructor:n,fetchMarkup:function(){for(var e=[],t=this.getChildNodes(this.content_elem);t.length;)e.push(t.shift().outerHTML);return e},exploreEnvironment:function(t,n){var r=this.options;r.content_tag=this.content_elem.tagName.toLowerCase(),t.length&&(e&&e<=9&&!r.tag&&(r.tag=t[0].match(/<([^>\s/]*)/)[1].toLowerCase()),this.content_elem.children.length<=1&&(n.data=this.html(t[0]+t[0]+t[0])),r.tag||(r.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(t))},getRowsHeight:function(e){var t=this.options,n=t.item_height;if(t.cluster_height=0,e.length){var r=this.content_elem.children;if(r.length){var o=r[Math.floor(r.length/2)];if(t.item_height=o.offsetHeight,"tr"==t.tag&&"collapse"!=i("borderCollapse",this.content_elem)&&(t.item_height+=parseInt(i("borderSpacing",this.content_elem),10)||0),"tr"!=t.tag){var s=parseInt(i("marginTop",o),10)||0,l=parseInt(i("marginBottom",o),10)||0;t.item_height+=Math.max(s,l)}return t.block_height=t.item_height*t.rows_in_block,t.rows_in_cluster=t.blocks_in_cluster*t.rows_in_block,t.cluster_height=t.blocks_in_cluster*t.block_height,n!=t.item_height}}},getClusterNum:function(){return this.options.scroll_top=this.scroll_elem.scrollTop,Math.floor(this.options.scroll_top/(this.options.cluster_height-this.options.block_height))||0},generateEmptyRow:function(){var e=this.options;if(!e.tag||!e.show_no_data_row)return[];var t,n=document.createElement(e.tag),r=document.createTextNode(e.no_data_text);return n.className=e.no_data_class,"tr"==e.tag&&((t=document.createElement("td")).colSpan=100,t.appendChild(r)),n.appendChild(t||r),[n.outerHTML]},generate:function(e,t){var n=this.options,r=e.length;if(r<n.rows_in_block)return{top_offset:0,bottom_offset:0,rows_above:0,rows:r?e:this.generateEmptyRow()};var o=Math.max((n.rows_in_cluster-n.rows_in_block)*t,0),s=o+n.rows_in_cluster,i=Math.max(o*n.item_height,0),l=Math.max((r-s)*n.item_height,0),a=[],c=o;i<1&&c++;for(var f=o;f<s;f++)e[f]&&a.push(e[f]);return{top_offset:i,bottom_offset:l,rows_above:c,rows:a}},renderExtraTag:function(e,t){var n=document.createElement(this.options.tag);return n.className=["clusterize-extra-row","clusterize-"+e].join(" "),t&&(n.style.height=t+"px"),n.outerHTML},insertToDOM:function(e,t){this.options.cluster_height||this.exploreEnvironment(e,t);var n=this.generate(e,this.getClusterNum()),r=n.rows.join(""),o=this.checkChanges("data",r,t),s=this.checkChanges("top",n.top_offset,t),i=this.checkChanges("bottom",n.bottom_offset,t),l=this.options.callbacks,a=[];o||s?(n.top_offset&&(this.options.keep_parity&&a.push(this.renderExtraTag("keep-parity")),a.push(this.renderExtraTag("top-space",n.top_offset))),a.push(r),n.bottom_offset&&a.push(this.renderExtraTag("bottom-space",n.bottom_offset)),l.clusterWillChange&&l.clusterWillChange(),this.html(a.join("")),"ol"==this.options.content_tag&&this.content_elem.setAttribute("start",n.rows_above),this.content_elem.style["counter-increment"]="clusterize-counter "+(n.rows_above-1),l.clusterChanged&&l.clusterChanged()):i&&(this.content_elem.lastChild.style.height=n.bottom_offset+"px")},html:function(t){var n=this.content_elem;if(e&&e<=9&&"tr"==this.options.tag){var r,o=document.createElement("div");for(o.innerHTML="<table><tbody>"+t+"</tbody></table>";r=n.lastChild;)n.removeChild(r);for(var s=this.getChildNodes(o.firstChild.firstChild);s.length;)n.appendChild(s.shift())}else n.innerHTML=t},getChildNodes:function(e){for(var t=e.children,n=[],r=0,o=t.length;r<o;r++)n.push(t[r]);return n},checkChanges:function(e,t,n){var r=t!=n[e];return n[e]=t,r}},n}()}(we={exports:{}}),we.exports);const Ce=R('<div class="clusterize"><div class="clusterize-header-scroll"><table><thead><tr></tr></thead></table></div><div class="clusterize-scroll"><table><tbody class="clusterize-content"></tbody></table></div></div>',16),Le=R("<th></th>",2),Te=({columns:e,records:t,tdSelector:n})=>{let r;const o=e.map((e=>n(e))),s=p((()=>t.map((e=>`<tr>${o.map((t=>{return(n=t(e)).endsWith("</td>")?n:`<td>${n}</td>`;var n})).join("")}</tr>`)))),i=p((()=>t.map((e=>o.map((t=>t(e)?.toLowerCase()??"")).join("\n"))))),l=p((()=>{const e=Ee().toLowerCase();return e?s().filter(((t,n)=>i()[n].includes(e))):s()}));let a,c;return h((()=>{if(c)return void c.update(l());if(!a)return;const e=a.getElementsByTagName("tr")[0],t=a.getElementsByTagName("tbody")[0];e&&t&&(c=new Se({scrollElem:a.getElementsByClassName("clusterize-scroll")[0],contentElem:t,rows:l(),callbacks:{clusterChanged(){const n=t?.querySelector("tr:not(.clusterize-extra-row)");if(n&&!n.classList.contains("clusterize-no-data"))for(let t=0;t<e.cells.length;t++)e.cells[t].style.width=`${n.cells[t].offsetWidth}px`}}}))})),(()=>{const t=Ce.cloneNode(!0),n=t.firstChild,o=n.firstChild.firstChild.firstChild,s=n.nextSibling;return"function"==typeof a?a(t):a=t,"function"==typeof r?r(n):r=n,H(o,k(I,{each:e,children:e=>(()=>{const t=Le.cloneNode(!0);return H(t,e),t})()})),s.addEventListener("scroll",(e=>r&&(r.scrollLeft=e.currentTarget.scrollLeft))),t})()},Ae=[[0,0,0],[0,100,50],[60,100,50],[120,100,50],[180,100,50],[240,100,50],[300,100,50],[0,0,100],[0,0,25.5],[0,0,50.2],[0,100,50],[0,100,83.3],[0,100,37.1],[0,32.3,61.8],[0,100,25.3],[0,20,42.2],[0,100,20.4],[0,20.2,33.9],[0,100,15.5],[0,19.7,25.9],[14.8,100,50],[14.8,100,83.3],[14.6,100,37.1],[14.3,32.3,61.8],[14.4,100,25.3],[14,20,42.2],[14.4,100,20.4],[15.4,20.2,33.9],[14.4,100,15.5],[13.8,19.7,25.9],[29.9,100,50],[29.6,100,83.3],[29.8,100,37.1],[29.5,32.3,61.8],[29.8,100,25.3],[29.3,20,42.2],[30,100,20.4],[29.1,20.2,33.9],[29.6,100,15.5],[30,19.7,25.9],[44.9,100,50],[45.2,100,83.3],[44.8,100,37.1],[44.8,32.3,61.8],[44.7,100,25.3],[44.7,20,42.2],[45,100,20.4],[44.6,20.2,33.9],[44.8,100,15.5],[46.2,19.7,25.9],[60,100,50],[60,100,83.3],[60,100,37.1],[60,32.3,61.8],[60,100,25.3],[60,20,42.2],[60,100,20.4],[60,20.2,33.9],[60,100,15.5],[60,19.7,25.9],[75.1,100,50],[74.8,100,83.3],[75.2,100,37.1],[75.2,32.3,61.8],[75.3,100,25.3],[75.3,20,42.2],[75,100,20.4],[75.4,20.2,33.9],[75.2,100,15.5],[73.8,19.7,25.9],[90.1,100,50],[90.4,100,83.3],[90.2,100,37.1],[90.5,32.3,61.8],[90.2,100,25.3],[90.7,20,42.2],[90,100,20.4],[90.9,20.2,33.9],[90.4,100,15.5],[90,19.7,25.9],[105.2,100,50],[105.2,100,83.3],[105.4,100,37.1],[105.7,32.3,61.8],[105.6,100,25.3],[106,20,42.2],[105.6,100,20.4],[104.6,20.2,33.9],[105.6,100,15.5],[106.2,19.7,25.9],[120,100,50],[120,100,83.3],[120,100,37.1],[120,32.3,61.8],[120,100,25.3],[120,20,42.2],[120,100,20.4],[120,20.2,33.9],[120,100,15.5],[120,19.7,25.9],[134.8,100,50],[134.8,100,83.3],[134.6,100,37.1],[134.3,32.3,61.8],[134.4,100,25.3],[134,20,42.2],[134.4,100,20.4],[135.4,20.2,33.9],[134.4,100,15.5],[133.8,19.7,25.9],[149.9,100,50],[149.6,100,83.3],[149.8,100,37.1],[149.5,32.3,61.8],[149.8,100,25.3],[149.3,20,42.2],[150,100,20.4],[149.1,20.2,33.9],[149.6,100,15.5],[150,19.7,25.9],[164.9,100,50],[165.2,100,83.3],[164.8,100,37.1],[164.8,32.3,61.8],[164.7,100,25.3],[164.7,20,42.2],[165,100,20.4],[164.6,20.2,33.9],[164.8,100,15.5],[166.2,19.7,25.9],[180,100,50],[180,100,83.3],[180,100,37.1],[180,32.3,61.8],[180,100,25.3],[180,20,42.2],[180,100,20.4],[180,20.2,33.9],[180,100,15.5],[180,19.7,25.9],[195.1,100,50],[194.8,100,83.3],[195.2,100,37.1],[195.2,32.3,61.8],[195.3,100,25.3],[195.3,20,42.2],[195,100,20.4],[195.4,20.2,33.9],[195.2,100,15.5],[193.8,19.7,25.9],[210.1,100,50],[210.4,100,83.3],[210.2,100,37.1],[210.5,32.3,61.8],[210.2,100,25.3],[210.7,20,42.2],[210,100,20.4],[210.9,20.2,33.9],[210.4,100,15.5],[210,19.7,25.9],[225.2,100,50],[225.2,100,83.3],[225.4,100,37.1],[225.7,32.3,61.8],[225.6,100,25.3],[226,20,42.2],[225.6,100,20.4],[224.6,20.2,33.9],[225.6,100,15.5],[226.2,19.7,25.9],[240,100,50],[240,100,83.3],[240,100,37.1],[240,32.3,61.8],[240,100,25.3],[240,20,42.2],[240,100,20.4],[240,20.2,33.9],[240,100,15.5],[240,19.7,25.9],[254.8,100,50],[254.8,100,83.3],[254.6,100,37.1],[254.3,32.3,61.8],[254.4,100,25.3],[254,20,42.2],[254.4,100,20.4],[255.4,20.2,33.9],[254.4,100,15.5],[253.8,19.7,25.9],[269.9,100,50],[269.6,100,83.3],[269.8,100,37.1],[269.5,32.3,61.8],[269.8,100,25.3],[269.3,20,42.2],[270,100,20.4],[269.1,20.2,33.9],[269.6,100,15.5],[270,19.7,25.9],[284.9,100,50],[285.2,100,83.3],[284.8,100,37.1],[284.8,32.3,61.8],[284.7,100,25.3],[284.7,20,42.2],[285,100,20.4],[284.6,20.2,33.9],[284.8,100,15.5],[286.2,19.7,25.9],[300,100,50],[300,100,83.3],[300,100,37.1],[300,32.3,61.8],[300,100,25.3],[300,20,42.2],[300,100,20.4],[300,20.2,33.9],[300,100,15.5],[300,19.7,25.9],[315.1,100,50],[314.8,100,83.3],[315.2,100,37.1],[315.2,32.3,61.8],[315.3,100,25.3],[315.3,20,42.2],[315,100,20.4],[315.4,20.2,33.9],[315.2,100,15.5],[313.8,19.7,25.9],[330.1,100,50],[330.4,100,83.3],[330.2,100,37.1],[330.5,32.3,61.8],[330.2,100,25.3],[330.7,20,42.2],[330,100,20.4],[330.9,20.2,33.9],[330.4,100,15.5],[330,19.7,25.9],[345.2,100,50],[345.2,100,83.3],[345.4,100,37.1],[345.7,32.3,61.8],[345.6,100,25.3],[346,20,42.2],[345.6,100,20.4],[344.6,20.2,33.9],[345.6,100,15.5],[346.2,19.7,25.9],[0,0,20],[0,0,31.4],[0,0,41.2],[0,0,51],[0,0,74.5],[0,0,100]],$e=["#000000","#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ffffff","#414141","#808080","#ff0000","#ffaaaa","#bd0000","#bd7e7e","#810000","#815656","#680000","#684545","#4f0000","#4f3535","#ff3f00","#ffbfaa","#bd2e00","#bd8d7e","#811f00","#816056","#681900","#684e45","#4f1300","#4f3b35","#ff7f00","#ffd4aa","#bd5e00","#bd9d7e","#814000","#816b56","#683400","#685645","#4f2700","#4f4235","#ffbf00","#ffeaaa","#bd8d00","#bdad7e","#816000","#817656","#684e00","#685f45","#4f3b00","#4f4935","#ffff00","#ffffaa","#bdbd00","#bdbd7e","#818100","#818156","#686800","#686845","#4f4f00","#4f4f35","#bfff00","#eaffaa","#8dbd00","#adbd7e","#608100","#768156","#4e6800","#5f6845","#3b4f00","#494f35","#7fff00","#d4ffaa","#5ebd00","#9dbd7e","#408100","#6b8156","#346800","#566845","#274f00","#424f35","#3fff00","#bfffaa","#2ebd00","#8dbd7e","#1f8100","#608156","#196800","#4e6845","#134f00","#3b4f35","#00ff00","#aaffaa","#00bd00","#7ebd7e","#008100","#568156","#006800","#456845","#004f00","#354f35","#00ff3f","#aaffbf","#00bd2e","#7ebd8d","#00811f","#568160","#006819","#45684e","#004f13","#354f3b","#00ff7f","#aaffd4","#00bd5e","#7ebd9d","#008140","#56816b","#006834","#456856","#004f27","#354f42","#00ffbf","#aaffea","#00bd8d","#7ebdad","#008160","#568176","#00684e","#45685f","#004f3b","#354f49","#00ffff","#aaffff","#00bdbd","#7ebdbd","#008181","#568181","#006868","#456868","#004f4f","#354f4f","#00bfff","#aaeaff","#008dbd","#7eadbd","#006081","#567681","#004e68","#455f68","#003b4f","#35494f","#007fff","#aad4ff","#005ebd","#7e9dbd","#004081","#566b81","#003468","#455668","#00274f","#35424f","#003fff","#aabfff","#002ebd","#7e8dbd","#001f81","#566081","#001968","#454e68","#00134f","#353b4f","#0000ff","#aaaaff","#0000bd","#7e7ebd","#000081","#565681","#000068","#454568","#00004f","#35354f","#3f00ff","#bfaaff","#2e00bd","#8d7ebd","#1f0081","#605681","#190068","#4e4568","#13004f","#3b354f","#7f00ff","#d4aaff","#5e00bd","#9d7ebd","#400081","#6b5681","#340068","#564568","#27004f","#42354f","#bf00ff","#eaaaff","#8d00bd","#ad7ebd","#600081","#765681","#4e0068","#5f4568","#3b004f","#49354f","#ff00ff","#ffaaff","#bd00bd","#bd7ebd","#810081","#815681","#680068","#684568","#4f004f","#4f354f","#ff00bf","#ffaaea","#bd008d","#bd7ead","#810060","#815676","#68004e","#68455f","#4f003b","#4f3549","#ff007f","#ffaad4","#bd005e","#bd7e9d","#810040","#81566b","#680034","#684556","#4f0027","#4f3542","#ff003f","#ffaabf","#bd002e","#bd7e8d","#81001f","#815660","#680019","#68454e","#4f0013","#4f353b","#333333","#505050","#696969","#828282","#bebebe","#ffffff"],Me={d:"°",c:"⌀",p:"±"},_e=(e,t)=>{e=e.replace(/%%(.)/g,((e,t)=>Me[t]||t));const n=t?.encoding;let r,o=n instanceof TextDecoder?n:void 0,s="";const i=[],l=e=>{s&&(i.push(s),s=""),i.push(e)};for(let t=0;t<e.length;t++)switch(r=e[t]){default:s+=r;break;case"\\":switch(r=e[++t]){default:s+=r;break;case"P":s+="\n";break;case"f":case"F":{let n="";for(;r=e[++t];){if(";"===r){l({f:n});break}if("|"===r){const r={f:n},o=e.indexOf(";",++t);for(const n of e.slice(t,o).split("|"))r[n[0]]=+n.slice(1);t=o,l(r);break}n+="\\"===r?e[++t]:r}break}case"S":{let n,o="",s="";for(;r=e[++t];){if(";"===r){n&&l({S:[o,n,s]});break}"\\"===r?n?s+=e[++t]:o+=e[++t]:n?s+=r:"^"===r||"/"===r||"#"===r?n=r:o+=r}break}case"H":case"W":const i=++t,[,a,c]=e.slice(i,t=e.indexOf(";",t)).match(/^(\d*(?:\.\d+)?)(\D*)$/);l({[r]:[+a,c]});break;case"Q":case"A":case"C":case"T":{const n=++t;l({[r]:+e.slice(n,t=e.indexOf(";",t))});break}case"L":case"O":case"K":l({[r]:1});break;case"l":case"o":case"k":l({[r.toUpperCase()]:0});break;case"U":case"u":"+"===e[t+1]?(s+=String.fromCodePoint(parseInt(e.substr(t+2,4),16)),t+=5):s+=r;break;case"M":case"m":n?"+"===e[t+1]&&"1"===e[t+2]?(s+=(o=o||new TextDecoder(n)).decode(new Uint8Array([parseInt(e.substr(t+3,2),16),parseInt(e.substr(t+5,2),16)])),t+=6):s+=r:s+="\\"+r}break;case"{":{let n=1;const o=t;for(;r=e[++t];)if("{"===r)n++;else if("}"===r){if(0==--n){l(_e(e.slice(o+1,t)));break}}else"\\"===r&&t++;break}}return s&&i.push(s),i},ke={d:"°",c:"⌀",p:"±"},Ie=(e,t)=>Math.abs(e-t)<.015625,Ne=(()=>{const e=(e,t)=>{const[n,r]=(""+e).split("e");return+(n+"e"+(r?+r+t:t))};return(t,n)=>e(Math.round(e(t,n)),-n)})(),De=e=>e?e.trim():e,Oe=(e,t)=>De(K(e,t)),Be=(e,t,n)=>{const r=+K(e,t);if(isNaN(r))return void 0===n?NaN:n;if(Math.abs(r)>1e6)throw Error(`group code ${t} is invalid (${r})`);const o=Math.round(r);return Math.abs(o-r)<1e-8?o:r},Pe=(e,...t)=>t.map((t=>Be(e,t))),je=(e,...t)=>t.map((t=>-Be(e,t))),Re={DIMSCALE:[40,40,1],DIMTP:[47,40,NaN],DIMTM:[48,40,NaN],DIMTOL:[71,70,0],DIMTXT:[140,40,1],DIMLFAC:[144,40,1],DIMCLRT:[178,70,NaN],DIMDEC:[271,70,4]},He=e=>e>0?"+"+e:e<0?String(e):" 0",ze=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Ve=(e,t)=>{let n,r="<"+e;for(const[e,o]of Object.entries(t))o&&("children"===e?n=o:r+=` ${e}="${"string"==typeof o?ze(o):o}"`);return"line"!==e&&"polyline"!==e&&"polygon"!==e&&"circle"!==e&&"path"!==e||(t.fill||(r+=' fill="none"'),r+=' vector-effect="non-scaling-stroke"'),"text"===e&&(r+=' stroke="none" style="white-space:pre"'),r+=n?`>${Array.isArray(n)?n.join(""):n}</${e}>`:"/>",r},We=Ve,Ge=(e,t)=>Ne(180*Math.atan2(e||0,t||0)/Math.PI,5)||0,Fe=(e,t,n=0)=>{if(e.length<=n)return"";const r=Fe(e,t,n+1),o=e[n];if("string"==typeof o)return o+r;if(Array.isArray(o))return Fe(o,t)+r;if(o.S)return We("tspan",{children:[Ve("tspan",{dy:"-.5em",children:o.S[0]}),Ve("tspan",{dy:"1em",dx:o.S[0].length/-2+"em",children:o.S[2]})]})+r;if(o.f){const e={family:o.f,weight:o.b?700:400,style:o.i?"italic":void 0},n=t?.resolveFont?.(e)??e;return Ve("tspan",{"font-family":n.family,"font-weight":n.weight,"font-style":n.style,"font-size":n.scale&&1!==n.scale?n.scale+"em":void 0,children:r})}return o.Q?Ve("tspan",{"font-style":`oblique ${o.Q}deg`,children:r}):r},Ke={warn:console.debug,resolveColorIndex:e=>$e[e]??"#888",resolveLineWeight:e=>-3===e?.5:10*e},Ye=e=>({"data-5":Oe(e,5)}),Xe=({k:e,o:t,u:n})=>{const r=[];return e&&r.push("line-through"),t&&r.push("overline"),n&&r.push("underline"),r.join(" ")},Ue=[,"text-after-edge","central","text-before-edge"],Je=[,"middle","end",,"middle"],qe=(e,t)=>{let n="";for(let r=0;r<e.length;r++)n+=`${e[r]},${t[r]} `;return n.slice(0,-1)},Qe=(e,t)=>{const{warn:n,resolveColorIndex:r,resolveLineWeight:o}=t,s={};for(const t of e.TABLES?.LAYER??[])if("LAYER"===K(t,0)){const e=Be(t,370);s[K(t,2)]={color:r(+K(t,62)),ltype:K(t,6),strokeWidth:isNaN(e)?void 0:e}}const i={};for(const t of e.TABLES?.LTYPE??[])if("LTYPE"===K(t,0)){const e=te(t,49).map(De).map((e=>e.startsWith("-")?e.slice(1):e)),n=0===e.length||e.length%2==1?e:"0"===e[0]?e.slice(1):e.concat("0");0!==n.length&&(i[K(t,2)]={strokeDasharray:n.join(" ")})}const l=e=>{const t=Oe(e,62);if("0"===t)return"currentColor";if(t&&"256"!==t)return r(+t);const n=s[Oe(e,8)];return n?n.color:void 0},a=e=>l(e)||"currentColor",c=e=>i[K(e,6)??s[K(e,8)]?.ltype]?.strokeDasharray,f=e=>{const t=Oe(e,370);switch(t){case"-3":return o(-3);case"-2":return o(s[K(e,8)]?.strokeWidth??-3);case"-1":return;default:return o(+t/100)}},d=e=>{const t=+Oe(e,230);if(t&&Math.abs(t+1)<1/64)return"transform:rotateY(180deg)"},u=e=>Object.assign(Ye(e),{stroke:a(e),"stroke-width":f(e),"stroke-dasharray":c(e),style:d(e)});return{POINT:()=>{},LINE:e=>{const t=Pe(e,10,11),n=je(e,20,21);return[Ve("line",{...u(e),x1:t[0],y1:n[0],x2:t[1],y2:n[1]}),t,n]},POLYLINE:(e,t)=>{const n=t.map((e=>Be(e,10))),r=t.map((e=>-Be(e,20))),o=+(K(e,70)??0),s=Object.assign(u(e),{points:qe(n,r)});return[Ve(1&o?"polygon":"polyline",{...s}),n,r]},LWPOLYLINE:e=>{const t=te(e,10).map((e=>+e)),n=te(e,20).map((e=>-e)),r=+(K(e,70)??0),o=Object.assign(u(e),{points:qe(t,n)});return[Ve(1&r?"polygon":"polyline",{...o}),t,n]},CIRCLE:e=>{const[t,n,r]=Pe(e,10,20,40);return[Ve("circle",{...u(e),cx:t,cy:-n,r:r}),[t-r,t+r],[-n-r,-n+r]]},ARC:e=>{const[t,n,r]=Pe(e,10,20,40),o=Be(e,50,0),s=Be(e,51,0),i=o*Math.PI/180,l=s*Math.PI/180,a=t+r*Math.cos(i),c=n+r*Math.sin(i),f=t+r*Math.cos(l),d=n+r*Math.sin(l),h=(s-o+360)%360<=180?"0":"1";return[Ve("path",{...u(e),d:`M${a} ${-c}A${r} ${r} 0 ${h} 0 ${f} ${-d}`}),[a,f],[-c,-d]]},ELLIPSE:e=>{const t=Be(e,41,0),r=Be(e,42,2*Math.PI);if(Ie(t,0)&&Ie(r,2*Math.PI)){const[t,n,r,o]=Pe(e,10,20,11,21),s=Math.hypot(r,o),i=Be(e,40)*s,l=-Math.atan2(o,r),a=l?`rotate(${180*l/Math.PI} ${t} ${-n})`:void 0;return[Ve("ellipse",{...u(e),cx:t,cy:-n,rx:s,ry:i,transform:a}),[t-s,t+s],[-n-i,-n+i]]}n("Elliptical arc cannot be rendered yet.")},LEADER:e=>{const t=te(e,10).map((e=>+e)),n=te(e,20).map((e=>-e));return[Ve("polyline",{...Ye(e),points:qe(t,n),stroke:a(e),"stroke-dasharray":c(e)}),t,n]},HATCH:e=>{const t=e.slice(e.findIndex((e=>92===e[0])),e.findIndex((e=>97===e[0]))),n=te(t,10).map((e=>+e)),r=te(t,20).map((e=>-e)),o=te(t,11).map((e=>+e)),s=te(t,21).map((e=>-e));let i="";for(let e=0;e<n.length;e++)o[e]?n[e]===o[e-1]&&r[e]===s[e-1]?i+=`L${o[e]} ${s[e]}`:i+=`M${n[e]} ${r[e]}L${o[e]} ${s[e]}`:i+=`${0===e?"M":"L"}${n[e]} ${r[e]}`;return[Ve("path",{...Ye(e),d:i,fill:a(e),"fill-opacity":".3"}),[...n,...o],[...r,...s]]},SOLID:e=>{const[t,n,r,o]=Pe(e,10,11,12,13),[s,i,l,c]=je(e,20,21,22,23),f=`M${t} ${s}L${n} ${i}L${r} ${l}${r!==o||l!==c?`L${o} ${c}`:""}Z`;return[Ve("path",{...Ye(e),d:f,fill:a(e)}),[t,n,r,o],[s,i,l,c]]},TEXT:e=>{const[n,r]=Pe(e,10,40),[o,s]=je(e,20,50),i=((e,t)=>{e=((e,t)=>(e=(e=>e.replace(/\\[uU]\+([0-9a-fA-F]{4})/g,((e,t)=>String.fromCodePoint(parseInt(t,16)))))(e),t?((e,t)=>{let n=t instanceof TextDecoder?t:void 0;return e.replace(/\\[mM]\+1([0-9a-fA-F]{2})([0-9a-fA-F]{2})/g,((e,r,o)=>(n=n||new TextDecoder(t)).decode(new Uint8Array([parseInt(r,16),parseInt(o,16)]))))})(e,t):e))(e,t?.encoding);let n=0,r={text:""};const o=[r];for(const t of e.matchAll(/%%(\d\d\d|.)/g)){r.text+=e.slice(n,t.index);const s=t[1].toLowerCase(),i=ke[s];i?r.text+=i:3===s.length?r.text+=String.fromCodePoint(+s):"k"===s||"o"===s||"u"===s?(r={...r,text:""},r[s]?delete r[s]:r[s]=1,o.push(r)):r.text+=s,n=t.index+t[0].length}return r.text+=e.slice(n),o.filter((e=>e.text))})(K(e,1)||"",t);return[Ve("text",{...Ye(e),x:n,y:o,fill:a(e),"font-size":r,"dominant-baseline":Ue[Oe(e,73)],"text-anchor":Je[Oe(e,72)],transform:s&&`rotate(${s} ${n} ${o})`,"text-decoration":1===i.length&&Xe(i[0]),children:1===i.length?i[0].text:i.map((e=>Ve("tspan",{"text-decoration":Xe(e),children:e.text})))}),[n,n+r*i.length],[o,o+r]]},MTEXT:e=>{const[n,r]=Pe(e,10,40),o=-Be(e,20),s=(e=>{for(let t=e.length-1;t>=0;t--)switch(e[t][0]){case 50:return Ne(+e[t][1],5)||0;case 11:return Ge(Be(e,12),+e[t][1]);case 21:return Ge(+e[t][1],Be(e,11))}return 0})(e),{dominantBaseline:i,textAnchor:l}=(e=>{let t,n;switch(e=+e){case 1:case 2:case 3:t="text-before-edge";break;case 4:case 5:case 6:t="central";break;case 7:case 8:case 9:t="text-after-edge"}switch(e%3){case 2:n="middle";break;case 0:n="end"}return{dominantBaseline:t,textAnchor:n}})(Oe(e,71)),c=te(e,3).join("")+(K(e,1)??"");return[Ve("text",{...Ye(e),x:n,y:o,fill:a(e),"font-size":r,"dominant-baseline":i,"text-anchor":l,transform:s?`rotate(${-s} ${n} ${o})`:void 0,children:Fe(_e(c,t),t)}),[n,n+r*c.length],[o,o+r]]},DIMENSION:o=>{const s=((e,t)=>{const n=K(t,3),r=e.TABLES?.DIMSTYLE?.find((e=>K(e,2)===n)),o=(e=>{const t=new Map;for(let n=0;n<e.length;n++)if(1e3===e[n][0]&&"DSTYLE"===e[n][1].trim()&&1002===e[n+1][0]&&"{"===e[n+1][1].trim()){for(let r=n+2;r<e.length&&1002!==e[r][0];r++)1070===e[r][0]&&t.set(+e[r][1],e[++r][1]);return t}})(t),s=Object.create(null);for(const[t,[n,i,l]]of Object.entries(Re)){const a=o?.get(n)??K(r,n)??K(e.HEADER?.["$"+t],i);s[t]=void 0!==a?+a:l}return s})(e,o);let i,l,u="",h="text-after-edge",p="middle";const g=Be(o,11),m=-Be(o,21),b=[g],v=[m],y=Be(o,70,0);switch(7&y){case 0:case 1:{const[e,t,n]=Pe(o,10,13,14),[r,s,a]=je(o,20,23,24);l=Math.round(-Be(o,50,0)||0),l%180==0?(i=Math.abs(t-n),u=Ve("path",{stroke:"currentColor",d:`M${t} ${s}L${t} ${r}L${n} ${r}L${n} ${a}`}),l=0):(i=Math.abs(s-a),u=Ve("path",{stroke:"currentColor",d:`M${t} ${s}L${e} ${s}L${e} ${a}L${n} ${a}`})),b.push(t,n),v.push(s,a);break}case 2:case 5:return void n("Angular dimension cannot be rendered yet.",o);case 3:case 4:{const[e,t]=Pe(o,10,15),[n,r]=je(o,20,25);i=Math.hypot(e-t,n-r),u=Ve("path",{stroke:"currentColor",d:`M${t} ${r}L${g} ${m}`}),b.push(e,t),v.push(n,r);break}case 6:{const[e,t]=Pe(o,13,14),[n,r]=je(o,23,24);if(64&y){const s=Be(o,10);i=Math.abs(s-+e),u=Ve("path",{stroke:"currentColor",d:`M${e} ${n}L${e} ${r}L${t} ${r}L${g} ${m}`}),l=-90}else{const s=-Be(o,20);i=Math.abs(s-+n),u=Ve("path",{stroke:"currentColor",d:`M${e} ${n}L${t} ${n}L${t} ${r}L${g} ${m}`})}h="central",p="middle",b.push(e,t),v.push(n,r);break}default:return void n("Unknown dimension type.",o)}let E;{const e=((e,t,n)=>{const r=Be(t,42,-1),o=Ne(-1!==r?r:e*n.DIMLFAC,n.DIMDEC);let s=String(o);if(n.DIMTOL){const e=n.DIMTP,t=n.DIMTM;(e||t)&&(s=e===t?`${o}  ±${e}`:`${o}  {\\S${He(e)}^${He(-t)};}`)}const i=K(t,1);return i?i.replace(/<>/,s):s})(i,o,s),n=s.DIMTXT*s.DIMSCALE,c=s.DIMCLRT;E=Ve("text",{x:g,y:m,fill:isNaN(c)?a(o):0===c?"currentColor":r(c),"font-size":n,"dominant-baseline":h,"text-anchor":p,transform:l&&`rotate(${l} ${g} ${m})`,children:Fe(_e(e,t),t)})}return[Ve("g",{...Ye(o),color:a(o),"stroke-width":f(o),"stroke-dasharray":c(o),style:d(o),children:u+E}),b,v]},ACAD_TABLE:e=>{const o=[];{let t=e.findIndex((e=>171===e[0]));for(let n=t+1;n<e.length;n++)171===e[n][0]&&(o.push(e.slice(t,n)),t=n);o.push(e.slice(t,e.length))}const s=te(e,141).map((e=>+e)).reduce(((e,t)=>(e.push(e[e.length-1]+t),e)),[0]),i=te(e,142).map((e=>+e)).reduce(((e,t)=>(e.push(e[e.length-1]+t),e)),[0]),l=a(e),c=r(+K(e,64));let f=s.map((e=>Ve("line",{stroke:l,x1:"0",y1:e,x2:i[i.length-1],y2:e}))).join(""),d=0,u=0;for(const a of o){const o=i[d],h=s[u],p=+K(a,64);+K(a,173)||(f+=Ve("line",{x1:o,y1:h,x2:o,y2:s[u+1],stroke:l})),"2"===Oe(a,171)?n('Table cell type "block" cannot be rendered yet.',e,a):f+=Ve("text",{x:o,y:h,fill:isNaN(p)?c:r(p),children:Fe(_e(K(a,1)??""),t)}),++d==i.length-1&&(d=0,u++)}f+=Ve("line",{x1:i[i.length-1],y1:"0",x2:i[i.length-1],y2:s[s.length-1],stroke:l});const h=Be(e,10),p=-Be(e,20);return[Ve("g",{...Ye(e),"font-size":Oe(e,140),"dominant-baseline":"text-before-edge",transform:`translate(${h},${p})`,children:f}),i.map((e=>e+h)),s.map((e=>e+p))]},INSERT:n=>{const r=Be(n,10,0),o=-Be(n,20,0),s=-Be(n,50),i=Be(n,41,1)||1,a=Be(n,42,1)||1,d=[r||o?`translate(${r},${o})`:"",1!==i||1!==a?`scale(${i},${a})`:"",s?`rotate(${s})`:""].filter(Boolean).join(" "),h=e.BLOCKS?.[K(n,2)],p=h?.slice("BLOCK"===K(h[0],0)?1:0,"ENDBLK"===K(h[h.length-1],0)?-1:void 0),[g,m]=Ze(e,p,t);return[Ve("g",{...u(n),color:l(n),"stroke-width":f(n),"stroke-dasharray":c(n),transform:d,children:g}),[r+m.x*i,r+(m.x+m.w)*i],[o+m.y*a,o+(m.y+m.h)*a]]}}},Ze=(e,t,n)=>{const{warn:r}=n,o=Qe(e,n);let s="",i=1/0,l=-1/0,a=1/0,c=-1/0;if(t)for(let e=0;e<t.length;e++){const n=t[e],f=K(n,0);if(!f)continue;const d=[];for(;"VERTEX"===K(t[e+1],0);)d.push(t[++e]);0!==d.length&&"SEQEND"===K(t[e+1],0)&&e++;try{const e=o[f];if(e){const t=e(n,d);if(t){s+=t[0];const e=t[1].filter((e=>isFinite(e))),n=t[2].filter((e=>isFinite(e)));i=Math.min(i,...e),l=Math.max(l,...e),a=Math.min(a,...n),c=Math.max(c,...n)}}else r(`Unknown entity type: ${f}`,n)}catch(e){r(`Error occurred: ${e}`,n)}}return[s,{x:i,y:a,w:l-i,h:c-a}]};var et=[SVGCircleElement,SVGEllipseElement,SVGImageElement,SVGLineElement,SVGPathElement,SVGPolygonElement,SVGPolylineElement,SVGRectElement,SVGTextElement,SVGUseElement],tt=function(e,t,n,r){for(var o=n.firstElementChild;o;o=o.nextElementSibling)if(o instanceof SVGGElement)tt(e,t,o,r);else for(var s=0,i=et;s<i.length;s++)o instanceof i[s]&&r(o)&&e.push(o);return e},nt=function(e,t,n){return t<=e&&e<=n},rt=function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))},ot=function(e,t,n,r,o){var s=e.createSVGRect();return s.x=Math.min(t,r),s.y=Math.min(n,o),s.width=Math.abs(t-r),s.height=Math.abs(n-o),s},st=function(e,t,n){if(!t)return n;var r=e.createSVGPoint();r.x=n.x,r.y=n.y;var o=r.matrixTransform(t);r.x+=n.width,r.y+=n.height;var s=r.matrixTransform(t);return ot(e,o.x,o.y,s.x,s.y)};const it=R('<div data-zoom-on-wheel="max-scale: 10000" data-pan-on-drag="" style="height: 100%; contain: paint; background-color: #123"></div>',2),lt=R('<a download="" style="position: absolute; right: 16px; top: 8px; color: cyan">Download SVG File</a>',2),at=R('<div class="coordinate" style="pointer-events: none; position: absolute; right: 16px; bottom: 8px; text-align: right; color: #ddd; text-shadow: 0 1px #123,0 -1px #123,1px 0 #123,-1px 0 #123,0 0 4px #123"></div>',2),ct=R('<div style="position: absolute; right: 0; top: 0; bottom: 0; overflow: auto; background: white;"><table><tbody></tbody></table></div>',6),ft=R('<tr><th colspan="2"></th></tr>',4),dt=R('<tr><td style="text-align: right"></td><td></td></tr>',6),ut=new TextDecoder("ms932"),ht=document.head.appendChild(document.createElement("style")),pt=()=>{const e=p((()=>((e,t)=>{const[n,{x:r,y:o,w:s,h:i}]=((e,t)=>{const n=t?{...Ke,...t}:Ke;return Ze(e,e.ENTITIES,n)})(e,t);return Ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`${r} ${o} ${s} ${i}`,width:s,height:i,children:n})})(me(),{resolveColorIndex:e=>{const[t,n,r]=Ae[e]??[0,0,50];return`hsl(${t},${n}%,${Math.round(.8*r+20)}%)`},resolveFont:e=>({...e,family:e.family+",var(--font-family)"}),encoding:ut}))),t=p((()=>"data:image/svg+xml,"+encodeURIComponent(e()))),[n,r]=d([]),o=p((()=>n().map((e=>((e,t)=>{{const n=e.ENTITIES?.find((e=>K(e,5)===t));if(n)return n}if(e.BLOCKS)for(const n of Object.values(e.BLOCKS)){const e=n.find((e=>K(e,5)===t));if(e)return e}})(me(),e))).filter(Boolean)));return h((()=>{ht.textContent=n().map((e=>`[data-5="${e}"]`)).join(",")+"{stroke-width:3px}"})),[(()=>{const t=it.cloneNode(!0);var n;return n=t,setTimeout((()=>{const e=n.parentElement.getElementsByClassName("coordinate")[0],t=n.getElementsByTagName("svg")[0];t.style.padding="8px 16px",t.setAttribute("buffered-rendering","static"),t.onpointermove=({currentTarget:t,clientX:n,clientY:r})=>{const o=t,{x:s,y:i}=Object.assign(o.createSVGPoint(),{x:n,y:r}).matrixTransform(o.getScreenCTM().inverse());e.textContent=`${Math.round(s)}, ${Math.round(-i)}`},t.onpointerleave=()=>e.textContent="",t.oncontextmenu=e=>e.preventDefault(),function(e){var t,n,r,o=[],s=e.svg,i=function(e){return ot(s,n-document.documentElement.scrollLeft-document.body.scrollLeft,r-document.documentElement.scrollTop-document.body.scrollTop,e.clientX,e.clientY)},l=document.body.appendChild(document.createElement("div")),a=l.style;l.className="svg-drag-select-area-overlay",a.position="fixed",a.pointerEvents="none";var c=function(n){var r=this;if((n.pointerId||0)===t){var s=i(n),l=st(this,this.getScreenCTM().inverse(),s),c=st(this,this.getCTM(),l),f=e.referenceElement||null,d=function(){return function(e,t,n,r){return e.getEnclosureList?Array.prototype.slice.call(e.getEnclosureList(r,t)):tt([],e,t||e,(function(e){return function(e,t){var n=e.x,r=n+e.width,o=e.y,s=o+e.height;return nt(t.x,n,r)&&nt(t.x+t.width,n,r)&&nt(t.y,o,s)&&nt(t.y+t.height,o,s)}(n,e.getBBox())}))}(r,f,l,c)},u=function(){return function(e,t,n,r){return e.getIntersectionList?Array.prototype.slice.call(e.getIntersectionList(r,t)):tt([],e,t||e,(function(e){return function(e,t){var n=e.x,r=n+e.width,o=e.y,s=o+e.height;return(nt(t.x,n,r)||nt(t.x+t.width,n,r)||nt(n,t.x,t.x+t.width))&&(nt(t.y,o,s)||nt(t.y+t.height,o,s)||nt(o,t.y,t.y+t.height))}(n,e.getBBox())}))}(r,f,l,c)},h="function"==typeof e.selector?e.selector({svg:this,referenceElement:f,pointerEvent:n,dragAreaInClientCoordinate:s,dragAreaInSvgCoordinate:l,dragAreaInInitialSvgCoordinate:c,getEnclosures:d,getIntersections:u}):"intersection"===e.selector?u():d(),p=rt(h,o),g=rt(o,h);if(a.left=s.x+"px",a.top=s.y+"px",a.width=s.width+"px",a.height=s.height+"px",p.length||g.length){var m=o;o=h,e.onSelectionChange&&e.onSelectionChange({svg:this,referenceElement:f,pointerEvent:n,dragAreaInClientCoordinate:s,dragAreaInSvgCoordinate:l,dragAreaInInitialSvgCoordinate:c,selectedElements:o,previousSelectedElements:m,newlySelectedElements:p,newlyDeselectedElements:g})}}},f=function(s){var i;!1!==s.isPrimary&&void 0===t&&(e.onSelectionStart&&e.onSelectionStart({svg:this,referenceElement:e.referenceElement||null,pointerEvent:s,cancel:function(){return i=1}}),i||(t=s.pointerId||0,n=s.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,r=s.clientY+document.documentElement.scrollTop+document.body.scrollTop,o=[],c.call(this,s),a.display="",this.setPointerCapture&&this.setPointerCapture(t)))},d=function(n){if((n.pointerId||0)===t){this.releasePointerCapture&&this.releasePointerCapture(t),t=void 0,a.display="none";var r=i(n),s=st(this,this.getScreenCTM().inverse(),r),l=st(this,this.getCTM(),s);e.onSelectionEnd&&e.onSelectionEnd({svg:this,referenceElement:e.referenceElement||null,pointerEvent:n,dragAreaInClientCoordinate:r,dragAreaInSvgCoordinate:s,dragAreaInInitialSvgCoordinate:l,selectedElements:o})}},u=(s.style.touchAction,getComputedStyle(s).touchAction);if("PointerEvent"in window)s.getAttribute("draggable"),s.style.pointerEvents,"none"!==u&&"pinch-zoom"!==u&&(s.style.touchAction="pinch-zoom"),s.style.pointerEvents="all",s.setAttribute("draggable","false"),s.addEventListener("pointerdown",f),s.addEventListener("pointermove",c),s.addEventListener("pointerup",d),s.addEventListener("pointercancel",d);else if("ontouchend"in window){"manipulation"!==u&&(s.style.touchAction="manipulation");var h=function(e,t){var n={pointerId:t.identifier};return Object.keys(Object.getPrototypeOf(t)).forEach((function(e){return n[e]=t[e]})),Object.keys(Object.getPrototypeOf(e)).forEach((function(t){return n[t]=e[t]})),n},p=function(e){if(void 0!==t)for(var n=0;n<e.changedTouches.length;n++)e.changedTouches[n].identifier===t&&d.call(this,h(e,e.changedTouches[0]))};s.addEventListener("touchstart",(function(e){1===e.touches.length&&f.call(this,h(e,e.touches[0]))})),s.addEventListener("touchmove",(function(e){1===e.touches.length&&(e.preventDefault(),c.call(this,h(e,e.touches[0])))})),s.addEventListener("touchend",p),s.addEventListener("touchcancel",p)}else s.addEventListener("mousedown",f),s.addEventListener("mousemove",c),s.addEventListener("mouseup",d)}({svg:t,selector:"intersection",onSelectionStart:({pointerEvent:e,cancel:t})=>{2===e.button?r([]):t()},onSelectionChange:({selectedElements:e})=>{const t=new Set;for(const n of e){const e=n.closest("[data-5]")?.getAttribute("data-5");e&&t.add(e)}r([...t])}})})),u((()=>t.innerHTML=e())),t})(),(()=>{const e=lt.cloneNode(!0);return u((()=>{return n=e,r="href",void(!1===(o=t())||null==o?n.removeAttribute(r):n.setAttribute(r,o));var n,r,o})),e})(),at.cloneNode(!0),k(N,{get when(){return 0!==o().length},get children(){const e=ct.cloneNode(!0);return H(e.firstChild.firstChild,k(I,{get each(){return o()},children:(e,t)=>[(()=>{const e=ft.cloneNode(!0);return H(e.firstChild,(()=>{const e=p((()=>0===t()),void 0,!0);return()=>e()?`${o().length} ${1===o().length?"entity":"entities"}`:" "})()),e})(),k(I,{each:e,children:([e,t])=>(()=>{const n=dt.cloneNode(!0),r=n.firstChild,o=r.nextSibling;return H(r,e),H(o,t),n})()})]})),e}})]},gt=R('<textarea readonly="" style="width: 100%; height: 100%; resize: none;"></textarea>',2),mt=R('<section style="height: 100%; overflow: auto; padding: .5em 1em;"></section>',2),bt=R('<section style="height: 100%; overflow: auto; padding: 1em;"></section>',2),vt=R("<h3></h3>",2),yt=R('<table style="margin-bottom: 1em;"><tbody></tbody></table>',4),Et=R('<tr><td style="text-align: right"></td><td></td></tr>',6),xt=R('<div style="margin-bottom: 1em"></div>',2),wt=e=>{const t=[];for(const n of e)for(const[e]of n)t.includes(e)||t.push(e);return t.sort(((e,t)=>e-t))},St=()=>k(D,{get children(){return[k(O,{get when(){return!ve()},get children(){return[]}}),k(O,{get when(){return"PREVIEW"===ve()},get children(){return k(pt,{})}}),k(O,{get when(){return"DXF"===ve()},get children(){const e=gt.cloneNode(!0);return H(e,(()=>(e=>{let t="";for(const n in e){t+="0\nSECTION\n2\n",t+=n,t+="\n";const r=e[n];switch(n){default:for(const e of r)t=ee(t,e);break;case"HEADER":for(const e in r){t+="9\n",t+=e,t+="\n";const n=r[e];for(const[e,r]of n)t+=e,t+="\n",t+=r,t+="\n"}break;case"CLASSES":for(const e in r){const n=r[e];t+="0\nCLASS\n1\n",t+=e,t+="\n";for(const[e,r]of n)0!==e&&(t+=e,t+="\n",t+=r,t+="\n")}break;case"TABLES":for(const e in r){for(const n of r[e])t=ee(t,n);t+="0\nENDTAB\n"}break;case"BLOCKS":for(const e in r)for(const n of r[e])t=ee(t,n);break;case"OBJECTS":for(const e of r)for(const[n,r]of e)t+=n,t+="\n",t+=r,t+="\n";break;case"ACDSDATA":for(const e of r)for(const n of e)t=ee(t,n)}t+="0\nENDSEC\n"}return t+="0\nEOF\n",t})(me()))),e}}),k(O,{get when(){return"JSON"===ve()},get children(){const e=gt.cloneNode(!0);return H(e,(()=>JSON.stringify(me(),void 0,2))),e}}),k(O,{get when(){return"HEADER"===ve()},get children(){return k(Te,{get columns(){return[9,...wt(Object.values(me().HEADER))]},get records(){return Object.entries(me().HEADER)},tdSelector:e=>9===e?([e])=>e:([,t])=>te(t,e).join("\n")})}}),k(O,{get when(){return"CLASSES"===ve()},get children(){return k(Te,{get columns(){return[1,...wt(Object.values(me().CLASSES))]},get records(){return Object.entries(me().CLASSES)},tdSelector:e=>1===e?([e])=>e:([,t])=>te(t,e).join("\n")})}}),k(O,{get when(){return"TABLES"===ve()},get children(){return k(Te,{get columns(){return["TABLE",...wt(Object.values(me().TABLES).flat())]},get records(){return Object.entries(me().TABLES).flatMap((([e,t])=>t.map((t=>[e,t]))))},tdSelector:e=>"TABLE"===e?([e])=>e:([,t])=>te(t,e).join("\n")})}}),k(O,{get when(){return"BLOCKS"===ve()},get children(){return k(Te,{get columns(){return["BLOCK",...wt(Object.values(me().BLOCKS).flat())]},get records(){return Object.entries(me().BLOCKS).flatMap((([e,t])=>t.map((t=>[e,t]))))},tdSelector:e=>"BLOCK"===e?([e])=>e:([,t])=>te(t,e).join("\n")})}}),k(O,{get when(){return"ENTITIES"===ve()},get children(){return k(Te,{get columns(){return wt(me().ENTITIES)},get records(){return me().ENTITIES},tdSelector:e=>t=>te(t,e).join("\n")})}}),k(O,{get when(){return"OBJECTS"===ve()},get children(){const e=mt.cloneNode(!0);return H(e,k(I,{get each(){return me().OBJECTS},children:e=>[(()=>{const t=vt.cloneNode(!0);return H(t,(()=>K(e,0))),t})(),(()=>{const t=yt.cloneNode(!0);return H(t.firstChild,k(I,{each:e,children:([e,t])=>(()=>{const n=Et.cloneNode(!0),r=n.firstChild,o=r.nextSibling;return H(r,e),H(o,t),n})()})),t})()]})),e}}),k(O,{get when(){return"ACDSDATA"===ve()},get children(){const e=bt.cloneNode(!0);return H(e,k(I,{get each(){return me().ACDSDATA},children:e=>(()=>{const t=xt.cloneNode(!0);return H(t,k(Te,{get columns(){return wt(e)},records:e,tdSelector:e=>t=>te(t,e).join("\n")})),t})()})),e}})]}}),Ct=R('<label><input type="radio" name="section" hidden=""><span></span></label>',5),Lt=R('<input placeholder="filter" style="border: none; border-bottom: 1px solid #ccc; font-size: 0.875em; padding: .125rem .5rem">',1),Tt=R('<div style="flex: auto"></div>',2),At=({sectionName:e})=>(()=>{const t=Ct.cloneNode(!0),n=t.firstChild,r=n.nextSibling;return n.addEventListener("change",(e=>e.target.checked&&ye(e.target.value))),n.value=e,H(r,e),u((()=>n.checked=ve()===e)),t})(),$t=()=>k(N,{get when(){return ve()},get children(){return[k(N,{get when(){return["HEADER","CLASSES","TABLES","BLOCKS","ENTITIES"].includes(ve())},get children(){const e=Lt.cloneNode(!0);return e.$$input=e=>xe(e.target.value),u((()=>e.value=Ee())),e}}),Tt.cloneNode(!0),k(At,{sectionName:"PREVIEW"}),k(At,{sectionName:"DXF"}),k(At,{sectionName:"JSON"}),k(I,{get each(){return Object.keys(me())},children:e=>k(At,{sectionName:e})})]}});!function(e){for(let t=0,n=e.length;t<n;t++){const n=e[t];P.has(n)||(P.add(n),document.addEventListener(n,z))}}(["input"]),j((()=>k($t,{})),document.getElementsByTagName("nav")[0]),j((()=>k(St,{})),document.getElementsByTagName("main")[0]),((e,t)=>{let n=!1;e.addEventListener("dragenter",(()=>{n=!0,e.classList.add("dragging")})),e.addEventListener("dragover",(e=>{e.preventDefault(),n=!1;const t=e.dataTransfer;t&&(1===t.types.length&&"Files"===t.types[0]||t.items&&1===t.items.length&&"file"===t.items[0].kind?t.dropEffect="copy":t.dropEffect="none")})),e.addEventListener("dragleave",(()=>{n||e.classList.remove("dragging")})),e.addEventListener("drop",(t=>{t.stopPropagation(),t.preventDefault(),e.classList.remove("dragging");const n=t.dataTransfer;n&&(e=>{const t=performance.now();e.arrayBuffer().then((n=>{const r=Z(n),o=performance.now();console.debug(e.name,o-t+" [ms]"),document.getElementsByTagName("h2")[0].textContent=e.name,ye(""),be(r),ye("PREVIEW")}))})(n.files[0])}))})(document.body);
