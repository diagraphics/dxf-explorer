var on=Object.create,ke=Object.defineProperty,sn=Object.getPrototypeOf,ln=Object.prototype.hasOwnProperty,cn=Object.getOwnPropertyNames,an=Object.getOwnPropertyDescriptor;var fn=e=>ke(e,"__esModule",{value:!0});var un=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var dn=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of cn(t))!ln.call(e,r)&&r!=="default"&&ke(e,r,{get:()=>t[r],enumerable:!(n=an(t,r))||n.enumerable});return e},hn=e=>dn(fn(ke(e!=null?on(sn(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Dt=un((mo,Xe)=>{(function(e,t){typeof Xe!="undefined"?Xe.exports=t():typeof define=="function"&&typeof define.amd=="object"?define(t):this[e]=t()})("Clusterize",function(){"use strict";var e=function(){for(var l=3,i=document.createElement("b"),d=i.all||[];i.innerHTML="<!--[if gt IE "+ ++l+"]><i><![endif]-->",d[0];);return l>4?l:document.documentMode}(),t=navigator.platform.toLowerCase().indexOf("mac")+1,n=function(l){if(!(this instanceof n))return new n(l);var i=this,d={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,callbacks:{}};i.options={};for(var u=["rows_in_block","blocks_in_cluster","show_no_data_row","no_data_class","no_data_text","keep_parity","tag","callbacks"],h=0,x;x=u[h];h++)i.options[x]=typeof l[x]!="undefined"&&l[x]!=null?l[x]:d[x];for(var c=["scroll","content"],h=0,f;f=c[h];h++)if(i[f+"_elem"]=l[f+"Id"]?document.getElementById(l[f+"Id"]):l[f+"Elem"],!i[f+"_elem"])throw new Error("Error! Could not find "+f+" element");i.content_elem.hasAttribute("tabindex")||i.content_elem.setAttribute("tabindex",0);var p=s(l.rows)?l.rows:i.fetchMarkup(),m={},v=i.scroll_elem.scrollTop;i.insertToDOM(p,m),i.scroll_elem.scrollTop=v;var w=!1,y=0,g=!1,b=function(){t&&(g||(i.content_elem.style.pointerEvents="none"),g=!0,clearTimeout(y),y=setTimeout(function(){i.content_elem.style.pointerEvents="auto",g=!1},50)),w!=(w=i.getClusterNum())&&i.insertToDOM(p,m),i.options.callbacks.scrollingProgress&&i.options.callbacks.scrollingProgress(i.getScrollProgress())},S=0,$=function(){clearTimeout(S),S=setTimeout(i.refresh,100)};r("scroll",i.scroll_elem,b),r("resize",window,$),i.destroy=function(L){o("scroll",i.scroll_elem,b),o("resize",window,$),i.html((L?i.generateEmptyRow():p).join(""))},i.refresh=function(L){(i.getRowsHeight(p)||L)&&i.update(p)},i.update=function(L){p=s(L)?L:[];var M=i.scroll_elem.scrollTop;p.length*i.options.item_height<M&&(i.scroll_elem.scrollTop=0,w=0),i.insertToDOM(p,m),i.scroll_elem.scrollTop=M},i.clear=function(){i.update([])},i.getRowsAmount=function(){return p.length},i.getScrollProgress=function(){return this.options.scroll_top/(p.length*this.options.item_height)*100||0};var E=function(L,M){var O=s(M)?M:[];!O.length||(p=L=="append"?p.concat(O):O.concat(p),i.insertToDOM(p,m))};i.append=function(L){E("append",L)},i.prepend=function(L){E("prepend",L)}};n.prototype={constructor:n,fetchMarkup:function(){for(var l=[],i=this.getChildNodes(this.content_elem);i.length;)l.push(i.shift().outerHTML);return l},exploreEnvironment:function(l,i){var d=this.options;d.content_tag=this.content_elem.tagName.toLowerCase(),!!l.length&&(e&&e<=9&&!d.tag&&(d.tag=l[0].match(/<([^>\s/]*)/)[1].toLowerCase()),this.content_elem.children.length<=1&&(i.data=this.html(l[0]+l[0]+l[0])),d.tag||(d.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(l))},getRowsHeight:function(l){var i=this.options,d=i.item_height;if(i.cluster_height=0,!!l.length){var u=this.content_elem.children;if(!!u.length){var h=u[Math.floor(u.length/2)];if(i.item_height=h.offsetHeight,i.tag=="tr"&&a("borderCollapse",this.content_elem)!="collapse"&&(i.item_height+=parseInt(a("borderSpacing",this.content_elem),10)||0),i.tag!="tr"){var x=parseInt(a("marginTop",h),10)||0,c=parseInt(a("marginBottom",h),10)||0;i.item_height+=Math.max(x,c)}return i.block_height=i.item_height*i.rows_in_block,i.rows_in_cluster=i.blocks_in_cluster*i.rows_in_block,i.cluster_height=i.blocks_in_cluster*i.block_height,d!=i.item_height}}},getClusterNum:function(){return this.options.scroll_top=this.scroll_elem.scrollTop,Math.floor(this.options.scroll_top/(this.options.cluster_height-this.options.block_height))||0},generateEmptyRow:function(){var l=this.options;if(!l.tag||!l.show_no_data_row)return[];var i=document.createElement(l.tag),d=document.createTextNode(l.no_data_text),u;return i.className=l.no_data_class,l.tag=="tr"&&(u=document.createElement("td"),u.colSpan=100,u.appendChild(d)),i.appendChild(u||d),[i.outerHTML]},generate:function(l,i){var d=this.options,u=l.length;if(u<d.rows_in_block)return{top_offset:0,bottom_offset:0,rows_above:0,rows:u?l:this.generateEmptyRow()};var h=Math.max((d.rows_in_cluster-d.rows_in_block)*i,0),x=h+d.rows_in_cluster,c=Math.max(h*d.item_height,0),f=Math.max((u-x)*d.item_height,0),p=[],m=h;c<1&&m++;for(var v=h;v<x;v++)l[v]&&p.push(l[v]);return{top_offset:c,bottom_offset:f,rows_above:m,rows:p}},renderExtraTag:function(l,i){var d=document.createElement(this.options.tag),u="clusterize-";return d.className=[u+"extra-row",u+l].join(" "),i&&(d.style.height=i+"px"),d.outerHTML},insertToDOM:function(l,i){this.options.cluster_height||this.exploreEnvironment(l,i);var d=this.generate(l,this.getClusterNum()),u=d.rows.join(""),h=this.checkChanges("data",u,i),x=this.checkChanges("top",d.top_offset,i),c=this.checkChanges("bottom",d.bottom_offset,i),f=this.options.callbacks,p=[];h||x?(d.top_offset&&(this.options.keep_parity&&p.push(this.renderExtraTag("keep-parity")),p.push(this.renderExtraTag("top-space",d.top_offset))),p.push(u),d.bottom_offset&&p.push(this.renderExtraTag("bottom-space",d.bottom_offset)),f.clusterWillChange&&f.clusterWillChange(),this.html(p.join("")),this.options.content_tag=="ol"&&this.content_elem.setAttribute("start",d.rows_above),this.content_elem.style["counter-increment"]="clusterize-counter "+(d.rows_above-1),f.clusterChanged&&f.clusterChanged()):c&&(this.content_elem.lastChild.style.height=d.bottom_offset+"px")},html:function(l){var i=this.content_elem;if(e&&e<=9&&this.options.tag=="tr"){var d=document.createElement("div"),u;for(d.innerHTML="<table><tbody>"+l+"</tbody></table>";u=i.lastChild;)i.removeChild(u);for(var h=this.getChildNodes(d.firstChild.firstChild);h.length;)i.appendChild(h.shift())}else i.innerHTML=l},getChildNodes:function(l){for(var i=l.children,d=[],u=0,h=i.length;u<h;u++)d.push(i[u]);return d},checkChanges:function(l,i,d){var u=i!=d[l];return d[l]=i,u}};function r(l,i,d){return i.addEventListener?i.addEventListener(l,d,!1):i.attachEvent("on"+l,d)}function o(l,i,d){return i.removeEventListener?i.removeEventListener(l,d,!1):i.detachEvent("on"+l,d)}function s(l){return Object.prototype.toString.call(l)==="[object Array]"}function a(l,i){return window.getComputedStyle?window.getComputedStyle(i)[l]:i.currentStyle[l]}return n})});var J={};function qe(e){J.context=e}function pn(){return{...J.context,id:`${J.context.id}${J.context.count++}.`,count:0}}var Je=(e,t)=>e===t,Qe=null,et=Ze,le={},ne=1,xe=2,tt={owned:null,cleanups:null,context:null,owner:null},[Er,nt]=Q(!1,!0),D=null,B=null,ce=null,z=null,Y=null,_=null,rt=0;function fe(e,t){t&&(D=t);let n=B,r=D,o=e.length===0?tt:{owned:null,cleanups:null,context:null,owner:r,attached:!!t};D=o,B=null;let s;try{Me(()=>s=e(()=>ae(o)),!0)}finally{B=n,D=r}return s}function Q(e,t,n){let r={value:e,observers:null,observerSlots:null,pending:le,comparator:t?typeof t=="function"?t:Je:void 0};return[ot.bind(r),Oe.bind(r)]}function K(e,t){ve(De(e,t,!1))}function we(e,t){et=mn;let n=De(e,t,!1),r=st&&Ne(D,st.id);r&&(n.suspense=r),n.user=!0,Y&&Y.push(n)}function F(e,t,n){let r=De(e,t,!0);return r.pending=le,r.observers=null,r.observerSlots=null,r.state=0,r.comparator=n?typeof n=="function"?n:Je:void 0,ve(r),ot.bind(r)}function it(e){if(ce)return e();let t=ce=[],n=e();return ce=null,Me(()=>{for(let r=0;r<t.length;r+=1){let o=t[r];if(o.pending!==le){let s=o.pending;o.pending=le,Oe.call(o,s)}}},!1),n}function re(e){let t,n=B;return B=null,t=e(),B=n,t}function lt(e){return D===null||(D.cleanups===null?D.cleanups=[e]:D.cleanups.push(e)),e}function bn(e){let t=Symbol("context");return{id:t,Provider:gn(t),defaultValue:e}}function ct(e){let t=F(e);return F(()=>Pe(t()))}var st;function ot(){if(this.state&&this.sources){let e=z;z=null,this.state===ne?ve(this):je(this),z=e}if(B){let e=this.observers?this.observers.length:0;B.sources?(B.sources.push(this),B.sourceSlots.push(e)):(B.sources=[this],B.sourceSlots=[e]),this.observers?(this.observers.push(B),this.observerSlots.push(B.sources.length-1)):(this.observers=[B],this.observerSlots=[B.sources.length-1])}return _&&_.running&&_.sources.has(this)?this.tValue:this.value}function Oe(e,t){if(this.comparator){if(_&&_.running&&_.sources.has(this)){if(this.comparator(this.tValue,e))return e}else if(this.comparator(this.value,e))return e}return ce?(this.pending===le&&ce.push(this),this.pending=e,e):(_?((_.running||!t&&_.sources.has(this))&&(_.sources.add(this),this.tValue=e),_.running||(this.value=e)):this.value=e,this.observers&&(!z||this.observers.length)&&Me(()=>{for(let n=0;n<this.observers.length;n+=1){let r=this.observers[n];_&&_.running&&_.disposed.has(r)||(r.observers&&r.state!==xe&&at(r),r.state=ne,r.pure?z.push(r):Y.push(r))}if(z.length>1e6)throw z=[],new Error("Potential Infinite Loop Detected.")},!1),e)}function ve(e){if(!e.fn)return;ae(e);let t=D,n=B,r=rt;B=D=e,ft(e,e.value,r),_&&!_.running&&_.sources.has(e)&&(_.running=!0,ft(e,e.tValue,r),_.running=!1),B=n,D=t}function ft(e,t,n){let r;try{r=e.fn(t)}catch(o){ut(o)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?Oe.call(e,r,!0):_&&_.running&&e.pure?(_.sources.add(e),e.tValue=r):e.value=r,e.updatedAt=n)}function De(e,t,n){let r={fn:e,state:ne,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:D,context:null,pure:n};return D===null||D!==tt&&(_&&_.running&&D.pure?D.tOwned?D.tOwned.push(r):D.tOwned=[r]:D.owned?D.owned.push(r):D.owned=[r]),r}function ue(e){let t=e.state===ne&&e,n;if(e.suspense&&re(e.suspense.inFallback))return e.suspense.effects.push(e);let r=_&&_.running;for(;(e.fn||r&&e.attached)&&(e=e.owner);){if(r&&_.disposed.has(e))return;e.state===xe?n=e:e.state===ne&&(t=e,n=void 0)}if(n){let o=z;if(z=null,je(n),z=o,!t||t.state!==ne)return;if(r){for(e=t;(e.fn||e.attached)&&(e=e.owner);)if(_.disposed.has(e))return}}t&&ve(t)}function Me(e,t){if(z)return e();let n=!1;t||(z=[]),Y?n=!0:Y=[],rt++;try{e()}catch(r){ut(r)}finally{xn(n)}}function xn(e){if(z&&(Ze(z),z=null),e)return;let t;if(_&&_.running){if(_.promises.size){_.running=!1,_.effects.push.apply(_.effects,Y),Y=null,nt(!0);return}let n=_.sources;t=_.cb,_=null,it(()=>{n.forEach(r=>{if(r.value=r.tValue,r.owned)for(let o=0,s=r.owned.length;o<s;o++)ae(r.owned[o]);r.tOwned&&(r.owned=r.tOwned),delete r.tValue,delete r.tOwned}),nt(!1)})}Y.length?it(()=>{et(Y),Y=null}):Y=null,t&&t.forEach(n=>n())}function Ze(e){for(let t=0;t<e.length;t++)ue(e[t])}function mn(e){let t,n=0;for(t=0;t<e.length;t++){let o=e[t];o.user?e[n++]=o:ue(o)}let r=e.length;for(t=0;t<n;t++)ue(e[t]);for(t=r;t<e.length;t++)ue(e[t])}function je(e){e.state=0;for(let t=0;t<e.sources.length;t+=1){let n=e.sources[t];n.sources&&(n.state===ne?ue(n):n.state===xe&&je(n))}}function at(e){for(let t=0;t<e.observers.length;t+=1){let n=e.observers[t];n.state||(n.state=xe,n.observers&&at(n))}}function ae(e){let t;if(e.sources)for(;e.sources.length;){let n=e.sources.pop(),r=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){let s=o.pop(),a=n.observerSlots.pop();r<o.length&&(s.sourceSlots[a]=r,o[r]=s,n.observerSlots[r]=a)}}if(_&&_.running&&e.pure){if(e.tOwned){for(t=0;t<e.tOwned.length;t++)ae(e.tOwned[t]);delete e.tOwned}dt(e,!0)}else if(e.owned){for(t=0;t<e.owned.length;t++)ae(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function dt(e,t){if(t||(e.state=0,_.disposed.add(e)),e.owned)for(let n=0;n<e.owned.length;n++)dt(e.owned[n])}function ut(e){let t=Qe&&Ne(D,Qe);if(!t)throw e;t.forEach(n=>n(e))}function Ne(e,t){return e&&(e.context&&e.context[t]||e.owner&&Ne(e.owner,t))}function Pe(e){if(typeof e=="function"&&!e.length)return Pe(e());if(Array.isArray(e)){let t=[];for(let n=0;n<e.length;n++){let r=Pe(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function gn(e){return function(n){return F(()=>(D.context={[e]:n.value},ct(()=>n.children)))}}var Sr=Symbol("state-raw"),Cr=Symbol("state-node"),_r=Symbol("state-proxy"),Tr=Symbol("state-name");var vn=Symbol("fallback");function wn(e,t,n={}){let r=[],o=[],s=[],a=0,l=t.length>1?[]:null,i=D;return lt(()=>{for(let d=0,u=s.length;d<u;d++)s[d]()}),()=>{let d=e()||[],u,h;return re(()=>{let c=d.length,f,p,m,v,w,y,g,b,S;if(c===0){if(a!==0){for(u=0;u<a;u++)s[u]();s=[],r=[],o=[],a=0,l&&(l=[])}n.fallback&&(r=[vn],o[0]=fe($=>(s[0]=$,n.fallback()),i),a=1)}else if(a===0){for(h=0;h<c;h++)r[h]=d[h],o[h]=fe(x,i);a=c}else{for(m=new Array(c),v=new Array(c),l&&(w=new Array(c)),y=0,g=Math.min(a,c);y<g&&r[y]===d[y];y++);for(g=a-1,b=c-1;g>=y&&b>=y&&r[g]===d[b];g--,b--)m[b]=o[g],v[b]=s[g],l&&(w[b]=l[g]);for(f=new Map,p=new Array(b+1),h=b;h>=y;h--)S=d[h],u=f.get(S),p[h]=u===void 0?-1:u,f.set(S,h);for(u=y;u<=g;u++)S=r[u],h=f.get(S),h!==void 0&&h!==-1?(m[h]=o[u],v[h]=s[u],l&&(w[h]=l[u]),h=p[h],f.set(S,h)):s[u]();for(h=y;h<c;h++)h in m?(o[h]=m[h],s[h]=v[h],l&&(l[h]=w[h],l[h](h))):o[h]=fe(x,i);a=o.length=c,r=d.slice(0)}return o});function x(c){if(s[h]=c,l){let[f,p]=Q(h,!0);return l[h]=p,t(d[h],f)}return t(d[h])}}}function T(e,t){if(J.context){let n=J.context;qe(pn());let r=re(()=>e(t));return qe(n),r}return re(()=>e(t))}function W(e){let t="fallback"in e&&{fallback:()=>e.fallback};return F(wn(()=>e.each,e.children,t||void 0))}function de(e){let t=!1,n=F(()=>e.when,void 0,(r,o)=>t?r===o:!r==!o);return F(()=>{let r=n();if(r){let o=e.children;return(t=typeof o=="function"&&o.length>0)?re(()=>o(r)):o}return e.fallback})}function ht(e){let t=!1,n=ct(()=>e.children),r=F(()=>{let o=n();Array.isArray(o)||(o=[o]);for(let s=0;s<o.length;s++){let a=o[s].when;if(a)return[s,a,o[s]]}return[-1]},void 0,(o,s)=>o&&o[0]===s[0]&&(t?o[1]===s[1]:!o[1]==!s[1])&&o[2]===s[2]);return F(()=>{let[o,s,a]=r();if(o<0)return e.fallback;let l=a.children;return(t=typeof l=="function"&&l.length>0)?re(()=>l(s)):l})}function X(e){return e}var $r=bn();var yn=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","truespeed"],Mr=new Set(["className","indeterminate","value",...yn]),Or=new Set(["innerHTML","textContent","innerText","children"]);var Dr=new Set(["beforeinput","click","dblclick","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Nr=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]);function pt(e,t){return F(e,void 0,t)}function mt(e,t,n){let r=n.length,o=t.length,s=r,a=0,l=0,i=t[o-1].nextSibling,d=null;for(;a<o||l<s;)if(o===a){let u=s<r?l?n[l-1].nextSibling:n[s-l]:i;for(;l<s;)e.insertBefore(n[l++],u)}else if(s===l)for(;a<o;)(!d||!d.has(t[a]))&&e.removeChild(t[a]),a++;else if(t[a]===n[l])a++,l++;else if(t[o-1]===n[s-1])o--,s--;else if(t[a]===n[s-1]&&n[l]===t[o-1]){let u=t[--o].nextSibling;e.insertBefore(n[l++],t[a++].nextSibling),e.insertBefore(n[--s],u),t[o]=n[s]}else{if(!d){d=new Map;let h=l;for(;h<s;)d.set(n[h],h++)}let u=d.get(t[a]);if(u!=null)if(l<u&&u<s){let h=a,x=1,c;for(;++h<o&&h<s&&!((c=d.get(t[h]))==null||c!==u+x);)x++;if(x>u-l){let f=t[a];for(;l<u;)e.insertBefore(n[l++],f)}else e.replaceChild(n[l++],t[a++])}else a++;else e.removeChild(t[a++])}}var gt=Symbol("delegated-events");function Ie(e,t,n){let r;return fe(o=>{r=o,j(t,e(),t.firstChild?null:void 0,n)}),()=>{r(),t.textContent=""}}function N(e,t,n){let r=document.createElement("template");if(r.innerHTML=e,t&&r.innerHTML.split("<").length-1!==t)throw`Template html does not match input:
${r.innerHTML}

${e}`;let o=r.content.firstChild;return n&&(o=o.firstChild),o}function bt(e){let t=document[gt]||(document[gt]=new Set);for(let n=0,r=e.length;n<r;n++){let o=e[n];t.has(o)||(t.add(o),document.addEventListener(o,En))}}function xt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function j(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return ye(e,t,r,n);K(o=>ye(e,t(),o,n),r)}function En(e){let t=`$$${e.type}`,n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n}});n!==null;){let r=n[t];if(r){let o=n[`${t}Data`];if(o!==void 0?r(o,e):r(e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function ye(e,t,n,r,o){for(;typeof n=="function";)n=n();if(t===n)return n;let s=typeof t,a=r!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),a){let l=n[0];l&&l.nodeType===3?l.data=t:l=document.createTextNode(t),n=he(e,n,r,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean"){if(J.context)return n;n=he(e,n,r)}else{if(s==="function")return K(()=>{let l=t();for(;typeof l=="function";)l=l();n=ye(e,l,n,r)}),()=>n;if(Array.isArray(t)){let l=[];if(Re(l,t,o))return K(()=>n=ye(e,l,n,r,!0)),()=>n;if(J.context&&n.length)return n;if(l.length===0){if(n=he(e,n,r),a)return n}else Array.isArray(n)?n.length===0?vt(e,l,r):mt(e,n,l):n==null||n===""?vt(e,l):mt(e,a&&n||[e.firstChild],l);n=l}else if(t instanceof Node){if(Array.isArray(n)){if(a)return n=he(e,n,r,t);he(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Skipped inserting",t)}return n}function Re(e,t,n){let r=!1;for(let o=0,s=t.length;o<s;o++){let a=t[o],l;if(a instanceof Node)e.push(a);else if(!(a==null||a===!0||a===!1))if(Array.isArray(a))r=Re(e,a)||r;else if((l=typeof a)==="string")e.push(document.createTextNode(a));else if(l==="function")if(n){for(;typeof a=="function";)a=a();r=Re(e,Array.isArray(a)?a:[a])||r}else e.push(a),r=!0;else e.push(document.createTextNode(a.toString()))}return r}function vt(e,t,n){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function he(e,t,n,r){if(n===void 0)return e.textContent="";let o=r||document.createTextNode("");if(t.length){let s=!1;for(let a=t.length-1;a>=0;a--){let l=t[a];if(o!==l){let i=l.parentNode===e;!s&&!a?i?e.replaceChild(o,l):e.insertBefore(o,n):i&&e.removeChild(l)}else s=!0}}else e.insertBefore(o,n);return[o]}var C=(e,t)=>{if(e){for(let n of e)if(n[0]===t)return n[1]}};var Ee=()=>Object.create(null),wt=(e,t)=>{switch(e){default:{let n=[],r=[];for(let o of t)o[0]===0&&n.push(r=[]),r.push(o);return n}case"HEADER":{let n=Ee(),r=[];for(let o of t)o[0]===9?n[o[1]]=r=[]:r.push(o);return n}case"CLASSES":{let n=Ee(),r=[];for(let o of t)o[0]===0?r=[]:o[0]===1?n[o[1]]=r:r.push(o);return n}case"TABLES":{let n=Ee(),r=[],o=[];for(let s of t)s[0]===0?(o=[],s[1]==="TABLE"?r=[o]:s[1]!=="ENDTAB"&&r.push(o)):s[0]===2&&C(o,0)==="TABLE"&&(n[s[1]]=r),o.push(s);return n}case"BLOCKS":{let n=Ee(),r=[],o=[];for(let s of t)s[0]===0?(o=[],s[1]==="BLOCK"?r=[o]:r.push(o)):s[0]===2&&C(o,0)==="BLOCK"&&(n[s[1]]=r),o.push(s);return n}case"OBJECTS":{let n=[],r=[];for(let o of t)o[0]===0&&n.push(r=[]),r.push(o);return n}case"ACDSDATA":{let n=[],r=[n],o=[r];for(let s of t)s[0]===0?(o.push(r=[]),r.push(n=[])):s[0]===2&&r.push(n=[]),n.push(s);return o}}};function yt(e){let t=e.split(/\r\n|\r|\n/),n=Math.floor(t.length/2),r=Array(n);for(let o=0;o<n;o++)r[o]=[parseInt(t[o+o],10),t[o+o+1]];return r}function Et(e){let t=[];for(let n=1;n<e.length;n++)if(e[n-1][0]===0&&e[n-1][1]==="SECTION"&&e[n][0]===2){let r=n;for(;++n<e.length&&(e[n][0]!==0||e[n][1]!=="ENDSEC"););t.push({name:e[r][1],startIndex:r+1,endIndex:n})}return t}var St=(e,t)=>{let n=yt(e);for(let{name:r,startIndex:o,endIndex:s}of Et(n))if(r===t)return wt(r,n.slice(o,s))},Be=e=>{let t=Object.create(null),n=yt(e);for(let{name:r,startIndex:o,endIndex:s}of Et(n))t[r]=wt(r,n.slice(o,s));return t};var Sn={cp874:"dos-874",cp932:"ms932",cp936:"gbk",cp949:"windows-949",cp950:"csbig5",cp1361:"johab","mac-roman":"mac"},Cn=e=>{let t=e.trim().toLowerCase().replace(/^dos|^ansi_/,"cp").replace(/^iso8859_/,"iso8859-");return Sn[t]||t},_n={ja:"ms932"},Se=(e,t)=>{let n=t?.encoding,o=new TextDecoder(n?Cn(n):void 0).decode(e);if(!n){let s=St(o,"HEADER"),a=C(s?.$ACADVER,1);if(!a||a<"AC1021"){let l=C(s?.$DWGCODEPAGE,3)??_n[navigator.language]??"cp1252";return Se(e,{encoding:l})}}return Be(o)};var Ce=(e,t)=>{for(let[n,r]of t)e+=n,e+=`
`,e+=r,e+=`
`;return e},Fe=e=>{let t="";for(let n in e){t+=`0
SECTION
2
`,t+=n,t+=`
`;let r=e[n];switch(n){default:for(let o of r)t=Ce(t,o);break;case"HEADER":for(let o in r){t+=`9
`,t+=o,t+=`
`;let s=r[o];for(let[a,l]of s)t+=a,t+=`
`,t+=l,t+=`
`}break;case"CLASSES":for(let o in r){let s=r[o];t+=`0
CLASS
1
`,t+=o,t+=`
`;for(let[a,l]of s)a!==0&&(t+=a,t+=`
`,t+=l,t+=`
`)}break;case"TABLES":for(let o in r){for(let s of r[o])t=Ce(t,s);t+=`0
ENDTAB
`}break;case"BLOCKS":for(let o in r)for(let s of r[o])t=Ce(t,s);break;case"OBJECTS":for(let o of r)for(let[s,a]of o)t+=s,t+=`
`,t+=a,t+=`
`;break;case"ACDSDATA":for(let o of r)for(let s of o)t=Ce(t,s);break}t+=`0
ENDSEC
`}return t+=`0
EOF
`,t};var I=(e,t)=>{let n=[];if(e)for(let r of e)r[0]===t&&n.push(r[1]);return n};var Tn=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix;function Ct(e,t,n){return e<t?t:e>n?n:e}function pe(e,t){var n=new Tn(t.style.transform);return[n.a,e.scrollLeft-n.e,e.scrollTop-n.f]}function _e(e,t,n,r,o){var s=Math.round(Math.max(r,0)),a=Math.round(Math.max(o,0));t.setAttribute("transform",t.style.transform="matrix("+n+",0,0,"+n+","+(s-r)+","+(a-o)+")"),t.style.margin=0,e.scrollLeft=s,e.scrollTop=a,e.scrollLeft!==s&&(t.style.marginRight=s+"px",e.scrollLeft=s),e.scrollTop!==a&&(t.style.marginBottom=a+"px",e.scrollTop=a)}var $n=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector,Ln=Element.prototype.closest?function(e,t){return e&&e.closest(t)}:function(e,t){for(;e&&!$n.call(e,t);)e=e.parentNode instanceof Element?e.parentNode:null;return e};function Ve(e){var t={};if(e)for(var n=0,r=e.split(";");n<r.length;n++){var o=r[n],s=o.indexOf(":");t[o.slice(0,s).trim().replace(/[a-zA-Z0-9_]-[a-z]/g,function(a){return a[0]+a[2].toUpperCase()})]=o.slice(s+1).trim()}return t}function Te(e,t){var n=Ln(e,"["+t+"]");return n instanceof HTMLElement?[n,Ve(n.getAttribute(t))]:[]}function _t(){}var He=!1;try{ze=Object.defineProperty({},"passive",{get:function(){He=!0}}),addEventListener("t",_t,ze),removeEventListener("t",_t,ze)}catch(e){He=!1}var ze,Tt=He?{passive:!1}:void 0;function $t(e,t,n){var r=e.firstElementChild,o=pe(e,r),s=o[0],a=o[1],l=o[2];_e(e,r,s,a+t,l+n)}var Lt=function(e){return e.preventDefault()};function At(e,t){addEventListener("mousedown",function(n){if(!(n.button!==0&&n.button!==2)){var r=Te(n.target,e),o=r[0],s=r[1];if(!(!o||!s||!An(n,s,t))){n.preventDefault();var a=n.clientX,l=n.clientY,i=function(u){$t(o,a-u.clientX,l-u.clientY),a=u.clientX,l=u.clientY,u.preventDefault()},d=function(){removeEventListener("mouseup",d),removeEventListener("mousemove",i),removeEventListener("contextmenu",Lt)};addEventListener("mouseup",d),addEventListener("mousemove",i),addEventListener("contextmenu",Lt)}}})}function An(e,t,n){return e.button===((t.button||n.button)==="right"?2:0)}function kn(e){return pe(e,e.firstElementChild)[0]}function Mn(e,t,n){n===void 0&&(n={});var r=Ct(t,n.minScale||1,n.maxScale||10),o=n.origin,s=e.firstElementChild,a=pe(e,s),l=a[0],i=a[1],d=a[2];if(r!==l){var u=r/l-1,h=s.getBoundingClientRect(),x=(o&&o.clientX||0)-h.left,c=(o&&o.clientY||0)-h.top,f=i+u*x,p=d+u*c;_e(e,s,r,f,p)}}function Ge(e,t,n){Mn(e,kn(e)*t,n)}function kt(e,t,n){n===void 0&&(n={}),n.noEmitStyle||((document.head||document.body||document.documentElement).appendChild(document.createElement("style")).textContent="["+e+"]{overflow:scroll}["+e+"]>:first-child{width:100%;height:100%;vertical-align:middle;transform-origin:0 0}"),addEventListener("wheel",function(r){var o=Te(r.target,e),s=o[0],a=o[1];if(s instanceof HTMLElement){var l=+a.zoomAmount||t.zoomAmount;Ge(s,Math.pow(1+l,-r.deltaY),{origin:r,minScale:+a.minScale||t.minScale,maxScale:+a.maxScale||t.maxScale}),r.preventDefault()}},Tt),addEventListener("resize",function(){for(var r=document.querySelectorAll("["+e+"]"),o=0;o<r.length;o++){var s=r[o];if(s instanceof HTMLElement){var a=Ve(s.getAttribute(e));Ge(s,1,a)}}})}At("data-pan-on-drag",{button:"left"});kt("data-zoom-on-wheel",{minScale:1,maxScale:10,zoomAmount:.002});var[R,Mt]=Q({}),[V,me]=Q(""),[$e,Ot]=Q("");var Nt=hn(Dt());var On=N('<div class="clusterize"><div class="clusterize-header-scroll"><table><thead><tr></tr></thead></table></div><div class="clusterize-scroll"><table><tbody class="clusterize-content"></tbody></table></div></div>',16),Dn=N("<th></th>",2),Nn=e=>e.endsWith("</td>")?e:`<td>${e}</td>`,oe=({columns:e,records:t,tdSelector:n})=>{let r,o=e.map(u=>n(u)),s=F(()=>t.map(u=>`<tr>${o.map(h=>Nn(h(u))).join("")}</tr>`)),a=F(()=>t.map(u=>o.map(h=>h(u)?.toLowerCase()??"").join(`
`))),l=F(()=>{let u=$e().toLowerCase();return u?s().filter((h,x)=>a()[x].includes(u)):s()}),i,d;return we(()=>{if(d){d.update(l());return}if(!i)return;let u=i.getElementsByTagName("tr")[0],h=i.getElementsByTagName("tbody")[0];!u||!h||(d=new Nt.default({scrollElem:i.getElementsByClassName("clusterize-scroll")[0],contentElem:h,rows:l(),callbacks:{clusterChanged(){let x=h?.querySelector("tr:not(.clusterize-extra-row)");if(!(!x||x.classList.contains("clusterize-no-data")))for(let c=0;c<u.cells.length;c++)u.cells[c].style.width=`${x.cells[c].offsetWidth}px`}}}))}),(()=>{let u=On.cloneNode(!0),h=u.firstChild,x=h.firstChild,c=x.firstChild,f=c.firstChild,p=h.nextSibling,m=i;typeof m=="function"?m(u):i=u;let v=r;return typeof v=="function"?v(h):r=h,j(f,T(W,{each:e,children:w=>(()=>{let y=Dn.cloneNode(!0);return j(y,w),y})()})),p.addEventListener("scroll",w=>r&&(r.scrollLeft=w.currentTarget.scrollLeft)),u})()};var Pt=[[0,0,0],[0,100,50],[60,100,50],[120,100,50],[180,100,50],[240,100,50],[300,100,50],[0,0,100],[0,0,25.5],[0,0,50.2],[0,100,50],[0,100,83.3],[0,100,37.1],[0,32.3,61.8],[0,100,25.3],[0,20,42.2],[0,100,20.4],[0,20.2,33.9],[0,100,15.5],[0,19.7,25.9],[14.8,100,50],[14.8,100,83.3],[14.6,100,37.1],[14.3,32.3,61.8],[14.4,100,25.3],[14,20,42.2],[14.4,100,20.4],[15.4,20.2,33.9],[14.4,100,15.5],[13.8,19.7,25.9],[29.9,100,50],[29.6,100,83.3],[29.8,100,37.1],[29.5,32.3,61.8],[29.8,100,25.3],[29.3,20,42.2],[30,100,20.4],[29.1,20.2,33.9],[29.6,100,15.5],[30,19.7,25.9],[44.9,100,50],[45.2,100,83.3],[44.8,100,37.1],[44.8,32.3,61.8],[44.7,100,25.3],[44.7,20,42.2],[45,100,20.4],[44.6,20.2,33.9],[44.8,100,15.5],[46.2,19.7,25.9],[60,100,50],[60,100,83.3],[60,100,37.1],[60,32.3,61.8],[60,100,25.3],[60,20,42.2],[60,100,20.4],[60,20.2,33.9],[60,100,15.5],[60,19.7,25.9],[75.1,100,50],[74.8,100,83.3],[75.2,100,37.1],[75.2,32.3,61.8],[75.3,100,25.3],[75.3,20,42.2],[75,100,20.4],[75.4,20.2,33.9],[75.2,100,15.5],[73.8,19.7,25.9],[90.1,100,50],[90.4,100,83.3],[90.2,100,37.1],[90.5,32.3,61.8],[90.2,100,25.3],[90.7,20,42.2],[90,100,20.4],[90.9,20.2,33.9],[90.4,100,15.5],[90,19.7,25.9],[105.2,100,50],[105.2,100,83.3],[105.4,100,37.1],[105.7,32.3,61.8],[105.6,100,25.3],[106,20,42.2],[105.6,100,20.4],[104.6,20.2,33.9],[105.6,100,15.5],[106.2,19.7,25.9],[120,100,50],[120,100,83.3],[120,100,37.1],[120,32.3,61.8],[120,100,25.3],[120,20,42.2],[120,100,20.4],[120,20.2,33.9],[120,100,15.5],[120,19.7,25.9],[134.8,100,50],[134.8,100,83.3],[134.6,100,37.1],[134.3,32.3,61.8],[134.4,100,25.3],[134,20,42.2],[134.4,100,20.4],[135.4,20.2,33.9],[134.4,100,15.5],[133.8,19.7,25.9],[149.9,100,50],[149.6,100,83.3],[149.8,100,37.1],[149.5,32.3,61.8],[149.8,100,25.3],[149.3,20,42.2],[150,100,20.4],[149.1,20.2,33.9],[149.6,100,15.5],[150,19.7,25.9],[164.9,100,50],[165.2,100,83.3],[164.8,100,37.1],[164.8,32.3,61.8],[164.7,100,25.3],[164.7,20,42.2],[165,100,20.4],[164.6,20.2,33.9],[164.8,100,15.5],[166.2,19.7,25.9],[180,100,50],[180,100,83.3],[180,100,37.1],[180,32.3,61.8],[180,100,25.3],[180,20,42.2],[180,100,20.4],[180,20.2,33.9],[180,100,15.5],[180,19.7,25.9],[195.1,100,50],[194.8,100,83.3],[195.2,100,37.1],[195.2,32.3,61.8],[195.3,100,25.3],[195.3,20,42.2],[195,100,20.4],[195.4,20.2,33.9],[195.2,100,15.5],[193.8,19.7,25.9],[210.1,100,50],[210.4,100,83.3],[210.2,100,37.1],[210.5,32.3,61.8],[210.2,100,25.3],[210.7,20,42.2],[210,100,20.4],[210.9,20.2,33.9],[210.4,100,15.5],[210,19.7,25.9],[225.2,100,50],[225.2,100,83.3],[225.4,100,37.1],[225.7,32.3,61.8],[225.6,100,25.3],[226,20,42.2],[225.6,100,20.4],[224.6,20.2,33.9],[225.6,100,15.5],[226.2,19.7,25.9],[240,100,50],[240,100,83.3],[240,100,37.1],[240,32.3,61.8],[240,100,25.3],[240,20,42.2],[240,100,20.4],[240,20.2,33.9],[240,100,15.5],[240,19.7,25.9],[254.8,100,50],[254.8,100,83.3],[254.6,100,37.1],[254.3,32.3,61.8],[254.4,100,25.3],[254,20,42.2],[254.4,100,20.4],[255.4,20.2,33.9],[254.4,100,15.5],[253.8,19.7,25.9],[269.9,100,50],[269.6,100,83.3],[269.8,100,37.1],[269.5,32.3,61.8],[269.8,100,25.3],[269.3,20,42.2],[270,100,20.4],[269.1,20.2,33.9],[269.6,100,15.5],[270,19.7,25.9],[284.9,100,50],[285.2,100,83.3],[284.8,100,37.1],[284.8,32.3,61.8],[284.7,100,25.3],[284.7,20,42.2],[285,100,20.4],[284.6,20.2,33.9],[284.8,100,15.5],[286.2,19.7,25.9],[300,100,50],[300,100,83.3],[300,100,37.1],[300,32.3,61.8],[300,100,25.3],[300,20,42.2],[300,100,20.4],[300,20.2,33.9],[300,100,15.5],[300,19.7,25.9],[315.1,100,50],[314.8,100,83.3],[315.2,100,37.1],[315.2,32.3,61.8],[315.3,100,25.3],[315.3,20,42.2],[315,100,20.4],[315.4,20.2,33.9],[315.2,100,15.5],[313.8,19.7,25.9],[330.1,100,50],[330.4,100,83.3],[330.2,100,37.1],[330.5,32.3,61.8],[330.2,100,25.3],[330.7,20,42.2],[330,100,20.4],[330.9,20.2,33.9],[330.4,100,15.5],[330,19.7,25.9],[345.2,100,50],[345.2,100,83.3],[345.4,100,37.1],[345.7,32.3,61.8],[345.6,100,25.3],[346,20,42.2],[345.6,100,20.4],[344.6,20.2,33.9],[345.6,100,15.5],[346.2,19.7,25.9],[0,0,20],[0,0,31.4],[0,0,41.2],[0,0,51],[0,0,74.5],[0,0,100]];var jt=["#000000","#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ffffff","#414141","#808080","#ff0000","#ffaaaa","#bd0000","#bd7e7e","#810000","#815656","#680000","#684545","#4f0000","#4f3535","#ff3f00","#ffbfaa","#bd2e00","#bd8d7e","#811f00","#816056","#681900","#684e45","#4f1300","#4f3b35","#ff7f00","#ffd4aa","#bd5e00","#bd9d7e","#814000","#816b56","#683400","#685645","#4f2700","#4f4235","#ffbf00","#ffeaaa","#bd8d00","#bdad7e","#816000","#817656","#684e00","#685f45","#4f3b00","#4f4935","#ffff00","#ffffaa","#bdbd00","#bdbd7e","#818100","#818156","#686800","#686845","#4f4f00","#4f4f35","#bfff00","#eaffaa","#8dbd00","#adbd7e","#608100","#768156","#4e6800","#5f6845","#3b4f00","#494f35","#7fff00","#d4ffaa","#5ebd00","#9dbd7e","#408100","#6b8156","#346800","#566845","#274f00","#424f35","#3fff00","#bfffaa","#2ebd00","#8dbd7e","#1f8100","#608156","#196800","#4e6845","#134f00","#3b4f35","#00ff00","#aaffaa","#00bd00","#7ebd7e","#008100","#568156","#006800","#456845","#004f00","#354f35","#00ff3f","#aaffbf","#00bd2e","#7ebd8d","#00811f","#568160","#006819","#45684e","#004f13","#354f3b","#00ff7f","#aaffd4","#00bd5e","#7ebd9d","#008140","#56816b","#006834","#456856","#004f27","#354f42","#00ffbf","#aaffea","#00bd8d","#7ebdad","#008160","#568176","#00684e","#45685f","#004f3b","#354f49","#00ffff","#aaffff","#00bdbd","#7ebdbd","#008181","#568181","#006868","#456868","#004f4f","#354f4f","#00bfff","#aaeaff","#008dbd","#7eadbd","#006081","#567681","#004e68","#455f68","#003b4f","#35494f","#007fff","#aad4ff","#005ebd","#7e9dbd","#004081","#566b81","#003468","#455668","#00274f","#35424f","#003fff","#aabfff","#002ebd","#7e8dbd","#001f81","#566081","#001968","#454e68","#00134f","#353b4f","#0000ff","#aaaaff","#0000bd","#7e7ebd","#000081","#565681","#000068","#454568","#00004f","#35354f","#3f00ff","#bfaaff","#2e00bd","#8d7ebd","#1f0081","#605681","#190068","#4e4568","#13004f","#3b354f","#7f00ff","#d4aaff","#5e00bd","#9d7ebd","#400081","#6b5681","#340068","#564568","#27004f","#42354f","#bf00ff","#eaaaff","#8d00bd","#ad7ebd","#600081","#765681","#4e0068","#5f4568","#3b004f","#49354f","#ff00ff","#ffaaff","#bd00bd","#bd7ebd","#810081","#815681","#680068","#684568","#4f004f","#4f354f","#ff00bf","#ffaaea","#bd008d","#bd7ead","#810060","#815676","#68004e","#68455f","#4f003b","#4f3549","#ff007f","#ffaad4","#bd005e","#bd7e9d","#810040","#81566b","#680034","#684556","#4f0027","#4f3542","#ff003f","#ffaabf","#bd002e","#bd7e8d","#81001f","#815660","#680019","#68454e","#4f0013","#4f353b","#333333","#505050","#696969","#828282","#bebebe","#ffffff"];var Pn={d:"\xB0",c:"\u2300",p:"\xB1"},ge=(e,t)=>{e=e.replace(/%%(.)/g,(i,d)=>Pn[d]||d);let n=t?.encoding,r,o=n instanceof TextDecoder?n:void 0,s="",a=[],l=i=>{s&&(a.push(s),s=""),a.push(i)};for(let i=0;i<e.length;i++)switch(r=e[i]){default:s+=r;break;case"\\":switch(r=e[++i]){default:s+=r;break;case"P":s+=`
`;break;case"f":case"F":{let x="";for(;r=e[++i];){if(r===";"){l({f:x});break}if(r==="|"){let c={f:x},f=e.indexOf(";",++i);for(let p of e.slice(i,f).split("|"))c[p[0]]=+p.slice(1);i=f,l(c);break}x+=r==="\\"?e[++i]:r}break}case"S":{let x,c="",f="";for(;r=e[++i];){if(r===";"){x&&l({S:[c,x,f]});break}r==="\\"?x?f+=e[++i]:c+=e[++i]:x?f+=r:r==="^"||r==="/"||r==="#"?x=r:c+=r}break}case"H":case"W":let d=++i,[,u,h]=e.slice(d,i=e.indexOf(";",i)).match(/^(\d*(?:\.\d+)?)(\D*)$/);l({[r]:[+u,h]});break;case"Q":case"A":case"C":case"T":{let x=++i;l({[r]:+e.slice(x,i=e.indexOf(";",i))});break}case"L":case"O":case"K":l({[r]:1});break;case"l":case"o":case"k":l({[r.toUpperCase()]:0});break;case"U":case"u":e[i+1]==="+"?(s+=String.fromCodePoint(parseInt(e.substr(i+2,4),16)),i+=5):s+=r;break;case"M":case"m":n?e[i+1]==="+"&&e[i+2]==="1"?(s+=(o=o||new TextDecoder(n)).decode(new Uint8Array([parseInt(e.substr(i+3,2),16),parseInt(e.substr(i+5,2),16)])),i+=6):s+=r:s+="\\"+r}break;case"{":{let d=1,u=i;for(;r=e[++i];)if(r==="{")d++;else if(r==="}"){if(--d==0){l(ge(e.slice(u+1,i)));break}}else r==="\\"&&i++;break}}return s&&a.push(s),a};var jn={d:"\xB0",c:"\u2300",p:"\xB1"},Bn=(e,t)=>(e=In(e),t?Rn(e,t):e),In=e=>e.replace(/\\[uU]\+([0-9a-fA-F]{4})/g,(t,n)=>String.fromCodePoint(parseInt(n,16))),Rn=(e,t)=>{let n=t instanceof TextDecoder?t:void 0;return e.replace(/\\[mM]\+1([0-9a-fA-F]{2})([0-9a-fA-F]{2})/g,(r,o,s)=>(n=n||new TextDecoder(t)).decode(new Uint8Array([parseInt(o,16),parseInt(s,16)])))},It=(e,t)=>{e=Bn(e,t?.encoding);let n=0,r={text:""},o=[r];for(let s of e.matchAll(/%%(\d\d\d|.)/g)){r.text+=e.slice(n,s.index);let a=s[1].toLowerCase(),l=jn[a];l?r.text+=l:a.length===3?r.text+=String.fromCodePoint(+a):a==="k"||a==="o"||a==="u"?(r={...r,text:""},r[a]?delete r[a]:r[a]=1,o.push(r)):r.text+=a,n=s.index+s[0].length}return r.text+=e.slice(n),o.filter(s=>s.text)};var Fn=1/64,Rt=(e,t)=>Math.abs(e-t)<Fn,Ye=(()=>{let e=(t,n)=>{let[r,o]=(""+t).split("e");return+(r+"e"+(o?+o+n:n))};return(t,n)=>e(Math.round(e(t,n)),-n)})(),Bt=e=>e&&e.trim(),Z=(e,t)=>Bt(C(e,t)),k=(e,t,n)=>{let r=+C(e,t);if(isNaN(r))return n===void 0?NaN:n;if(Math.abs(r)>1e6)throw Error(`group code ${t} is invalid (${r})`);let o=Math.round(r);return Math.abs(o-r)<1e-8?o:r},U=(e,...t)=>t.map(n=>k(e,n)),se=(e,...t)=>t.map(n=>-k(e,n)),Vn={DIMSCALE:[40,40,1],DIMTP:[47,40,NaN],DIMTM:[48,40,NaN],DIMTOL:[71,70,0],DIMTXT:[140,40,1],DIMLFAC:[144,40,1],DIMCLRT:[178,70,NaN],DIMDEC:[271,70,4]},Hn=e=>{let t=new Map;for(let n=0;n<e.length;n++)if(e[n][0]===1e3&&e[n][1].trim()==="DSTYLE"&&e[n+1][0]===1002&&e[n+1][1].trim()==="{"){for(let r=n+2;r<e.length&&e[r][0]!==1002;r++)e[r][0]===1070&&t.set(+e[r][1],e[++r][1]);return t}},zn=(e,t)=>{let n=C(t,3),r=e.TABLES?.DIMSTYLE?.find(a=>C(a,2)===n),o=Hn(t),s=Object.create(null);for(let[a,[l,i,d]]of Object.entries(Vn)){let u=o?.get(l)??C(r,l)??C(e.HEADER?.["$"+a],i);s[a]=u!==void 0?+u:d}return s},Ft=e=>e>0?"+"+e:e<0?String(e):" 0",Gn=(e,t,n)=>{let r=k(t,42,-1),o=Ye(r!==-1?r:e*n.DIMLFAC,n.DIMDEC),s=String(o);if(n.DIMTOL){let l=n.DIMTP,i=n.DIMTM;(l||i)&&(l===i?s=`${o}  \xB1${l}`:s=`${o}  {\\S${Ft(l)}^${Ft(-i)};}`)}let a=C(t,1);return a?a.replace(/<>/,s):s},Xn=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),A=(e,t)=>{let n="<"+e,r;for(let[o,s]of Object.entries(t))!s||(o==="children"?r=s:n+=` ${o}="${typeof s=="string"?Xn(s):s}"`);return(e==="line"||e==="polyline"||e==="polygon"||e==="circle"||e==="path")&&(t.fill||(n+=' fill="none"'),n+=' vector-effect="non-scaling-stroke"'),e==="text"&&(n+=' stroke="none" style="white-space:pre"'),r?n+=`>${Array.isArray(r)?r.join(""):r}</${e}>`:n+="/>",n},Yn=A,Wn=e=>{e=+e;let t,n;switch(e){case 1:case 2:case 3:t="text-before-edge";break;case 4:case 5:case 6:t="central";break;case 7:case 8:case 9:t="text-after-edge";break}switch(e%3){case 2:n="middle";break;case 0:n="end";break}return{dominantBaseline:t,textAnchor:n}},Vt=(e,t)=>Ye(Math.atan2(e||0,t||0)*180/Math.PI,5)||0,Kn=e=>{for(let t=e.length-1;t>=0;t--)switch(e[t][0]){case 50:return Ye(+e[t][1],5)||0;case 11:return Vt(k(e,12),+e[t][1]);case 21:return Vt(+e[t][1],k(e,11))}return 0},be=(e,t,n=0)=>{if(e.length<=n)return"";let r=be(e,t,n+1),o=e[n];if(typeof o=="string")return o+r;if(Array.isArray(o))return be(o,t)+r;if(o.S)return Yn("tspan",{children:[A("tspan",{dy:"-.5em",children:o.S[0]}),A("tspan",{dy:"1em",dx:o.S[0].length/-2+"em",children:o.S[2]})]})+r;if(o.f){let s={family:o.f,weight:o.b?700:400,style:o.i?"italic":void 0},a=t?.resolveFont?.(s)??s;return A("tspan",{"font-family":a.family,"font-weight":a.weight,"font-style":a.style,"font-size":a.scale&&a.scale!==1?a.scale+"em":void 0,children:r})}return o.Q?A("tspan",{"font-style":`oblique ${o.Q}deg`,children:r}):r},Ht={warn:console.debug,resolveColorIndex:e=>jt[e]??"#888",resolveLineWeight:e=>e===-3?.5:e*10},te=e=>({"data-5":Z(e,5)}),We=([e,t,n])=>{let r=Math.hypot(e,t,n);return[e/r,t/r,n/r]},zt=([e,t,n],[r,o,s])=>[t*s-n*o,n*r-e*s,e*o-t*r],Gt=({k:e,o:t,u:n})=>{let r=[];return e&&r.push("line-through"),t&&r.push("overline"),n&&r.push("underline"),r.join(" ")},Un=[,"text-after-edge","central","text-before-edge"],qn=[,"middle","end",,"middle"],Ke=(e,t)=>{let n="";for(let r=0;r<e.length;r++)n+=`${e[r]},${t[r]} `;return n.slice(0,-1)},Jn=(e,t)=>{let{warn:n,resolveColorIndex:r,resolveLineWeight:o}=t,s={};for(let c of e.TABLES?.LAYER??[])if(C(c,0)==="LAYER"){let f=k(c,370);s[C(c,2)]={color:r(+C(c,62)),ltype:C(c,6),strokeWidth:isNaN(f)?void 0:f}}let a={};for(let c of e.TABLES?.LTYPE??[])if(C(c,0)==="LTYPE"){let f=I(c,49).map(Bt).map(m=>m.startsWith("-")?m.slice(1):m),p=f.length===0||f.length%2==1?f:f[0]==="0"?f.slice(1):f.concat("0");p.length!==0&&(a[C(c,2)]={strokeDasharray:p.join(" ")})}let l=c=>{let f=Z(c,62);if(f==="0")return"currentColor";if(f&&f!=="256")return r(+f);let p=s[Z(c,8)];if(p)return p.color},i=c=>l(c)||"currentColor",d=c=>a[C(c,6)??s[C(c,8)]?.ltype]?.strokeDasharray,u=c=>{let f=Z(c,370);switch(f){case"-3":return o(-3);case"-2":return o(s[C(c,8)]?.strokeWidth??-3);case"-1":return;default:return o(+f/100)}},h=c=>{let f=-k(c,210,0),p=k(c,220,0),m=k(c,230,1);if(Math.abs(f)<1/64&&Math.abs(p)<1/64)return m<0?"transform:rotateY(180deg)":void 0;let v=We([f,p,m]),w=We(zt([0,0,1],v)),y=We(zt(v,w));return`transform:matrix3d(${w},0,${y},0,0,0,0,0,0,0,0,1)`},x=c=>Object.assign(te(c),{stroke:i(c),"stroke-width":u(c),"stroke-dasharray":d(c),style:h(c)});return{POINT:()=>{},LINE:c=>{let f=U(c,10,11),p=se(c,20,21);return[A("line",{...x(c),x1:f[0],y1:p[0],x2:f[1],y2:p[1]}),f,p]},POLYLINE:(c,f)=>{let p=f.map(y=>k(y,10)),m=f.map(y=>-k(y,20)),v=+(C(c,70)??0),w=Object.assign(x(c),{points:Ke(p,m)});return[v&1?A("polygon",{...w}):A("polyline",{...w}),p,m]},LWPOLYLINE:c=>{let f=I(c,10).map(w=>+w),p=I(c,20).map(w=>-w),m=+(C(c,70)??0),v=Object.assign(x(c),{points:Ke(f,p)});return[m&1?A("polygon",{...v}):A("polyline",{...v}),f,p]},CIRCLE:c=>{let[f,p,m]=U(c,10,20,40);return[A("circle",{...x(c),cx:f,cy:-p,r:m}),[f-m,f+m],[-p-m,-p+m]]},ARC:c=>{let[f,p,m]=U(c,10,20,40),v=k(c,50,0),w=k(c,51,0),y=v*Math.PI/180,g=w*Math.PI/180,b=f+m*Math.cos(y),S=p+m*Math.sin(y),$=f+m*Math.cos(g),E=p+m*Math.sin(g),L=(w-v+360)%360<=180?"0":"1";return[A("path",{...x(c),d:`M${b} ${-S}A${m} ${m} 0 ${L} 0 ${$} ${-E}`}),[b,$],[-S,-E]]},ELLIPSE:c=>{let f=k(c,41,0),p=k(c,42,2*Math.PI);if(Rt(f,0)&&Rt(p,2*Math.PI)){let[m,v,w,y]=U(c,10,20,11,21),g=Math.hypot(w,y),b=k(c,40)*g,S=-Math.atan2(y,w),$=S?`rotate(${S*180/Math.PI} ${m} ${-v})`:void 0;return[A("ellipse",{...x(c),cx:m,cy:-v,rx:g,ry:b,transform:$}),[m-g,m+g],[-v-b,-v+b]]}else n("Elliptical arc cannot be rendered yet.")},LEADER:c=>{let f=I(c,10).map(m=>+m),p=I(c,20).map(m=>-m);return[A("polyline",{...te(c),points:Ke(f,p),stroke:i(c),"stroke-dasharray":d(c)}),f,p]},HATCH:c=>{let f=c.slice(c.findIndex(g=>g[0]===92),c.findIndex(g=>g[0]===97)),p=I(f,10).map(g=>+g),m=I(f,20).map(g=>-g),v=I(f,11).map(g=>+g),w=I(f,21).map(g=>-g),y="";for(let g=0;g<p.length;g++)v[g]?p[g]===v[g-1]&&m[g]===w[g-1]?y+=`L${v[g]} ${w[g]}`:y+=`M${p[g]} ${m[g]}L${v[g]} ${w[g]}`:y+=`${g===0?"M":"L"}${p[g]} ${m[g]}`;return[A("path",{...te(c),d:y,fill:i(c),"fill-opacity":".3"}),[...p,...v],[...m,...w]]},SOLID:c=>{let[f,p,m,v]=U(c,10,11,12,13),[w,y,g,b]=se(c,20,21,22,23),S=`M${f} ${w}L${p} ${y}L${m} ${g}${m!==v||g!==b?`L${v} ${b}`:""}Z`;return[A("path",{...te(c),d:S,fill:i(c)}),[f,p,m,v],[w,y,g,b]]},TEXT:c=>{let[f,p]=U(c,10,40),[m,v]=se(c,20,50),w=It(C(c,1)||"",t);return[A("text",{...te(c),x:f,y:m,fill:i(c),"font-size":p,"dominant-baseline":Un[Z(c,73)],"text-anchor":qn[Z(c,72)],transform:v&&`rotate(${v} ${f} ${m})`,"text-decoration":w.length===1&&Gt(w[0]),children:w.length===1?w[0].text:w.map(y=>A("tspan",{"text-decoration":Gt(y),children:y.text}))}),[f,f+p*w.length],[m,m+p]]},MTEXT:c=>{let[f,p]=U(c,10,40),m=-k(c,20),v=Kn(c),{dominantBaseline:w,textAnchor:y}=Wn(Z(c,71)),g=I(c,3).join("")+(C(c,1)??"");return[A("text",{...te(c),x:f,y:m,fill:i(c),"font-size":p,"dominant-baseline":w,"text-anchor":y,transform:v?`rotate(${-v} ${f} ${m})`:void 0,children:be(ge(g,t),t)}),[f,f+p*g.length],[m,m+p]]},DIMENSION:c=>{let f=zn(e,c),p="",m,v="text-after-edge",w="middle",y,g=k(c,11),b=-k(c,21),S=[g],$=[b],E=k(c,70,0);switch(E&7){case 0:case 1:{let[M,O,P]=U(c,10,13,14),[H,G,ee]=se(c,20,23,24);y=Math.round(-k(c,50,0)||0),y%180==0?(m=Math.abs(O-P),p=A("path",{stroke:"currentColor",d:`M${O} ${G}L${O} ${H}L${P} ${H}L${P} ${ee}`}),y=0):(m=Math.abs(G-ee),p=A("path",{stroke:"currentColor",d:`M${O} ${G}L${M} ${G}L${M} ${ee}L${P} ${ee}`})),S.push(O,P),$.push(G,ee);break}case 2:case 5:n("Angular dimension cannot be rendered yet.",c);return;case 3:case 4:{let[M,O]=U(c,10,15),[P,H]=se(c,20,25);m=Math.hypot(M-O,P-H),p=A("path",{stroke:"currentColor",d:`M${O} ${H}L${g} ${b}`}),S.push(M,O),$.push(P,H);break}case 6:{let[M,O]=U(c,13,14),[P,H]=se(c,23,24);if(E&64){let G=k(c,10);m=Math.abs(G-+M),p=A("path",{stroke:"currentColor",d:`M${M} ${P}L${M} ${H}L${O} ${H}L${g} ${b}`}),y=-90}else{let G=-k(c,20);m=Math.abs(G-+P),p=A("path",{stroke:"currentColor",d:`M${M} ${P}L${O} ${P}L${O} ${H}L${g} ${b}`})}v="central",w="middle",S.push(M,O),$.push(P,H);break}default:n("Unknown dimension type.",c);return}let L;{let M=Gn(m,c,f),O=f.DIMTXT*f.DIMSCALE,P=f.DIMCLRT;L=A("text",{x:g,y:b,fill:isNaN(P)?i(c):P===0?"currentColor":r(P),"font-size":O,"dominant-baseline":v,"text-anchor":w,transform:y&&`rotate(${y} ${g} ${b})`,children:be(ge(M,t),t)})}return[A("g",{...te(c),color:i(c),"stroke-width":u(c),"stroke-dasharray":d(c),style:h(c),children:p+L}),S,$]},ACAD_TABLE:c=>{let f=[];{let E=c.findIndex(L=>L[0]===171);for(let L=E+1;L<c.length;L++)c[L][0]===171&&(f.push(c.slice(E,L)),E=L);f.push(c.slice(E,c.length))}let p=I(c,141).map(E=>+E).reduce((E,L)=>(E.push(E[E.length-1]+L),E),[0]),m=I(c,142).map(E=>+E).reduce((E,L)=>(E.push(E[E.length-1]+L),E),[0]),v=i(c),w=r(+C(c,64)),y=p.map(E=>A("line",{stroke:v,x1:"0",y1:E,x2:m[m.length-1],y2:E})).join(""),g=0,b=0;for(let E of f){let L=m[g],M=p[b],O=+C(E,64);+C(E,173)||(y+=A("line",{x1:L,y1:M,x2:L,y2:p[b+1],stroke:v})),Z(E,171)==="2"?n('Table cell type "block" cannot be rendered yet.',c,E):y+=A("text",{x:L,y:M,fill:isNaN(O)?w:r(O),children:be(ge(C(E,1)??""),t)}),++g==m.length-1&&(g=0,b++)}y+=A("line",{x1:m[m.length-1],y1:"0",x2:m[m.length-1],y2:p[p.length-1],stroke:v});let S=k(c,10),$=-k(c,20);return[A("g",{...te(c),"font-size":Z(c,140),"dominant-baseline":"text-before-edge",transform:`translate(${S},${$})`,children:y}),m.map(E=>E+S),p.map(E=>E+$)]},INSERT:c=>{let f=k(c,10,0),p=-k(c,20,0),m=-k(c,50),v=k(c,41,1)||1,w=k(c,42,1)||1,y=[f||p?`translate(${f},${p})`:"",v!==1||w!==1?`scale(${v},${w})`:"",m?`rotate(${m})`:""].filter(Boolean).join(" "),g=e.BLOCKS?.[C(c,2)],b=g?.slice(C(g[0],0)==="BLOCK"?1:0,C(g[g.length-1],0)==="ENDBLK"?-1:void 0),[S,$]=Xt(e,b,t);return[A("g",{...x(c),color:l(c),"stroke-width":u(c),"stroke-dasharray":d(c),transform:y,children:S}),[f+$.x*v,f+($.x+$.w)*v],[p+$.y*w,p+($.y+$.h)*w]]}}},Xt=(e,t,n)=>{let{warn:r}=n,o=Jn(e,n),s="",a=Infinity,l=-Infinity,i=Infinity,d=-Infinity;if(t)for(let u=0;u<t.length;u++){let h=t[u],x=C(h,0);if(!x)continue;let c=[];for(;C(t[u+1],0)==="VERTEX";)c.push(t[++u]);c.length!==0&&C(t[u+1],0)==="SEQEND"&&u++;try{let f=o[x];if(f){let p=f(h,c);if(p){s+=p[0];let m=p[1].filter(w=>isFinite(w)),v=p[2].filter(w=>isFinite(w));a=Math.min(a,...m),l=Math.max(l,...m),i=Math.min(i,...v),d=Math.max(d,...v)}}else r(`Unknown entity type: ${x}`,h)}catch(f){r(`Error occurred: ${f}`,h)}}return[s,{x:a,y:i,w:l-a,h:d-i}]},Qn=(e,t)=>{let n=t?{...Ht,...t}:Ht;return Xt(e,e.ENTITIES,n)},Yt=(e,t)=>{let[n,{x:r,y:o,w:s,h:a}]=Qn(e,t);return A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`${r} ${o} ${s} ${a}`,width:s,height:a,children:n})};var Zn=[SVGCircleElement,SVGEllipseElement,SVGImageElement,SVGLineElement,SVGPathElement,SVGPolygonElement,SVGPolylineElement,SVGRectElement,SVGTextElement,SVGUseElement],Ue=function(e,t,n,r){for(var o=n.firstElementChild;o;o=o.nextElementSibling){if(o instanceof SVGGElement){Ue(e,t,o,r);continue}for(var s=0,a=Zn;s<a.length;s++){var l=a[s];o instanceof l&&r(o)&&e.push(o)}}return e},q=function(e,t,n){return t<=e&&e<=n},er=function(e,t){var n=e.x,r=n+e.width,o=e.y,s=o+e.height;return q(t.x,n,r)&&q(t.x+t.width,n,r)&&q(t.y,o,s)&&q(t.y+t.height,o,s)},tr=function(e,t){var n=e.x,r=n+e.width,o=e.y,s=o+e.height;return(q(t.x,n,r)||q(t.x+t.width,n,r)||q(n,t.x,t.x+t.width))&&(q(t.y,o,s)||q(t.y+t.height,o,s)||q(o,t.y,t.y+t.height))},Wt=function(e,t,n,r){return e.getEnclosureList?Array.prototype.slice.call(e.getEnclosureList(r,t)):Ue([],e,t||e,function(o){return er(n,o.getBBox())})},Kt=function(e,t,n,r){return e.getIntersectionList?Array.prototype.slice.call(e.getIntersectionList(r,t)):Ue([],e,t||e,function(o){return tr(n,o.getBBox())})};var Ut=function(e,t){return e.filter(function(n){return t.indexOf(n)===-1})},qt=function(e,t,n,r,o){var s=e.createSVGRect();return s.x=Math.min(t,r),s.y=Math.min(n,o),s.width=Math.abs(t-r),s.height=Math.abs(n-o),s},Le=function(e,t,n){if(!t)return n;var r=e.createSVGPoint();r.x=n.x,r.y=n.y;var o=r.matrixTransform(t);r.x+=n.width,r.y+=n.height;var s=r.matrixTransform(t);return qt(e,o.x,o.y,s.x,s.y)},Jt=function(e){var t,n,r,o=[],s=e.svg,a=function(b){return qt(s,n-document.documentElement.scrollLeft-document.body.scrollLeft,r-document.documentElement.scrollTop-document.body.scrollTop,b.clientX,b.clientY)},l=document.body.appendChild(document.createElement("div")),i=l.style;l.className="svg-drag-select-area-overlay",i.position="fixed",i.pointerEvents="none";var d=function(b){var S=this;if((b.pointerId||0)===t){var $=a(b),E=Le(this,this.getScreenCTM().inverse(),$),L=Le(this,this.getCTM(),E),M=e.referenceElement||null,O=function(){return Wt(S,M,E,L)},P=function(){return Kt(S,M,E,L)},H=typeof e.selector=="function"?e.selector({svg:this,referenceElement:M,pointerEvent:b,dragAreaInClientCoordinate:$,dragAreaInSvgCoordinate:E,dragAreaInInitialSvgCoordinate:L,getEnclosures:O,getIntersections:P}):e.selector==="intersection"?P():O(),G=Ut(H,o),ee=Ut(o,H);if(i.left=$.x+"px",i.top=$.y+"px",i.width=$.width+"px",i.height=$.height+"px",G.length||ee.length){var rn=o;o=H,e.onSelectionChange&&e.onSelectionChange({svg:this,referenceElement:M,pointerEvent:b,dragAreaInClientCoordinate:$,dragAreaInSvgCoordinate:E,dragAreaInInitialSvgCoordinate:L,selectedElements:o,previousSelectedElements:rn,newlySelectedElements:G,newlyDeselectedElements:ee})}}},u=function(b){if(b.isPrimary!==!1&&t===void 0){var S;e.onSelectionStart&&e.onSelectionStart({svg:this,referenceElement:e.referenceElement||null,pointerEvent:b,cancel:function(){return S=1}}),S||(t=b.pointerId||0,n=b.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,r=b.clientY+document.documentElement.scrollTop+document.body.scrollTop,o=[],d.call(this,b),i.display="",this.setPointerCapture&&this.setPointerCapture(t))}},h=function(b){if((b.pointerId||0)===t){this.releasePointerCapture&&this.releasePointerCapture(t),t=void 0,i.display="none";var S=a(b),$=Le(this,this.getScreenCTM().inverse(),S),E=Le(this,this.getCTM(),$);e.onSelectionEnd&&e.onSelectionEnd({svg:this,referenceElement:e.referenceElement||null,pointerEvent:b,dragAreaInClientCoordinate:S,dragAreaInSvgCoordinate:$,dragAreaInInitialSvgCoordinate:E,selectedElements:o})}},x=s.style.touchAction,c=getComputedStyle(s).touchAction,f;if("PointerEvent"in window){var p=s.getAttribute("draggable"),m=s.style.pointerEvents,v=c!=="none"&&c!=="pinch-zoom";v&&(s.style.touchAction="pinch-zoom"),s.style.pointerEvents="all",s.setAttribute("draggable","false"),s.addEventListener("pointerdown",u),s.addEventListener("pointermove",d),s.addEventListener("pointerup",h),s.addEventListener("pointercancel",h),f=function(){p===null?s.removeAttribute("draggable"):s.setAttribute("draggable",p),s.style.pointerEvents=m,v&&(s.style.touchAction=x),s.removeEventListener("pointerdown",u),s.removeEventListener("pointermove",d),s.removeEventListener("pointerup",h),s.removeEventListener("pointercancel",h),l.parentElement&&l.parentElement.removeChild(l)}}else if("ontouchend"in window){var w=c!=="manipulation";w&&(s.style.touchAction="manipulation");var y=function(b,S){var $={pointerId:S.identifier};return Object.keys(Object.getPrototypeOf(S)).forEach(function(E){return $[E]=S[E]}),Object.keys(Object.getPrototypeOf(b)).forEach(function(E){return $[E]=b[E]}),$},g=function(b){if(t!==void 0)for(var S=0;S<b.changedTouches.length;S++)b.changedTouches[S].identifier===t&&h.call(this,y(b,b.changedTouches[0]))};s.addEventListener("touchstart",function(b){b.touches.length===1&&u.call(this,y(b,b.touches[0]))}),s.addEventListener("touchmove",function(b){b.touches.length===1&&(b.preventDefault(),d.call(this,y(b,b.touches[0])))}),s.addEventListener("touchend",g),s.addEventListener("touchcancel",g),f=function(){w&&(s.style.touchAction=x),s.removeEventListener("pointerdown",u),s.removeEventListener("pointermove",d),s.removeEventListener("pointerup",h),s.removeEventListener("pointercancel",h),l.parentElement&&l.parentElement.removeChild(l)}}else s.addEventListener("mousedown",u),s.addEventListener("mousemove",d),s.addEventListener("mouseup",h),f=function(){s.removeEventListener("mousedown",u),s.removeEventListener("mousemove",d),s.removeEventListener("mouseup",h),l.parentElement&&l.parentElement.removeChild(l)};return{cancel:f,dragAreaOverlay:l}};var nr=N('<div data-zoom-on-wheel="min-scale: 0.9; max-scale: 10000" data-pan-on-drag="" class="h-full bg-hex-123" style="contain: paint"></div>',2),rr=N('<a download="" class="absolute right-4 top-2 text-cyan-300">Download SVG File</a>',2),or=N('<div class="coordinate pointer-events-none absolute right-16px bottom-8px text-right text-hex-ddd" style="text-shadow: 0 1px #123,0 -1px #123,1px 0 #123,-1px 0 #123,0 0 4px #123"></div>',2),sr=N('<div class="absolute top-0 bottom-0 right-0 overflow-auto bg-white"><table><tbody></tbody></table></div>',6),ir=N('<tr><th colspan="2"></th></tr>',4),lr=N('<tr><td class="text-right"></td><td></td></tr>',6),cr=new TextDecoder("ms932"),ar=document.head.appendChild(document.createElement("style")),fr=(e,t)=>{{let n=e.ENTITIES?.find(r=>C(r,5)===t);if(n)return n}if(e.BLOCKS)for(let n of Object.values(e.BLOCKS)){let r=n.find(o=>C(o,5)===t);if(r)return r}},Qt=()=>{let e=F(()=>Yt(R(),{resolveColorIndex:s=>{let[a,l,i]=Pt[s]??[0,0,50];return`hsl(${a},${l}%,${Math.round(i*.8+20)}%)`},resolveFont:s=>({...s,family:s.family+",var(--font-family)"}),encoding:cr})),t=F(()=>"data:image/svg+xml,"+encodeURIComponent(e())),[n,r]=Q([]),o=F(()=>n().map(s=>fr(R(),s)).filter(Boolean));return we(()=>{ar.textContent=n().map(s=>`[data-5="${s}"]`).join(",")+"{stroke-width:3px}"}),[(()=>{let s=nr.cloneNode(!0);return(a=>setTimeout(()=>{let l=a.parentElement.getElementsByClassName("coordinate")[0],i=a.getElementsByTagName("svg")[0];i.style.padding="8px 16px",i.setAttribute("buffered-rendering","static"),i.onpointermove=({currentTarget:d,clientX:u,clientY:h})=>{let x=d,{x:c,y:f}=Object.assign(x.createSVGPoint(),{x:u,y:h}).matrixTransform(x.getScreenCTM().inverse());l.textContent=`${Math.round(c)}, ${Math.round(-f)}`},i.onpointerleave=()=>l.textContent="",i.oncontextmenu=d=>d.preventDefault(),Jt({svg:i,selector:"intersection",onSelectionStart:({pointerEvent:d,cancel:u})=>{d.button===2?r([]):u()},onSelectionChange:({selectedElements:d})=>{let u=new Set;for(let h of d){let x=h.closest("[data-5]")?.getAttribute("data-5");x&&u.add(x)}r([...u])}})}))(s),K(()=>s.innerHTML=e()),s})(),(()=>{let s=rr.cloneNode(!0);return K(()=>xt(s,"href",t())),s})(),or.cloneNode(!0),T(de,{get when(){return o().length!==0},get children(){let s=sr.cloneNode(!0),a=s.firstChild,l=a.firstChild;return j(l,T(W,{get each(){return o()},children:(i,d)=>[(()=>{let u=ir.cloneNode(!0),h=u.firstChild;return j(h,(()=>{let x=pt(()=>d()===0,!0);return()=>x()?`${o().length} ${o().length===1?"entity":"entities"}`:" "})()),u})(),T(W,{each:i,children:([u,h])=>(()=>{let x=lr.cloneNode(!0),c=x.firstChild,f=c.nextSibling;return j(c,u),j(f,h),x})()})]})),s}})]};var Zt=N('<textarea readonly="" class="w-full h-full resize-none"></textarea>',2),ur=N('<section class="h-full overflow-auto mx-1em my-0.5em"></section>',2),dr=N('<section class="h-full overflow-auto p-1em"></section>',2),hr=N("<h3></h3>",2),pr=N('<table class="mb-1em"><tbody></tbody></table>',4),mr=N('<tr><td class="text-right"></td><td></td></tr>',6),gr=N('<div class="mb-1em"></div>',2),ie=e=>{let t=[];for(let n of e)for(let[r]of n)t.includes(r)||t.push(r);return t.sort((n,r)=>n-r)},en=()=>T(ht,{get children(){return[T(X,{get when(){return!V()},get children(){return[]}}),T(X,{get when(){return V()==="PREVIEW"},get children(){return T(Qt,{})}}),T(X,{get when(){return V()==="DXF"},get children(){let e=Zt.cloneNode(!0);return j(e,()=>Fe(R())),e}}),T(X,{get when(){return V()==="JSON"},get children(){let e=Zt.cloneNode(!0);return j(e,()=>JSON.stringify(R(),void 0,2)),e}}),T(X,{get when(){return V()==="HEADER"},get children(){return T(oe,{get columns(){return[9,...ie(Object.values(R().HEADER))]},get records(){return Object.entries(R().HEADER)},tdSelector:e=>e===9?([t])=>t:([,t])=>I(t,e).join(`
`)})}}),T(X,{get when(){return V()==="CLASSES"},get children(){return T(oe,{get columns(){return[1,...ie(Object.values(R().CLASSES))]},get records(){return Object.entries(R().CLASSES)},tdSelector:e=>e===1?([t])=>t:([,t])=>I(t,e).join(`
`)})}}),T(X,{get when(){return V()==="TABLES"},get children(){return T(oe,{get columns(){return["TABLE",...ie(Object.values(R().TABLES).flat())]},get records(){return Object.entries(R().TABLES).flatMap(([e,t])=>t.map(n=>[e,n]))},tdSelector:e=>e==="TABLE"?([t])=>t:([,t])=>I(t,e).join(`
`)})}}),T(X,{get when(){return V()==="BLOCKS"},get children(){return T(oe,{get columns(){return["BLOCK",...ie(Object.values(R().BLOCKS).flat())]},get records(){return Object.entries(R().BLOCKS).flatMap(([e,t])=>t.map(n=>[e,n]))},tdSelector:e=>e==="BLOCK"?([t])=>t:([,t])=>I(t,e).join(`
`)})}}),T(X,{get when(){return V()==="ENTITIES"},get children(){return T(oe,{get columns(){return ie(R().ENTITIES)},get records(){return R().ENTITIES},tdSelector:e=>t=>I(t,e).join(`
`)})}}),T(X,{get when(){return V()==="OBJECTS"},get children(){let e=ur.cloneNode(!0);return j(e,T(W,{get each(){return R().OBJECTS},children:t=>[(()=>{let n=hr.cloneNode(!0);return j(n,()=>C(t,0)),n})(),(()=>{let n=pr.cloneNode(!0),r=n.firstChild;return j(r,T(W,{each:t,children:([o,s])=>(()=>{let a=mr.cloneNode(!0),l=a.firstChild,i=l.nextSibling;return j(l,o),j(i,s),a})()})),n})()]})),e}}),T(X,{get when(){return V()==="ACDSDATA"},get children(){let e=dr.cloneNode(!0);return j(e,T(W,{get each(){return R().ACDSDATA},children:t=>(()=>{let n=gr.cloneNode(!0);return j(n,T(oe,{get columns(){return ie(t)},records:t,tdSelector:r=>o=>I(o,r).join(`
`)})),n})()})),e}})]}});var br=N('<label><input type="radio" name="section" hidden=""><span></span></label>',5),xr=N('<input placeholder="filter" style="border: none; border-bottom: 1px solid #ccc; font-size: 0.875em; padding: .125rem .5rem">',1),vr=N('<div class="flex-auto"></div>',2),Ae=({sectionName:e})=>(()=>{let t=br.cloneNode(!0),n=t.firstChild,r=n.nextSibling;return n.addEventListener("change",o=>o.currentTarget.checked&&me(o.currentTarget.value)),n.value=e,j(r,e),K(()=>n.checked=V()===e),t})(),tn=()=>T(de,{get when(){return V()},get children(){return[T(de,{get when(){return["HEADER","CLASSES","TABLES","BLOCKS","ENTITIES"].includes(V())},get children(){let e=xr.cloneNode(!0);return e.$$input=t=>Ot(t.currentTarget.value),K(()=>e.value=$e()),e}}),vr.cloneNode(!0),T(Ae,{sectionName:"PREVIEW"}),T(Ae,{sectionName:"DXF"}),T(Ae,{sectionName:"JSON"}),T(W,{get each(){return Object.keys(R())},children:e=>T(Ae,{sectionName:e})})]}});bt(["input"]);var nn=(e,t)=>{let n=!1;e.addEventListener("dragenter",()=>{n=!0,e.classList.add("dragging")}),e.addEventListener("dragover",r=>{r.preventDefault(),n=!1;let o=r.dataTransfer;o&&(o.types.length===1&&o.types[0]==="Files"||o.items&&o.items.length===1&&o.items[0].kind==="file"?o.dropEffect="copy":o.dropEffect="none")}),e.addEventListener("dragleave",()=>{n||e.classList.remove("dragging")}),e.addEventListener("drop",r=>{r.stopPropagation(),r.preventDefault(),e.classList.remove("dragging");let o=r.dataTransfer;o&&t(o.files[0])})};Ie(()=>T(tn,{}),document.getElementsByTagName("nav")[0]);Ie(()=>T(en,{}),document.getElementsByTagName("main")[0]);nn(document.body,e=>{let t=performance.now();e.arrayBuffer().then(n=>{let r=Se(n),o=performance.now();console.debug(e.name,`${o-t} [ms]`),document.getElementsByTagName("h2")[0].textContent=e.name,me(""),Mt(r),me("PREVIEW")})});
