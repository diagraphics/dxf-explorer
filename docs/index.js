var mn=Object.create;var Pe=Object.defineProperty;var gn=Object.getOwnPropertyDescriptor;var bn=Object.getOwnPropertyNames;var xn=Object.getPrototypeOf,vn=Object.prototype.hasOwnProperty;var yn=(e,t,n)=>t in e?Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var En=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var wn=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bn(t))!vn.call(e,o)&&o!==n&&Pe(e,o,{get:()=>t[o],enumerable:!(r=gn(t,o))||r.enumerable});return e};var Sn=(e,t,n)=>(n=e!=null?mn(xn(e)):{},wn(t||!e||!e.__esModule?Pe(n,"default",{value:e,enumerable:!0}):n,e));var Re=(e,t,n)=>(yn(e,typeof t!="symbol"?t+"":t,n),n);var jt=En((Ho,nt)=>{(function(e,t){typeof nt<"u"?nt.exports=t():typeof define=="function"&&typeof define.amd=="object"?define(t):this[e]=t()})("Clusterize",function(){"use strict";var e=function(){for(var a=3,l=document.createElement("b"),d=l.all||[];l.innerHTML="<!--[if gt IE "+ ++a+"]><i><![endif]-->",d[0];);return a>4?a:document.documentMode}(),t=navigator.platform.toLowerCase().indexOf("mac")+1,n=function(a){if(!(this instanceof n))return new n(a);var l=this,d={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,callbacks:{}};l.options={};for(var i=["rows_in_block","blocks_in_cluster","show_no_data_row","no_data_class","no_data_text","keep_parity","tag","callbacks"],f=0,u;u=i[f];f++)l.options[u]=typeof a[u]<"u"&&a[u]!=null?a[u]:d[u];for(var h=["scroll","content"],f=0,g;g=h[f];f++)if(l[g+"_elem"]=a[g+"Id"]?document.getElementById(a[g+"Id"]):a[g+"Elem"],!l[g+"_elem"])throw new Error("Error! Could not find "+g+" element");l.content_elem.hasAttribute("tabindex")||l.content_elem.setAttribute("tabindex",0);var p=s(a.rows)?a.rows:l.fetchMarkup(),x={},v=l.scroll_elem.scrollTop;l.insertToDOM(p,x),l.scroll_elem.scrollTop=v;var y=!1,T=0,_=!1,m=function(){t&&(_||(l.content_elem.style.pointerEvents="none"),_=!0,clearTimeout(T),T=setTimeout(function(){l.content_elem.style.pointerEvents="auto",_=!1},50)),y!=(y=l.getClusterNum(p))&&l.insertToDOM(p,x),l.options.callbacks.scrollingProgress&&l.options.callbacks.scrollingProgress(l.getScrollProgress())},S=0,M=function(){clearTimeout(S),S=setTimeout(l.refresh,100)};r("scroll",l.scroll_elem,m),r("resize",window,M),l.destroy=function(L){o("scroll",l.scroll_elem,m),o("resize",window,M),l.html((L?l.generateEmptyRow():p).join(""))},l.refresh=function(L){(l.getRowsHeight(p)||L)&&l.update(p)},l.update=function(L){p=s(L)?L:[];var $=l.scroll_elem.scrollTop;p.length*l.options.item_height<$&&(l.scroll_elem.scrollTop=0,y=0),l.insertToDOM(p,x),l.scroll_elem.scrollTop=$},l.clear=function(){l.update([])},l.getRowsAmount=function(){return p.length},l.getScrollProgress=function(){return this.options.scroll_top/(p.length*this.options.item_height)*100||0};var A=function(L,$){var N=s($)?$:[];!N.length||(p=L=="append"?p.concat(N):N.concat(p),l.insertToDOM(p,x))};l.append=function(L){A("append",L)},l.prepend=function(L){A("prepend",L)}};n.prototype={constructor:n,fetchMarkup:function(){for(var a=[],l=this.getChildNodes(this.content_elem);l.length;)a.push(l.shift().outerHTML);return a},exploreEnvironment:function(a,l){var d=this.options;d.content_tag=this.content_elem.tagName.toLowerCase(),a.length&&(e&&e<=9&&!d.tag&&(d.tag=a[0].match(/<([^>\s/]*)/)[1].toLowerCase()),this.content_elem.children.length<=1&&(l.data=this.html(a[0]+a[0]+a[0])),d.tag||(d.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(a))},getRowsHeight:function(a){var l=this.options,d=l.item_height;if(l.cluster_height=0,!!a.length){var i=this.content_elem.children;if(!!i.length){var f=i[Math.floor(i.length/2)];if(l.item_height=f.offsetHeight,l.tag=="tr"&&c("borderCollapse",this.content_elem)!="collapse"&&(l.item_height+=parseInt(c("borderSpacing",this.content_elem),10)||0),l.tag!="tr"){var u=parseInt(c("marginTop",f),10)||0,h=parseInt(c("marginBottom",f),10)||0;l.item_height+=Math.max(u,h)}return l.block_height=l.item_height*l.rows_in_block,l.rows_in_cluster=l.blocks_in_cluster*l.rows_in_block,l.cluster_height=l.blocks_in_cluster*l.block_height,d!=l.item_height}}},getClusterNum:function(a){var l=this.options;l.scroll_top=this.scroll_elem.scrollTop;var d=l.cluster_height-l.block_height,i=Math.floor(l.scroll_top/d),f=Math.floor(a.length*l.item_height/d);return Math.min(i,f)},generateEmptyRow:function(){var a=this.options;if(!a.tag||!a.show_no_data_row)return[];var l=document.createElement(a.tag),d=document.createTextNode(a.no_data_text),i;return l.className=a.no_data_class,a.tag=="tr"&&(i=document.createElement("td"),i.colSpan=100,i.appendChild(d)),l.appendChild(i||d),[l.outerHTML]},generate:function(a){var l=this.options,d=a.length;if(d<l.rows_in_block)return{top_offset:0,bottom_offset:0,rows_above:0,rows:d?a:this.generateEmptyRow()};var i=Math.max((l.rows_in_cluster-l.rows_in_block)*this.getClusterNum(a),0),f=i+l.rows_in_cluster,u=Math.max(i*l.item_height,0),h=Math.max((d-f)*l.item_height,0),g=[],p=i;u<1&&p++;for(var x=i;x<f;x++)a[x]&&g.push(a[x]);return{top_offset:u,bottom_offset:h,rows_above:p,rows:g}},renderExtraTag:function(a,l){var d=document.createElement(this.options.tag),i="clusterize-";return d.className=[i+"extra-row",i+a].join(" "),l&&(d.style.height=l+"px"),d.outerHTML},insertToDOM:function(a,l){this.options.cluster_height||this.exploreEnvironment(a,l);var d=this.generate(a),i=d.rows.join(""),f=this.checkChanges("data",i,l),u=this.checkChanges("top",d.top_offset,l),h=this.checkChanges("bottom",d.bottom_offset,l),g=this.options.callbacks,p=[];f||u?(d.top_offset&&(this.options.keep_parity&&p.push(this.renderExtraTag("keep-parity")),p.push(this.renderExtraTag("top-space",d.top_offset))),p.push(i),d.bottom_offset&&p.push(this.renderExtraTag("bottom-space",d.bottom_offset)),g.clusterWillChange&&g.clusterWillChange(),this.html(p.join("")),this.options.content_tag=="ol"&&this.content_elem.setAttribute("start",d.rows_above),this.content_elem.style["counter-increment"]="clusterize-counter "+(d.rows_above-1),g.clusterChanged&&g.clusterChanged()):h&&(this.content_elem.lastChild.style.height=d.bottom_offset+"px")},html:function(a){var l=this.content_elem;if(e&&e<=9&&this.options.tag=="tr"){var d=document.createElement("div"),i;for(d.innerHTML="<table><tbody>"+a+"</tbody></table>";i=l.lastChild;)l.removeChild(i);for(var f=this.getChildNodes(d.firstChild.firstChild);f.length;)l.appendChild(f.shift())}else l.innerHTML=a},getChildNodes:function(a){for(var l=a.children,d=[],i=0,f=l.length;i<f;i++)d.push(l[i]);return d},checkChanges:function(a,l,d){var i=l!=d[a];return d[a]=l,i}};function r(a,l,d){return l.addEventListener?l.addEventListener(a,d,!1):l.attachEvent("on"+a,d)}function o(a,l,d){return l.removeEventListener?l.removeEventListener(a,d,!1):l.detachEvent("on"+a,d)}function s(a){return Object.prototype.toString.call(a)==="[object Array]"}function c(a,l){return window.getComputedStyle?window.getComputedStyle(l)[a]:l.currentStyle[a]}return n})});var V={};function Fe(e){V.context=e}function Cn(){return{...V.context,id:`${V.context.id}${V.context.count++}-`,count:0}}var Tn=(e,t)=>e===t,jr=Symbol("solid-proxy"),_n=Symbol("solid-track"),Hr=Symbol("solid-dev-component"),we={equals:Tn},ft=null,pt=xt,ne={},X=1,Q=2,mt={owned:null,cleanups:null,context:null,owner:null},[Vr,ut]=K(!1),k=null,b=null,ie=null,Be=null,D=null,de=null,P=null,H=null,Ge=0;function he(e,t){let n=D,r=k,o=e.length===0?mt:{owned:null,cleanups:null,context:null,owner:t||r};k=o,D=null;try{return me(()=>e(()=>pe(o)),!0)}finally{D=n,k=r}}function K(e,t){t=t?Object.assign({},we,t):we;let n={value:e,observers:null,observerSlots:null,pending:ne,comparator:t.equals||void 0},r=o=>(typeof o=="function"&&(b&&b.running&&b.sources.has(n)?o=o(n.pending!==ne?n.pending:n.tValue):o=o(n.pending!==ne?n.pending:n.value)),Xe(n,o));return[bt.bind(n),r]}function Ln(e,t,n){let r=Te(e,t,!0,X);ie&&b&&b.running?P.push(r):le(r)}function W(e,t,n){let r=Te(e,t,!1,X);ie&&b&&b.running?P.push(r):le(r)}function Ce(e,t,n){pt=Nn;let r=Te(e,t,!1,X),o=He&&Ue(k,He.id);o&&(r.suspense=o),r.user=!0,H?H.push(r):le(r)}function j(e,t,n){n=n?Object.assign({},we,n):we;let r=Te(e,t,!0,0);return r.pending=ne,r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,ie&&b&&b.running?(r.tState=X,P.push(r)):le(r),bt.bind(r)}function je(e){if(de)return e();let t,n=de=[];try{t=e()}finally{de=null}return me(()=>{for(let r=0;r<n.length;r+=1){let o=n[r];if(o.pending!==ne){let s=o.pending;o.pending=ne,Xe(o,s)}}},!1),t}function Z(e){let t,n=D;return D=null,t=e(),D=n,t}function ze(e){return k===null||(k.cleanups===null?k.cleanups=[e]:k.cleanups.push(e)),e}function $n(e){if(b&&b.running)return e(),b.done;let t=D,n=k;return Promise.resolve().then(()=>{D=t,k=n;let r;return(ie||He)&&(r=b||(b={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise(o=>r.resolve=o)),r.running=!0),je(e),D=k=null,r?r.done:void 0})}function kn(e){let t=Symbol("context");return{id:t,Provider:Dn(t),defaultValue:e}}function gt(e){let t=j(e);return j(()=>Ve(t()))}var He;function bt(){let e=b&&b.running;if(this.sources&&(!e&&this.state||e&&this.tState)){let t=P;P=null,!e&&this.state===X||e&&this.tState===X?le(this):Se(this),P=t}if(D){let t=this.observers?this.observers.length:0;D.sources?(D.sources.push(this),D.sourceSlots.push(t)):(D.sources=[this],D.sourceSlots=[t]),this.observers?(this.observers.push(D),this.observerSlots.push(D.sources.length-1)):(this.observers=[D],this.observerSlots=[D.sources.length-1])}return e&&b.sources.has(this)?this.tValue:this.value}function Xe(e,t,n){if(de)return e.pending===ne&&de.push(e),e.pending=t,t;if(e.comparator){if(b&&b.running&&b.sources.has(e)){if(e.comparator(e.tValue,t))return t}else if(e.comparator(e.value,t))return t}let r=!1;return b?(r=b.running,(r||!n&&b.sources.has(e))&&(b.sources.add(e),e.tValue=t),r||(e.value=t)):e.value=t,e.observers&&e.observers.length&&me(()=>{for(let o=0;o<e.observers.length;o+=1){let s=e.observers[o];r&&b.disposed.has(s)||((r&&!s.tState||!r&&!s.state)&&(s.pure?P.push(s):H.push(s),s.observers&&vt(s)),r?s.tState=X:s.state=X)}if(P.length>1e6)throw P=[],new Error},!1),t}function le(e){if(!e.fn)return;pe(e);let t=k,n=D,r=Ge;D=k=e,dt(e,b&&b.running&&b.sources.has(e)?e.tValue:e.value,r),b&&!b.running&&b.sources.has(e)&&queueMicrotask(()=>{me(()=>{b&&(b.running=!0),dt(e,e.tValue,r)},!1)}),D=n,k=t}function dt(e,t,n){let r;try{r=e.fn(t)}catch(o){Et(o)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?Xe(e,r,!0):b&&b.running&&e.pure?(b.sources.add(e),e.tValue=r):e.value=r,e.updatedAt=n)}function Te(e,t,n,r=X,o){let s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:k,context:null,pure:n};if(b&&b.running&&(s.state=0,s.tState=r),k===null||k!==mt&&(b&&b.running&&k.pure?k.tOwned?k.tOwned.push(s):k.tOwned=[s]:k.owned?k.owned.push(s):k.owned=[s]),Be){let[c,a]=K(void 0,{equals:!1}),l=Be(s.fn,a);ze(()=>l.dispose());let d=()=>$n(a).then(()=>i.dispose()),i=Be(s.fn,d);s.fn=f=>(c(),b&&b.running?i.track(f):l.track(f))}return s}function se(e){let t=b&&b.running;if(!t&&e.state===0||t&&e.tState===0)return;if(!t&&e.state===Q||t&&e.tState===Q)return Se(e);if(e.suspense&&Z(e.suspense.inFallback))return e.suspense.effects.push(e);let n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ge);){if(t&&b.disposed.has(e))return;(!t&&e.state||t&&e.tState)&&n.push(e)}for(let r=n.length-1;r>=0;r--){if(e=n[r],t){let o=e,s=n[r+1];for(;(o=o.owner)&&o!==s;)if(b.disposed.has(o))return}if(!t&&e.state===X||t&&e.tState===X)le(e);else if(!t&&e.state===Q||t&&e.tState===Q){let o=P;P=null,Se(e,n[0]),P=o}}}function me(e,t){if(P)return e();let n=!1;t||(P=[]),H?n=!0:H=[],Ge++;try{let r=e();return Mn(n),r}catch(r){Et(r)}finally{P=null,n||(H=null)}}function Mn(e){if(P&&(ie&&b&&b.running?An(P):xt(P),P=null),e)return;let t;if(b&&b.running){if(b.promises.size||b.queue.size){b.running=!1,b.effects.push.apply(b.effects,H),H=null,ut(!0);return}let n=b.sources;t=b.resolve,H.forEach(r=>{"tState"in r&&(r.state=r.tState),delete r.tState}),b=null,je(()=>{n.forEach(r=>{if(r.value=r.tValue,r.owned)for(let o=0,s=r.owned.length;o<s;o++)pe(r.owned[o]);r.tOwned&&(r.owned=r.tOwned),delete r.tValue,delete r.tOwned,r.tState=0}),ut(!1)})}H.length?je(()=>{pt(H),H=null}):H=null,t&&t()}function xt(e){for(let t=0;t<e.length;t++)se(e[t])}function An(e){for(let t=0;t<e.length;t++){let n=e[t],r=b.queue;r.has(n)||(r.add(n),ie(()=>{r.delete(n),me(()=>{b.running=!0,se(n),r.size||(H.push.apply(H,b.effects),b.effects=[])},!1),b&&(b.running=!1)}))}}function Nn(e){let t,n=0;for(t=0;t<e.length;t++){let o=e[t];o.user?e[n++]=o:se(o)}V.context&&Fe();let r=e.length;for(t=0;t<n;t++)se(e[t]);for(t=r;t<e.length;t++)se(e[t])}function Se(e,t){let n=b&&b.running;n?e.tState=0:e.state=0;for(let r=0;r<e.sources.length;r+=1){let o=e.sources[r];o.sources&&(!n&&o.state===X||n&&o.tState===X?o!==t&&se(o):(!n&&o.state===Q||n&&o.tState===Q)&&Se(o,t))}}function vt(e){let t=b&&b.running;for(let n=0;n<e.observers.length;n+=1){let r=e.observers[n];(!t&&!r.state||t&&!r.tState)&&(t?r.tState=Q:r.state=Q,r.pure?P.push(r):H.push(r),r.observers&&vt(r))}}function pe(e){let t;if(e.sources)for(;e.sources.length;){let n=e.sources.pop(),r=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){let s=o.pop(),c=n.observerSlots.pop();r<o.length&&(s.sourceSlots[c]=r,o[r]=s,n.observerSlots[r]=c)}}if(b&&b.running&&e.pure){if(e.tOwned){for(t=0;t<e.tOwned.length;t++)pe(e.tOwned[t]);delete e.tOwned}yt(e,!0)}else if(e.owned){for(t=0;t<e.owned.length;t++)pe(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}b&&b.running?e.tState=0:e.state=0,e.context=null}function yt(e,t){if(t||(e.tState=0,b.disposed.add(e)),e.owned)for(let n=0;n<e.owned.length;n++)yt(e.owned[n])}function Et(e){let t=ft&&Ue(k,ft);if(!t)throw e;t.forEach(n=>n(e))}function Ue(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:Ue(e.owner,t):void 0}function Ve(e){if(typeof e=="function"&&!e.length)return Ve(e());if(Array.isArray(e)){let t=[];for(let n=0;n<e.length;n++){let r=Ve(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Dn(e){return function(n){let r;return Ln(()=>r=Z(()=>(k.context={[e]:n.value},gt(()=>n.children)))),r}}var On=Symbol("fallback");function ht(e){for(let t=0;t<e.length;t++)e[t]()}function In(e,t,n={}){let r=[],o=[],s=[],c=0,a=t.length>1?[]:null;return ze(()=>ht(s)),()=>{let l=e()||[],d,i;return l[_n],Z(()=>{let u=l.length,h,g,p,x,v,y,T,_,m;if(u===0)c!==0&&(ht(s),s=[],r=[],o=[],c=0,a&&(a=[])),n.fallback&&(r=[On],o[0]=he(S=>(s[0]=S,n.fallback())),c=1);else if(c===0){for(o=new Array(u),i=0;i<u;i++)r[i]=l[i],o[i]=he(f);c=u}else{for(p=new Array(u),x=new Array(u),a&&(v=new Array(u)),y=0,T=Math.min(c,u);y<T&&r[y]===l[y];y++);for(T=c-1,_=u-1;T>=y&&_>=y&&r[T]===l[_];T--,_--)p[_]=o[T],x[_]=s[T],a&&(v[_]=a[T]);for(h=new Map,g=new Array(_+1),i=_;i>=y;i--)m=l[i],d=h.get(m),g[i]=d===void 0?-1:d,h.set(m,i);for(d=y;d<=T;d++)m=r[d],i=h.get(m),i!==void 0&&i!==-1?(p[i]=o[d],x[i]=s[d],a&&(v[i]=a[d]),i=g[i],h.set(m,i)):s[d]();for(i=y;i<u;i++)i in p?(o[i]=p[i],s[i]=x[i],a&&(a[i]=v[i],a[i](i))):o[i]=he(f);o=o.slice(0,c=u),r=l.slice(0)}return o});function f(u){if(s[i]=u,a){let[h,g]=K(i);return a[i]=g,t(l[i],h)}return t(l[i])}}}var Pn=!1;function C(e,t){if(Pn&&V.context){let n=V.context;Fe(Cn());let r=Z(()=>e(t||{}));return Fe(n),r}return Z(()=>e(t||{}))}function Y(e){let t="fallback"in e&&{fallback:()=>e.fallback};return j(In(()=>e.each,e.children,t||void 0))}function ce(e){let t=!1,n=j(()=>e.when,void 0,{equals:(r,o)=>t?r===o:!r==!o});return j(()=>{let r=n();if(r){let o=e.children;return(t=typeof o=="function"&&o.length>0)?Z(()=>o(r)):o}return e.fallback})}function Ye(e){let t=!1,n=gt(()=>e.children),r=j(()=>{let o=n();Array.isArray(o)||(o=[o]);for(let s=0;s<o.length;s++){let c=o[s].when;if(c)return[s,c,o[s]]}return[-1]},void 0,{equals:(o,s)=>o[0]===s[0]&&(t?o[1]===s[1]:!o[1]==!s[1])&&o[2]===s[2]});return j(()=>{let[o,s,c]=r();if(o<0)return e.fallback;let a=c.children;return(t=typeof a=="function"&&a.length>0)?Z(()=>a(s)):a})}function U(e){return e}var Gr=kn();var Rn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],eo=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Rn]);function Ct(e,t){return j(e,void 0,t?void 0:{equals:t})}function Bn(e,t,n){let r=n.length,o=t.length,s=r,c=0,a=0,l=t[o-1].nextSibling,d=null;for(;c<o||a<s;){if(t[c]===n[a]){c++,a++;continue}for(;t[o-1]===n[s-1];)o--,s--;if(o===c){let i=s<r?a?n[a-1].nextSibling:n[s-a]:l;for(;a<s;)e.insertBefore(n[a++],i)}else if(s===a)for(;c<o;)(!d||!d.has(t[c]))&&t[c].remove(),c++;else if(t[c]===n[s-1]&&n[a]===t[o-1]){let i=t[--o].nextSibling;e.insertBefore(n[a++],t[c++].nextSibling),e.insertBefore(n[--s],i),t[o]=n[s]}else{if(!d){d=new Map;let f=a;for(;f<s;)d.set(n[f],f++)}let i=d.get(t[c]);if(i!=null)if(a<i&&i<s){let f=c,u=1,h;for(;++f<o&&f<s&&!((h=d.get(t[f]))==null||h!==i+u);)u++;if(u>i-a){let g=t[c];for(;a<i;)e.insertBefore(n[a++],g)}else e.replaceChild(n[a++],t[c++])}else c++;else t[c++].remove()}}}var wt="_$DX_DELEGATE";function We(e,t,n){let r;return he(o=>{r=o,t===document?e():I(t,e(),t.firstChild?null:void 0,n)}),()=>{r(),t.textContent=""}}function O(e,t,n){let r=document.createElement("template");r.innerHTML=e;let o=r.content.firstChild;return n&&(o=o.firstChild),o}function Tt(e,t=window.document){let n=t[wt]||(t[wt]=new Set);for(let r=0,o=e.length;r<o;r++){let s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,Fn))}}function _t(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function I(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return _e(e,t,r,n);W(o=>_e(e,t(),o,n),r)}function Fn(e){let t=`$$${e.type}`,n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),V.registry&&!V.done&&(V.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>r.remove()));n!==null;){let r=n[t];if(r&&!n.disabled){let o=n[`${t}Data`];if(o!==void 0?r(o,e):r(e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function _e(e,t,n,r,o){for(V.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;let s=typeof t,c=r!==void 0;if(e=c&&n[0]&&n[0].parentNode||e,s==="string"||s==="number"){if(V.context)return n;if(s==="number"&&(t=t.toString()),c){let a=n[0];a&&a.nodeType===3?a.data=t:a=document.createTextNode(t),n=ae(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||s==="boolean"){if(V.context)return n;n=ae(e,n,r)}else{if(s==="function")return W(()=>{let a=t();for(;typeof a=="function";)a=a();n=_e(e,a,n,r)}),()=>n;if(Array.isArray(t)){let a=[];if(qe(a,t,o))return W(()=>n=_e(e,a,n,r,!0)),()=>n;if(V.context){for(let l=0;l<a.length;l++)if(a[l].parentNode)return n=a}if(a.length===0){if(n=ae(e,n,r),c)return n}else Array.isArray(n)?n.length===0?St(e,a,r):Bn(e,n,a):(n&&ae(e),St(e,a));n=a}else if(t instanceof Node){if(V.context&&t.parentNode)return n=c?[t]:t;if(Array.isArray(n)){if(c)return n=ae(e,n,r,t);ae(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function qe(e,t,n){let r=!1;for(let o=0,s=t.length;o<s;o++){let c=t[o],a;if(c instanceof Node)e.push(c);else if(!(c==null||c===!0||c===!1))if(Array.isArray(c))r=qe(e,c)||r;else if((a=typeof c)=="string")e.push(document.createTextNode(c));else if(a==="function")if(n){for(;typeof c=="function";)c=c();r=qe(e,Array.isArray(c)?c:[c])||r}else e.push(c),r=!0;else e.push(document.createTextNode(c.toString()))}return r}function St(e,t,n){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function ae(e,t,n,r){if(n===void 0)return e.textContent="";let o=r||document.createTextNode("");if(t.length){let s=!1;for(let c=t.length-1;c>=0;c--){let a=t[c];if(o!==a){let l=a.parentNode===e;!s&&!c?l?e.replaceChild(o,a):e.insertBefore(o,n):l&&a.remove()}else s=!0}}else e.insertBefore(o,n);return[o]}var w=(e,t)=>{if(e){for(let n of e)if(n[0]===t)return n[1]}};var Le=()=>Object.create(null),Lt=(e,t)=>{switch(e){default:{let n=[],r=[];for(let o of t)o[0]===0&&n.push(r=[]),r.push(o);return n}case"HEADER":{let n=Le(),r=[];for(let o of t)o[0]===9?n[o[1]]=r=[]:r.push(o);return n}case"CLASSES":{let n=Le(),r=[];for(let o of t)o[0]===0?r=[]:o[0]===1?n[o[1]]=r:r.push(o);return n}case"TABLES":{let n=Le(),r=[],o=[];for(let s of t)s[0]===0?(o=[],s[1]==="TABLE"?r=[o]:s[1]!=="ENDTAB"&&r.push(o)):s[0]===2&&w(o,0)==="TABLE"&&(n[s[1]]=r),o.push(s);return n}case"BLOCKS":{let n=Le(),r=[],o=[];for(let s of t)s[0]===0?(o=[],s[1]==="BLOCK"?r=[o]:r.push(o)):s[0]===2&&w(o,0)==="BLOCK"&&(n[s[1]]=r),o.push(s);return n}case"OBJECTS":{let n=[],r=[];for(let o of t)o[0]===0&&n.push(r=[]),r.push(o);return n}case"ACDSDATA":{let n=[],r=[n],o=[r];for(let s of t)s[0]===0?(o.push(r=[]),r.push(n=[])):s[0]===2&&r.push(n=[]),n.push(s);return o}}};function $t(e){let t=e.split(/\r\n|\r|\n/),n=Math.floor(t.length/2),r=Array(n);for(let o=0;o<n;o++)r[o]=[parseInt(t[o+o],10),t[o+o+1]];return r}function kt(e){let t=[];for(let n=1;n<e.length;n++)if(e[n-1][0]===0&&e[n-1][1]==="SECTION"&&e[n][0]===2){let r=n;for(;++n<e.length&&(e[n][0]!==0||e[n][1]!=="ENDSEC"););t.push({name:e[r][1],startIndex:r+1,endIndex:n})}return t}var Mt=(e,t)=>{let n=$t(e);for(let{name:r,startIndex:o,endIndex:s}of kt(n))if(r===t)return Lt(r,n.slice(o,s))},Ke=e=>{let t=Object.create(null),n=$t(e);for(let{name:r,startIndex:o,endIndex:s}of kt(n))t[r]=Lt(r,n.slice(o,s));return t};var jn={cp874:"dos-874",cp932:"ms932",cp936:"gbk",cp949:"windows-949",cp950:"csbig5",cp1361:"johab","mac-roman":"mac"},Hn=e=>{let t=e.trim().toLowerCase().replace(/^dos|^ansi_/,"cp").replace(/^iso8859_/,"iso8859-");return jn[t]||t},Vn={ja:"ms932"},$e=(e,t)=>{let n=t?.encoding,o=new TextDecoder(n?Hn(n):void 0).decode(e);if(!n){let s=Mt(o,"HEADER"),c=w(s?.$ACADVER,1);if(!c||c<"AC1021"){let a=w(s?.$DWGCODEPAGE,3)??Vn[navigator.language]??"cp1252";return $e(e,{encoding:a})}}return Ke(o)};var ke=(e,t)=>{for(let[n,r]of t)e+=n,e+=`
`,e+=r,e+=`
`;return e},Je=e=>{let t="";for(let n in e){t+=`0
SECTION
2
`,t+=n,t+=`
`;let r=e[n];switch(n){default:for(let o of r)t=ke(t,o);break;case"HEADER":for(let o in r){t+=`9
`,t+=o,t+=`
`;let s=r[o];for(let[c,a]of s)t+=c,t+=`
`,t+=a,t+=`
`}break;case"CLASSES":for(let o in r){let s=r[o];t+=`0
CLASS
1
`,t+=o,t+=`
`;for(let[c,a]of s)c!==0&&(t+=c,t+=`
`,t+=a,t+=`
`)}break;case"TABLES":for(let o in r){for(let s of r[o])t=ke(t,s);t+=`0
ENDTAB
`}break;case"BLOCKS":for(let o in r)for(let s of r[o])t=ke(t,s);break;case"OBJECTS":for(let o of r)for(let[s,c]of o)t+=s,t+=`
`,t+=c,t+=`
`;break;case"ACDSDATA":for(let o of r)for(let s of o)t=ke(t,s);break}t+=`0
ENDSEC
`}return t+=`0
EOF
`,t};var F=(e,t)=>{let n=[];if(e)for(let r of e)r[0]===t&&n.push(r[1]);return n};var Gn=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix;function Nt(e,t,n){return e<t?t:e>n?n:e}function ge(e,t){var n=new Gn(t.style.transform);return[n.a,e.scrollLeft-n.e,e.scrollTop-n.f]}function Me(e,t,n,r,o){var s=Math.round(Math.max(r,0)),c=Math.round(Math.max(o,0));t.setAttribute("transform",t.style.transform="matrix("+n+",0,0,"+n+","+(s-r)+","+(c-o)+")"),t.style.margin=0,e.scrollLeft=s,e.scrollTop=c,e.scrollLeft!==s&&(t.style.marginRight=s+"px",e.scrollLeft=s),e.scrollTop!==c&&(t.style.marginBottom=c+"px",e.scrollTop=c)}var zn=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector,Xn=Element.prototype.closest?function(e,t){return e&&e.closest(t)}:function(e,t){for(;e&&!zn.call(e,t);)e=e.parentNode instanceof Element?e.parentNode:null;return e};function et(e){var t={};if(e)for(var n=0,r=e.split(";");n<r.length;n++){var o=r[n],s=o.indexOf(":");t[o.slice(0,s).trim().replace(/[a-zA-Z0-9_]-[a-z]/g,function(c){return c[0]+c[2].toUpperCase()})]=o.slice(s+1).trim()}return t}function Ae(e,t){var n=Xn(e,"["+t+"]");return n instanceof HTMLElement?[n,et(n.getAttribute(t))]:[]}function At(){}var Ze=!1;try{Qe=Object.defineProperty({},"passive",{get:function(){Ze=!0}}),addEventListener("t",At,Qe),removeEventListener("t",At,Qe)}catch{Ze=!1}var Qe,Dt=Ze?{passive:!1}:void 0;function Ot(e,t,n){var r=e.firstElementChild,o=ge(e,r),s=o[0],c=o[1],a=o[2];Me(e,r,s,c+t,a+n)}var It=function(e){return e.preventDefault()};function Pt(e,t){addEventListener("mousedown",function(n){if(!(n.button!==0&&n.button!==2)){var r=Ae(n.target,e),o=r[0],s=r[1];if(!(!o||!s||!Un(n,s,t))){n.preventDefault();var c=n.clientX,a=n.clientY,l=function(i){Ot(o,c-i.clientX,a-i.clientY),c=i.clientX,a=i.clientY,i.preventDefault()},d=function(){removeEventListener("mouseup",d),removeEventListener("mousemove",l),removeEventListener("contextmenu",It)};addEventListener("mouseup",d),addEventListener("mousemove",l),addEventListener("contextmenu",It)}}})}function Un(e,t,n){return(!t.modifier||e.getModifierState(t.modifier))&&e.button===((t.button||n.button)==="right"?2:0)}function Yn(e){return ge(e,e.firstElementChild)[0]}function qn(e,t,n){n===void 0&&(n={});var r=Nt(t,n.minScale||1,n.maxScale||10),o=n.origin,s=e.firstElementChild,c=ge(e,s),a=c[0],l=c[1],d=c[2];if(r!==a){var i=r/a-1,f=s.getBoundingClientRect(),u=(o&&o.clientX||0)-f.left,h=(o&&o.clientY||0)-f.top,g=l+i*u,p=d+i*h;Me(e,s,r,g,p)}}function tt(e,t,n){qn(e,Yn(e)*t,n)}function Rt(e,t,n){n===void 0&&(n={}),n.noEmitStyle||((document.head||document.body||document.documentElement).appendChild(document.createElement("style")).textContent="["+e+"]{overflow:scroll}["+e+"]>:first-child{width:100%;height:100%;vertical-align:middle;transform-origin:0 0}"),addEventListener("wheel",function(r){var o=Ae(r.target,e),s=o[0],c=o[1];if(s instanceof HTMLElement){var a=+c.zoomAmount||t.zoomAmount;tt(s,Math.pow(1+a,-r.deltaY),{origin:r,minScale:+c.minScale||t.minScale,maxScale:+c.maxScale||t.maxScale}),r.preventDefault()}},Dt),addEventListener("resize",function(){for(var r=document.querySelectorAll("["+e+"]"),o=0;o<r.length;o++){var s=r[o];if(s instanceof HTMLElement){var c=et(s.getAttribute(e));tt(s,1,c)}}})}Pt("data-pan-on-drag",{button:"left"});Rt("data-zoom-on-wheel",{minScale:1,maxScale:10,zoomAmount:.002});var[R,Bt]=K({}),[G,be]=K(""),[Ne,Ft]=K("");var Ht=Sn(jt());var Wn=O('<div class="clusterize"><div class="clusterize-header-scroll"><table><thead><tr></tr></thead></table></div><div class="clusterize-scroll"><table><tbody class="clusterize-content"></tbody></table></div></div>',16),Kn=O("<th></th>",2),Jn=e=>e.endsWith("</td>")?e:`<td>${e}</td>`,re=({columns:e,records:t,tdSelector:n})=>{let r,o=e.map(i=>n(i)),s=j(()=>t.map(i=>`<tr>${o.map(f=>Jn(f(i))).join("")}</tr>`)),c=j(()=>t.map(i=>o.map(f=>f(i)?.toLowerCase()??"").join(`
`))),a=j(()=>{let i=Ne().toLowerCase();return i?s().filter((f,u)=>c()[u].includes(i)):s()}),l,d;return Ce(()=>{if(d){d.update(a());return}if(!l)return;let i=l.getElementsByTagName("tr")[0],f=l.getElementsByTagName("tbody")[0];!i||!f||(d=new Ht.default({scrollElem:l.getElementsByClassName("clusterize-scroll")[0],contentElem:f,rows:a(),callbacks:{clusterChanged(){let u=f?.querySelector("tr:not(.clusterize-extra-row)");if(!(!u||u.classList.contains("clusterize-no-data")))for(let h=0;h<i.cells.length;h++)i.cells[h].style.width=`${u.cells[h].offsetWidth}px`}}}))}),(()=>{let i=Wn.cloneNode(!0),f=i.firstChild,u=f.firstChild,h=u.firstChild,g=h.firstChild,p=f.nextSibling,x=l;typeof x=="function"?x(i):l=i;let v=r;return typeof v=="function"?v(f):r=f,I(g,C(Y,{each:e,children:y=>(()=>{let T=Kn.cloneNode(!0);return I(T,y),T})()})),p.addEventListener("scroll",y=>r&&(r.scrollLeft=y.currentTarget.scrollLeft)),i})()};var Vt=[[0,0,0],[0,100,50],[60,100,50],[120,100,50],[180,100,50],[240,100,50],[300,100,50],[0,0,100],[0,0,25.5],[0,0,50.2],[0,100,50],[0,100,83.3],[0,100,37.1],[0,32.3,61.8],[0,100,25.3],[0,20,42.2],[0,100,20.4],[0,20.2,33.9],[0,100,15.5],[0,19.7,25.9],[14.8,100,50],[14.8,100,83.3],[14.6,100,37.1],[14.3,32.3,61.8],[14.4,100,25.3],[14,20,42.2],[14.4,100,20.4],[15.4,20.2,33.9],[14.4,100,15.5],[13.8,19.7,25.9],[29.9,100,50],[29.6,100,83.3],[29.8,100,37.1],[29.5,32.3,61.8],[29.8,100,25.3],[29.3,20,42.2],[30,100,20.4],[29.1,20.2,33.9],[29.6,100,15.5],[30,19.7,25.9],[44.9,100,50],[45.2,100,83.3],[44.8,100,37.1],[44.8,32.3,61.8],[44.7,100,25.3],[44.7,20,42.2],[45,100,20.4],[44.6,20.2,33.9],[44.8,100,15.5],[46.2,19.7,25.9],[60,100,50],[60,100,83.3],[60,100,37.1],[60,32.3,61.8],[60,100,25.3],[60,20,42.2],[60,100,20.4],[60,20.2,33.9],[60,100,15.5],[60,19.7,25.9],[75.1,100,50],[74.8,100,83.3],[75.2,100,37.1],[75.2,32.3,61.8],[75.3,100,25.3],[75.3,20,42.2],[75,100,20.4],[75.4,20.2,33.9],[75.2,100,15.5],[73.8,19.7,25.9],[90.1,100,50],[90.4,100,83.3],[90.2,100,37.1],[90.5,32.3,61.8],[90.2,100,25.3],[90.7,20,42.2],[90,100,20.4],[90.9,20.2,33.9],[90.4,100,15.5],[90,19.7,25.9],[105.2,100,50],[105.2,100,83.3],[105.4,100,37.1],[105.7,32.3,61.8],[105.6,100,25.3],[106,20,42.2],[105.6,100,20.4],[104.6,20.2,33.9],[105.6,100,15.5],[106.2,19.7,25.9],[120,100,50],[120,100,83.3],[120,100,37.1],[120,32.3,61.8],[120,100,25.3],[120,20,42.2],[120,100,20.4],[120,20.2,33.9],[120,100,15.5],[120,19.7,25.9],[134.8,100,50],[134.8,100,83.3],[134.6,100,37.1],[134.3,32.3,61.8],[134.4,100,25.3],[134,20,42.2],[134.4,100,20.4],[135.4,20.2,33.9],[134.4,100,15.5],[133.8,19.7,25.9],[149.9,100,50],[149.6,100,83.3],[149.8,100,37.1],[149.5,32.3,61.8],[149.8,100,25.3],[149.3,20,42.2],[150,100,20.4],[149.1,20.2,33.9],[149.6,100,15.5],[150,19.7,25.9],[164.9,100,50],[165.2,100,83.3],[164.8,100,37.1],[164.8,32.3,61.8],[164.7,100,25.3],[164.7,20,42.2],[165,100,20.4],[164.6,20.2,33.9],[164.8,100,15.5],[166.2,19.7,25.9],[180,100,50],[180,100,83.3],[180,100,37.1],[180,32.3,61.8],[180,100,25.3],[180,20,42.2],[180,100,20.4],[180,20.2,33.9],[180,100,15.5],[180,19.7,25.9],[195.1,100,50],[194.8,100,83.3],[195.2,100,37.1],[195.2,32.3,61.8],[195.3,100,25.3],[195.3,20,42.2],[195,100,20.4],[195.4,20.2,33.9],[195.2,100,15.5],[193.8,19.7,25.9],[210.1,100,50],[210.4,100,83.3],[210.2,100,37.1],[210.5,32.3,61.8],[210.2,100,25.3],[210.7,20,42.2],[210,100,20.4],[210.9,20.2,33.9],[210.4,100,15.5],[210,19.7,25.9],[225.2,100,50],[225.2,100,83.3],[225.4,100,37.1],[225.7,32.3,61.8],[225.6,100,25.3],[226,20,42.2],[225.6,100,20.4],[224.6,20.2,33.9],[225.6,100,15.5],[226.2,19.7,25.9],[240,100,50],[240,100,83.3],[240,100,37.1],[240,32.3,61.8],[240,100,25.3],[240,20,42.2],[240,100,20.4],[240,20.2,33.9],[240,100,15.5],[240,19.7,25.9],[254.8,100,50],[254.8,100,83.3],[254.6,100,37.1],[254.3,32.3,61.8],[254.4,100,25.3],[254,20,42.2],[254.4,100,20.4],[255.4,20.2,33.9],[254.4,100,15.5],[253.8,19.7,25.9],[269.9,100,50],[269.6,100,83.3],[269.8,100,37.1],[269.5,32.3,61.8],[269.8,100,25.3],[269.3,20,42.2],[270,100,20.4],[269.1,20.2,33.9],[269.6,100,15.5],[270,19.7,25.9],[284.9,100,50],[285.2,100,83.3],[284.8,100,37.1],[284.8,32.3,61.8],[284.7,100,25.3],[284.7,20,42.2],[285,100,20.4],[284.6,20.2,33.9],[284.8,100,15.5],[286.2,19.7,25.9],[300,100,50],[300,100,83.3],[300,100,37.1],[300,32.3,61.8],[300,100,25.3],[300,20,42.2],[300,100,20.4],[300,20.2,33.9],[300,100,15.5],[300,19.7,25.9],[315.1,100,50],[314.8,100,83.3],[315.2,100,37.1],[315.2,32.3,61.8],[315.3,100,25.3],[315.3,20,42.2],[315,100,20.4],[315.4,20.2,33.9],[315.2,100,15.5],[313.8,19.7,25.9],[330.1,100,50],[330.4,100,83.3],[330.2,100,37.1],[330.5,32.3,61.8],[330.2,100,25.3],[330.7,20,42.2],[330,100,20.4],[330.9,20.2,33.9],[330.4,100,15.5],[330,19.7,25.9],[345.2,100,50],[345.2,100,83.3],[345.4,100,37.1],[345.7,32.3,61.8],[345.6,100,25.3],[346,20,42.2],[345.6,100,20.4],[344.6,20.2,33.9],[345.6,100,15.5],[346.2,19.7,25.9],[0,0,20],[0,0,31.4],[0,0,41.2],[0,0,51],[0,0,74.5],[0,0,100]];var Gt=["#000000","#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ffffff","#414141","#808080","#ff0000","#ffaaaa","#bd0000","#bd7e7e","#810000","#815656","#680000","#684545","#4f0000","#4f3535","#ff3f00","#ffbfaa","#bd2e00","#bd8d7e","#811f00","#816056","#681900","#684e45","#4f1300","#4f3b35","#ff7f00","#ffd4aa","#bd5e00","#bd9d7e","#814000","#816b56","#683400","#685645","#4f2700","#4f4235","#ffbf00","#ffeaaa","#bd8d00","#bdad7e","#816000","#817656","#684e00","#685f45","#4f3b00","#4f4935","#ffff00","#ffffaa","#bdbd00","#bdbd7e","#818100","#818156","#686800","#686845","#4f4f00","#4f4f35","#bfff00","#eaffaa","#8dbd00","#adbd7e","#608100","#768156","#4e6800","#5f6845","#3b4f00","#494f35","#7fff00","#d4ffaa","#5ebd00","#9dbd7e","#408100","#6b8156","#346800","#566845","#274f00","#424f35","#3fff00","#bfffaa","#2ebd00","#8dbd7e","#1f8100","#608156","#196800","#4e6845","#134f00","#3b4f35","#00ff00","#aaffaa","#00bd00","#7ebd7e","#008100","#568156","#006800","#456845","#004f00","#354f35","#00ff3f","#aaffbf","#00bd2e","#7ebd8d","#00811f","#568160","#006819","#45684e","#004f13","#354f3b","#00ff7f","#aaffd4","#00bd5e","#7ebd9d","#008140","#56816b","#006834","#456856","#004f27","#354f42","#00ffbf","#aaffea","#00bd8d","#7ebdad","#008160","#568176","#00684e","#45685f","#004f3b","#354f49","#00ffff","#aaffff","#00bdbd","#7ebdbd","#008181","#568181","#006868","#456868","#004f4f","#354f4f","#00bfff","#aaeaff","#008dbd","#7eadbd","#006081","#567681","#004e68","#455f68","#003b4f","#35494f","#007fff","#aad4ff","#005ebd","#7e9dbd","#004081","#566b81","#003468","#455668","#00274f","#35424f","#003fff","#aabfff","#002ebd","#7e8dbd","#001f81","#566081","#001968","#454e68","#00134f","#353b4f","#0000ff","#aaaaff","#0000bd","#7e7ebd","#000081","#565681","#000068","#454568","#00004f","#35354f","#3f00ff","#bfaaff","#2e00bd","#8d7ebd","#1f0081","#605681","#190068","#4e4568","#13004f","#3b354f","#7f00ff","#d4aaff","#5e00bd","#9d7ebd","#400081","#6b5681","#340068","#564568","#27004f","#42354f","#bf00ff","#eaaaff","#8d00bd","#ad7ebd","#600081","#765681","#4e0068","#5f4568","#3b004f","#49354f","#ff00ff","#ffaaff","#bd00bd","#bd7ebd","#810081","#815681","#680068","#684568","#4f004f","#4f354f","#ff00bf","#ffaaea","#bd008d","#bd7ead","#810060","#815676","#68004e","#68455f","#4f003b","#4f3549","#ff007f","#ffaad4","#bd005e","#bd7e9d","#810040","#81566b","#680034","#684556","#4f0027","#4f3542","#ff003f","#ffaabf","#bd002e","#bd7e8d","#81001f","#815660","#680019","#68454e","#4f0013","#4f353b","#333333","#505050","#696969","#828282","#bebebe","#ffffff"];var Qn={d:"\xB0",c:"\u2300",p:"\xB1"},xe=(e,t)=>{e=e.replace(/%%(.)/g,(l,d)=>Qn[d]||d);let n=t?.encoding,r,o=n instanceof TextDecoder?n:void 0,s="",c=[],a=l=>{s&&(c.push(s),s=""),c.push(l)};for(let l=0;l<e.length;l++)switch(r=e[l]){default:s+=r;break;case"\\":switch(r=e[++l]){default:s+=r;break;case"P":s+=`
`;break;case"f":case"F":{let u="";for(;r=e[++l];){if(r===";"){a({f:u});break}if(r==="|"){let h={f:u},g=e.indexOf(";",++l);for(let p of e.slice(l,g).split("|"))h[p[0]]=+p.slice(1);l=g,a(h);break}u+=r==="\\"?e[++l]:r}break}case"S":{let u,h="",g="";for(;r=e[++l];){if(r===";"){u&&a({S:[h,u,g]});break}r==="\\"?u?g+=e[++l]:h+=e[++l]:u?g+=r:r==="^"||r==="/"||r==="#"?u=r:h+=r}break}case"H":case"W":let d=++l,[,i,f]=e.slice(d,l=e.indexOf(";",l)).match(/^(\d*(?:\.\d+)?)(\D*)$/);a({[r]:[+i,f]});break;case"Q":case"A":case"C":case"T":{let u=++l;a({[r]:+e.slice(u,l=e.indexOf(";",l))});break}case"L":case"O":case"K":a({[r]:1});break;case"l":case"o":case"k":a({[r.toUpperCase()]:0});break;case"U":case"u":e[l+1]==="+"?(s+=String.fromCodePoint(parseInt(e.substr(l+2,4),16)),l+=5):s+=r;break;case"M":case"m":n?e[l+1]==="+"&&e[l+2]==="1"?(s+=(o=o||new TextDecoder(n)).decode(new Uint8Array([parseInt(e.substr(l+3,2),16),parseInt(e.substr(l+5,2),16)])),l+=6):s+=r:s+="\\"+r}break;case"{":{let d=1,i=l;for(;r=e[++l];)if(r==="{")d++;else if(r==="}"){if(--d==0){a(xe(e.slice(i+1,l)));break}}else r==="\\"&&l++;break}}return s&&c.push(s),c};var Zn={d:"\xB0",c:"\u2300",p:"\xB1"},er=(e,t)=>(e=tr(e),t?nr(e,t):e),tr=e=>e.replace(/\\[uU]\+([0-9a-fA-F]{4})/g,(t,n)=>String.fromCodePoint(parseInt(n,16))),nr=(e,t)=>{let n=t instanceof TextDecoder?t:void 0;return e.replace(/\\[mM]\+1([0-9a-fA-F]{2})([0-9a-fA-F]{2})/g,(r,o,s)=>(n=n||new TextDecoder(t)).decode(new Uint8Array([parseInt(o,16),parseInt(s,16)])))},zt=(e,t)=>{e=er(e,t?.encoding);let n=0,r={text:""},o=[r];for(let s of e.matchAll(/%%(\d\d\d|.)/g)){r.text+=e.slice(n,s.index);let c=s[1].toLowerCase(),a=Zn[c];a?r.text+=a:c.length===3?r.text+=String.fromCodePoint(+c):c==="k"||c==="o"||c==="u"?(r={...r,text:""},r[c]?delete r[c]:r[c]=1,o.push(r)):r.text+=c,n=s.index+s[0].length}return r.text+=e.slice(n),o.filter(s=>s.text)};var fe=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),rr=1/64,Xt=(e,t)=>Math.abs(e-t)<rr,oe=(()=>{let e=(t,n)=>{let[r,o]=String(t).split("e");return+(r+"e"+(o?+o+n:n))};return(t,n)=>e(Math.round(e(t,n)),-n)})(),or=e=>e&&e.trim(),q=(e,t)=>or(w(e,t)),B=(e,t,n)=>{let r=+w(e,t);if(isNaN(r))return n===void 0?NaN:n;if(Math.abs(r)>1e6)throw Error(`group code ${t} is invalid (${r})`);let o=Math.round(r);return Math.abs(o-r)<1e-8?o:r},st=(e,t)=>e||t?`translate(${e||0},${t||0})`:"",ee=(e,t,n)=>!e||Math.abs(e)<.01?"":t||n?`rotate(${e},${t||0},${n||0})`:`rotate(${e})`,Qt=(...e)=>e.filter(Boolean).join(" "),Zt=e=>{let t=e.map(Math.abs);return e[0]<0&&t.unshift(0),t.length%2===1&&t.push(0),t},it=class{constructor(t,n){Re(this,"layerMap",new Map);Re(this,"ltypeMap",new Map);this.dxf=t,this.resolveColorIndex=n.resolveColorIndex,this.resolveLineWeight=n.resolveLineWeight,this.$LUPREC=+w(t.HEADER?.$LUPREC,70)||4;for(let r of t.TABLES?.LAYER??[]){if(w(r,0)!=="LAYER")continue;let o=B(r,370);this.layerMap.set(w(r,2),{color:n.resolveColorIndex(+w(r,62)),ltype:w(r,6),strokeWidth:isNaN(o)?void 0:o})}for(let r of t.TABLES?.LTYPE??[]){if(w(r,0)!=="LTYPE")continue;let o=Zt(F(r,49).map(s=>oe(s,8)));o.length!==0&&this.ltypeMap.set(w(r,2),{strokeDasharray:o.join(" ")})}}layer(t){let n=q(t,8);return n?this.layerMap.get(n):void 0}ltype(t){let n=q(t,6)??this.layer(t)?.ltype;return n?this.ltypeMap.get(n):void 0}_color(t){let n=q(t,62);if(n==="0")return"currentColor";if(n&&n!=="256")return this.resolveColorIndex(+n);let r=this.layer(t);if(r)return r.color}color(t){return this._color(t)||"currentColor"}strokeWidth(t){let n=q(t,370);switch(n){case"-3":return this.resolveLineWeight(-3);case"-2":return this.resolveLineWeight(this.layer(t)?.strokeWidth??-3);case"-1":return;default:return this.resolveLineWeight(+n/100)}}strokeDasharray(t){return this.ltype(t)?.strokeDasharray}roundCoordinate(t){return t===void 0?NaN:oe(t,this.$LUPREC)}},sr={DIMSCALE:[40,40,1],DIMTP:[47,40,NaN],DIMTM:[48,40,NaN],DIMTOL:[71,70,0],DIMTXT:[140,40,1],DIMLFAC:[144,40,1],DIMCLRT:[178,70,NaN],DIMDEC:[271,70,4]},ir=e=>{let t=new Map;for(let n=0;n<e.length;n++)if(e[n][0]===1e3&&e[n][1].trim()==="DSTYLE"&&e[n+1][0]===1002&&e[n+1][1].trim()==="{"){for(let r=n+2;r<e.length&&e[r][0]!==1002;r++)e[r][0]===1070&&t.set(+e[r][1],e[++r][1]);return t}},lr=(e,t)=>{let n=w(t,3),r=e.TABLES?.DIMSTYLE?.find(c=>w(c,2)===n),o=ir(t),s=Object.create(null);for(let[c,[a,l,d]]of Object.entries(sr)){let i=o?.get(a)??w(r,a)??w(e.HEADER?.["$"+c],l);s[c]=i!==void 0?+i:d}return s},Ut=e=>e>0?"+"+e:e<0?String(e):" 0",cr=(e,t,n)=>{let r=B(t,42,-1),o=oe(r!==-1?r:e*n.DIMLFAC,n.DIMDEC),s=String(o);if(n.DIMTOL){let a=n.DIMTP,l=n.DIMTM;(a||l)&&(a===l?s=`${o}  \xB1${a}`:s=`${o}  {\\S${Ut(a)}^${Ut(-l)};}`)}let c=w(t,1);return c?c.replace(/<>/,s):s},E=(e,t)=>{let n="<"+e,r;for(let[o,s]of Object.entries(t))!s&&s!==0||(o==="children"?r=s:n+=` ${o}="${typeof s=="string"?fe(s):s}"`);return(e==="line"||e==="polyline"||e==="polygon"||e==="circle"||e==="ellipse"||e==="path")&&(t.fill||(n+=' fill="none"'),n+=' vector-effect="non-scaling-stroke"'),e==="text"&&(n+=' stroke="none" style="white-space:pre"'),r?n+=`>${Array.isArray(r)?r.flat(1/0).join(""):r}</${e}>`:n+="/>",n},te=E,Ee=e=>oe(e,6),ar=(e,t)=>{let n=e.findIndex(s=>s[0]===91);if(n===-1)return[];let r=[],o;for(let s=n+1;e[s]&&e[s][0]!==98;s++){let c=e[s][0];switch(c){case 92:r.push(o={10:[],20:[]});break;case 10:case 20:o?.[c].push(t.roundCoordinate(e[s][1]));break}}return r},fr=e=>{let t=e.findIndex(o=>o[0]===78);if(t===-1)return[];let n=[],r;for(let o=t+1;e[o];o++){let s=e[o][0],c=Ee(e[o][1]);switch(s){case 53:n.push(r={53:c,43:0,44:0,45:0,46:0,49:[]});break;case 43:case 44:case 45:case 46:r&&(r[s]=c);break;case 49:r?.[49].push(c);break;case 79:break;default:return n}}return n},ve={LINEAR:(e,t,n)=>{let r=Ee(B(n,460)*180/Math.PI);return te("linearGradient",{id:e,x2:"1",y2:"0",gradientTransform:ee(-r,.5,.5),children:[E("stop",{"stop-color":t[0]}),E("stop",{"stop-color":t[1],offset:"1"})]})},CYLINDER:(e,t,n)=>{let r=Ee(B(n,460)*180/Math.PI);return te("linearGradient",{id:e,x2:"1",y2:"0",gradientTransform:ee(-r,.5,.5),children:[E("stop",{"stop-color":t[0]}),E("stop",{"stop-color":t[1],offset:".5"}),E("stop",{"stop-color":t[0],offset:"1"})]})},INVCYLINDER:(e,t,n,r)=>ve.CYLINDER(e,[t[1],t[0]],n,r),SPHERICAL:(e,t,n,r)=>{let o=r.flatMap(({10:i})=>i),s=r.flatMap(({20:i})=>i),c=Math.min(...o),a=Math.max(...o),l=Math.min(...s),d=Math.max(...s);return te("radialGradient",{id:e,cx:(c+a)/2,cy:-(l+d)/2,r:Math.max(a-c,d-l)/2,gradientUnits:"userSpaceOnUse",children:[E("stop",{"stop-color":t[1]}),E("stop",{"stop-color":t[0],offset:"1"})]})},INVSPHERICAL:(e,t,n,r)=>ve.SPHERICAL(e,[t[1],t[0]],n,r),HEMISPHERICAL:(e,t)=>te("radialGradient",{id:e,cy:"1",gradientTransform:"translate(-.75,-1.5) scale(2.5)",children:[E("stop",{"stop-color":t[1]}),E("stop",{"stop-color":t[0],offset:"1"})]}),INVHEMISPHERICAL:(e,t,n,r)=>ve.HEMISPHERICAL(e,[t[1],t[0]],n,r),CURVED:(e,t)=>te("radialGradient",{id:e,cy:"1",gradientTransform:"translate(-1,-2) scale(3)",children:[E("stop",{"stop-color":t[1]}),E("stop",{"stop-color":t[0],offset:"1"})]}),INVCURVED:(e,t,n,r)=>ve.CURVED(e,[t[1],t[0]],n,r)},ur=(e,t,n)=>{let r=n.color(e);if(q(e,450)==="1"){let o=`hatch-gradient-${w(e,5)}`,s=F(e,63),c=[n.resolveColorIndex(+s[0]||5),n.resolveColorIndex(+s[1]||2)],a=q(e,470),l=a&&ve[a]?.(o,c,e,t);return l?[`url(#${o})`,`<defs>${l}</defs>`]:[r,""]}else{if(q(e,70)==="1")return[r,""];{let o=fr(e);if(o.length===0)return[r,""];let s=w(e,5),c=`hatch-pattern-${s}`,a=e.findIndex(([i,f])=>i===1001&&f==="HATCHBACKGROUNDCOLOR"),l=a!==-1&&+e[a+1][1]&255,d=l&&n.resolveColorIndex(l);return[`url(#${c})`,te("defs",{children:[o.map(({53:i,43:f,44:u,45:h,46:g,49:p},x)=>{p=Zt(p);let v=Ee(Math.hypot(h,g)),y=Ee(p.reduce((_,m)=>_+m,0))||256,T=Qt(st(f,-u),ee(-i));return E("pattern",{id:`${c}-${x}`,width:y,height:v,patternUnits:"userSpaceOnUse",patternTransform:T,children:E("line",{x2:y,"stroke-width":"1",stroke:r,"stroke-dasharray":p.join(" ")})})}),te("pattern",{id:c,width:256,height:256,patternUnits:"userSpaceOnUse",children:[d?E("rect",{fill:d,width:256,height:256}):"",o.map((i,f)=>E("rect",{fill:`url(#hatch-pattern-${s}-${f})`,width:256,height:256}))]})]})]}}},dr=e=>{e=+e;let t,n;switch(e){case 1:case 2:case 3:t="text-before-edge";break;case 4:case 5:case 6:t="central";break;case 7:case 8:case 9:t="text-after-edge";break}switch(e%3){case 2:n="middle";break;case 0:n="end";break}return{dominantBaseline:t,textAnchor:n}},Yt=(e,t)=>oe(Math.atan2(e||0,t||0)*180/Math.PI,5)||0,hr=e=>{for(let t=e.length-1;t>=0;t--)switch(e[t][0]){case 50:return oe(e[t][1],5)||0;case 11:return Yt(B(e,12),+e[t][1]);case 21:return Yt(+e[t][1],B(e,11))}return 0},ye=(e,t,n=0)=>{if(e.length<=n)return"";let r=ye(e,t,n+1),o=e[n];if(typeof o=="string")return fe(o)+r;if(Array.isArray(o))return ye(o,t)+r;if(o.S)return te("tspan",{children:[E("tspan",{dy:"-.5em",children:fe(o.S[0])}),E("tspan",{dy:"1em",dx:o.S[0].length/-2+"em",children:fe(o.S[2])})]})+r;if(o.f){let s={family:o.f,weight:o.b?700:400,style:o.i?"italic":void 0},c=t?.resolveFont?.(s)??s;return E("tspan",{"font-family":c.family,"font-weight":c.weight,"font-style":c.style,"font-size":c.scale&&c.scale!==1?c.scale+"em":void 0,children:r})}return o.Q?E("tspan",{"font-style":`oblique ${o.Q}deg`,children:r}):r},qt={warn:console.debug,resolveColorIndex:e=>Gt[e]??"#888",resolveLineWeight:e=>e===-3?.5:oe(e*10,6)},rt=([e,t,n])=>{let r=Math.hypot(e,t,n);return[e/r,t/r,n/r]},Wt=([e,t,n],[r,o,s])=>[t*s-n*o,n*r-e*s,e*o-t*r],Kt=e=>{let t=-B(e,210,0),n=B(e,220,0),r=B(e,230,1);if(Math.abs(t)<1/64&&Math.abs(n)<1/64)return r<0?"transform:rotateY(180deg)":void 0;let o=rt([t,n,r]),s=rt(Wt([0,0,1],o)),c=rt(Wt(o,s));return`transform:matrix3d(${s},0,${c},0,0,0,0,0,0,0,0,1)`},Jt=({k:e,o:t,u:n})=>{let r=[];return e&&r.push("line-through"),t&&r.push("overline"),n&&r.push("underline"),r.join(" ")},pr=[,"text-after-edge","central","text-before-edge"],mr=[,"middle","end",,"middle"],ot=(e,t)=>{let n="";for(let r=0;r<e.length;r++)n+=`${e[r]},${t[r]} `;return n.slice(0,-1)},gr=(e,t)=>{let{warn:n,resolveColorIndex:r}=t,o=new it(e,t),s=i=>o.roundCoordinate(i),c=(i,f)=>s(w(i,f)),a=t.addAttributes??(()=>{}),l=i=>({fill:"none",stroke:o.color(i),"stroke-width":o.strokeWidth(i),"stroke-dasharray":o.strokeDasharray(i),style:Kt(i),...a(i)}),d={POINT:()=>{},LINE:i=>{let f=c(i,10),u=c(i,11),h=-c(i,20),g=-c(i,21);return[E("line",{x1:f,y1:h,x2:u,y2:g,...l(i)}),[f,u],[h,g]]},POLYLINE:(i,f)=>{let u=f.map(x=>c(x,10)),h=f.map(x=>-c(x,20)),g=+(w(i,70)??0),p={points:ot(u,h),...l(i)};return[g&1?E("polygon",{...p}):E("polyline",{...p}),u,h]},LWPOLYLINE:i=>{let f=F(i,10).map(p=>s(p)),u=F(i,20).map(p=>-s(p)),h=+(w(i,70)??0),g={points:ot(f,u),...l(i)};return[h&1?E("polygon",{...g}):E("polyline",{...g}),f,u]},CIRCLE:i=>{let f=c(i,10),u=-c(i,20),h=c(i,40);return[E("circle",{cx:f,cy:u,r:h,...l(i)}),[f-h,f+h],[u-h,u+h]]},ARC:i=>{let f=c(i,10),u=c(i,20),h=c(i,40),g=B(i,50,0),p=B(i,51,0),x=g*Math.PI/180,v=p*Math.PI/180,y=s(f+h*Math.cos(x)),T=s(u+h*Math.sin(x)),_=s(f+h*Math.cos(v)),m=s(u+h*Math.sin(v)),S=(p-g+360)%360<=180?"0":"1";return[E("path",{d:`M${y} ${-T}A${h} ${h} 0 ${S} 0 ${_} ${-m}`,...l(i)}),[y,_],[-T,-m]]},ELLIPSE:i=>{let f=B(i,41,0),u=B(i,42,2*Math.PI);if(Xt(f,0)&&Xt(u,2*Math.PI)){let h=c(i,10),g=-c(i,20),p=c(i,11),x=c(i,21),v=Math.hypot(p,x),y=B(i,40)*v,T=-Math.atan2(x,p),_=ee(T*180/Math.PI,h,g);return[E("ellipse",{cx:h,cy:g,rx:v,ry:y,transform:_,...l(i)}),[h-v,h+v],[g-y,g+y]]}else n("Elliptical arc cannot be rendered yet.")},LEADER:i=>{let f=F(i,10).map(h=>s(h)),u=F(i,20).map(h=>-s(h));return[E("polyline",{points:ot(f,u),...l(i),style:void 0}),f,u]},HATCH:i=>{let f=ar(i,o),u="";for(let{10:p,20:x}of f){u+=`M${p[0]} ${-x[0]}`;for(let v=1;v<p.length;v++)u+=`L${p[v]} ${-x[v]}`}u+="Z";let[h,g]=ur(i,f,o);return[g+E("path",{d:u,fill:h,...a(i)}),f.flatMap(p=>p[10]),f.flatMap(p=>-p[20])]},SOLID:i=>{let f=c(i,10),u=c(i,11),h=c(i,12),g=c(i,13),p=-c(i,20),x=-c(i,21),v=-c(i,22),y=-c(i,23),T=`M${f} ${p}L${u} ${x}L${h} ${v}${h!==g||v!==y?`L${g} ${y}`:""}Z`;return[E("path",{d:T,fill:o.color(i),...a(i)}),[f,u,h,g],[p,x,v,y]]},TEXT:i=>{let f=c(i,10),u=-c(i,20),h=c(i,40),g=-B(i,50),p=zt(w(i,1)||"",t);return[E("text",{x:f,y:u,fill:o.color(i),"font-size":h,"dominant-baseline":pr[q(i,73)],"text-anchor":mr[q(i,72)],transform:ee(g,f,u),"text-decoration":p.length===1&&Jt(p[0]),...a(i),children:p.length===1?fe(p[0].text):p.map(x=>E("tspan",{"text-decoration":Jt(x),children:fe(x.text)}))}),[f,f+h*p.length],[u,u+h]]},MTEXT:i=>{let f=c(i,10),u=-c(i,20),h=c(i,40),g=hr(i),{dominantBaseline:p,textAnchor:x}=dr(q(i,71)),v=F(i,3).join("")+(w(i,1)??"");return[E("text",{x:f,y:u,fill:o.color(i),"font-size":h,"dominant-baseline":p,"text-anchor":x,transform:ee(-g,f,u),...a(i),children:ye(xe(v,t),t)}),[f,f+h*v.length],[u,u+h]]},DIMENSION:i=>{let f=lr(e,i),u="",h,g="text-after-edge",p="middle",x,v=c(i,11),y=-c(i,21),T=c(i,10),_=-c(i,20),m=[v],S=[y],M=B(i,70,0);switch(M&7){case 0:case 1:{let L=c(i,13),$=c(i,14),N=-c(i,23),z=-c(i,24);x=Math.round(-B(i,50,0)||0),x%180===0?(h=Math.abs(L-$),u=E("path",{stroke:"currentColor",d:`M${L} ${N}L${L} ${_}L${$} ${_}L${$} ${z}`}),x=0):(h=Math.abs(N-z),u=E("path",{stroke:"currentColor",d:`M${L} ${N}L${T} ${N}L${T} ${z}L${$} ${z}`})),m.push(L,$),S.push(N,z);break}case 2:case 5:n("Angular dimension cannot be rendered yet.",i);return;case 3:case 4:{let L=c(i,15),$=-c(i,25);h=Math.hypot(T-L,_-$),u=E("path",{stroke:"currentColor",d:`M${L} ${$}L${v} ${y}`}),m.push(T,L),S.push(_,$);break}case 6:{let L=c(i,13),$=c(i,14),N=-c(i,23),z=-c(i,24);M&64?(h=Math.abs(T-+L),u=E("path",{stroke:"currentColor",d:`M${L} ${N}L${L} ${z}L${$} ${z}L${v} ${y}`}),x=-90):(h=Math.abs(_-+N),u=E("path",{stroke:"currentColor",d:`M${L} ${N}L${$} ${N}L${$} ${z}L${v} ${y}`})),g="central",p="middle",m.push(L,$),S.push(N,z);break}default:n("Unknown dimension type.",i);return}let A;{let L=cr(h,i,f),$=f.DIMTXT*f.DIMSCALE,N=f.DIMCLRT;A=E("text",{x:v,y,fill:isNaN(N)?o.color(i):N===0?"currentColor":r(N),"font-size":$,"dominant-baseline":g,"text-anchor":p,transform:ee(x,v,y),children:ye(xe(L,t),t)})}return[E("g",{color:o.color(i),"stroke-width":o.strokeWidth(i),"stroke-dasharray":o.strokeDasharray(i),style:Kt(i),...a(i),children:u+A}),m,S]},ACAD_TABLE:i=>{let f=[];{let m=i.findIndex(S=>S[0]===171);for(let S=m+1;S<i.length;S++)i[S][0]===171&&(f.push(i.slice(m,S)),m=S);f.push(i.slice(m,i.length))}let u=F(i,141).map(m=>+m).reduce((m,S)=>(m.push(m[m.length-1]+S),m),[0]),h=F(i,142).map(m=>+m).reduce((m,S)=>(m.push(m[m.length-1]+S),m),[0]),g=o.color(i),p=r(+w(i,64)),x=u.map(m=>E("line",{stroke:g,x1:"0",y1:m,x2:h[h.length-1],y2:m})).join(""),v=0,y=0;for(let m of f){let S=h[v],M=u[y],A=+w(m,64);+w(m,173)||(x+=E("line",{x1:S,y1:M,x2:S,y2:u[y+1],stroke:g})),q(m,171)==="2"?n('Table cell type "block" cannot be rendered yet.',i,m):x+=E("text",{x:S,y:M,fill:isNaN(A)?p:r(A),children:ye(xe(w(m,1)??""),t)}),++v===h.length-1&&(v=0,y++)}x+=E("line",{x1:h[h.length-1],y1:"0",x2:h[h.length-1],y2:u[u.length-1],stroke:g});let T=c(i,10),_=-c(i,20);return[E("g",{"font-size":q(i,140),"dominant-baseline":"text-before-edge",transform:st(T,_),...a(i),children:x}),h.map(m=>m+T),u.map(m=>m+_)]},INSERT:i=>{let f=c(i,10),u=-c(i,20),h=-B(i,50),g=B(i,41,1)||1,p=B(i,42,1)||1,x=Qt(ee(h,f,u),st(f,u),g!==1||p!==1?`scale(${g},${p})`:""),v=e.BLOCKS?.[w(i,2)],y=v?.slice(w(v[0],0)==="BLOCK"?1:0,w(v[v.length-1],0)==="ENDBLK"?-1:void 0),[T,_]=en(y,d,t);return[E("g",{color:o._color(i),transform:x,...l(i),children:T}),[f+_.x*g,f+(_.x+_.w)*g],[u+_.y*p,u+(_.y+_.h)*p]]}};return d},en=(e,t,n)=>{let{warn:r}=n,o="",s=1/0,c=-1/0,a=1/0,l=-1/0;if(e)for(let d=0;d<e.length;d++){let i=e[d],f=w(i,0);if(!f)continue;let u=[];for(;w(e[d+1],0)==="VERTEX";)u.push(e[++d]);u.length!==0&&w(e[d+1],0)==="SEQEND"&&d++;try{let h=t[f];if(h){let g=h(i,u);if(g){o+=g[0];let p=g[1].filter(v=>isFinite(v)),x=g[2].filter(v=>isFinite(v));s=Math.min(s,...p),c=Math.max(c,...p),a=Math.min(a,...x),l=Math.max(l,...x)}}else r(`Unknown entity type: ${f}`,i)}catch(h){r(`Error occurred: ${h}`,i)}}return[o,{x:s,y:a,w:c-s,h:l-a}]},br=(e,t)=>{let n=t?{...qt,...t}:qt;return en(e.ENTITIES,gr(e,n),n)},tn=(e,t)=>{let[n,{x:r,y:o,w:s,h:c}]=br(e,t);return E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`${r} ${o} ${s} ${c}`,width:s,height:c,children:n})};var xr=[SVGCircleElement,SVGEllipseElement,SVGImageElement,SVGLineElement,SVGPathElement,SVGPolygonElement,SVGPolylineElement,SVGRectElement,SVGTextElement,SVGUseElement],lt=function(e,t,n,r){for(var o=n.firstElementChild;o;o=o.nextElementSibling){if(o instanceof SVGGElement){lt(e,t,o,r);continue}for(var s=0,c=xr;s<c.length;s++){var a=c[s];o instanceof a&&r(o)&&e.push(o)}}return e},J=function(e,t,n){return t<=e&&e<=n},vr=function(e,t){var n=e.x,r=n+e.width,o=e.y,s=o+e.height;return J(t.x,n,r)&&J(t.x+t.width,n,r)&&J(t.y,o,s)&&J(t.y+t.height,o,s)},yr=function(e,t){var n=e.x,r=n+e.width,o=e.y,s=o+e.height;return(J(t.x,n,r)||J(t.x+t.width,n,r)||J(n,t.x,t.x+t.width))&&(J(t.y,o,s)||J(t.y+t.height,o,s)||J(o,t.y,t.y+t.height))},nn=function(e,t,n,r){return e.getEnclosureList?Array.prototype.slice.call(e.getEnclosureList(r,t)):lt([],e,t||e,function(o){return vr(n,o.getBBox())})},rn=function(e,t,n,r){return e.getIntersectionList?Array.prototype.slice.call(e.getIntersectionList(r,t)):lt([],e,t||e,function(o){return yr(n,o.getBBox())})};var on=function(e,t){return e.filter(function(n){return t.indexOf(n)===-1})},sn=function(e,t,n,r,o){var s=e.createSVGRect();return s.x=Math.min(t,r),s.y=Math.min(n,o),s.width=Math.abs(t-r),s.height=Math.abs(n-o),s},De=function(e,t,n){if(!t)return n;var r=e.createSVGPoint();r.x=n.x,r.y=n.y;var o=r.matrixTransform(t);r.x+=n.width,r.y+=n.height;var s=r.matrixTransform(t);return sn(e,o.x,o.y,s.x,s.y)},ln=function(e){var t,n,r,o=[],s=e.svg,c=function(m){return sn(s,n-document.documentElement.scrollLeft-document.body.scrollLeft,r-document.documentElement.scrollTop-document.body.scrollTop,m.clientX,m.clientY)},a=document.body.appendChild(document.createElement("div")),l=a.style;a.className="svg-drag-select-area-overlay",l.position="fixed",l.pointerEvents="none",l.display="none";var d=function(m){var S=this;if((m.pointerId||0)===t){var M=c(m),A=De(this,this.getScreenCTM().inverse(),M),L=De(this,this.getCTM(),A),$=e.referenceElement||null,N=function(){return nn(S,$,A,L)},z=function(){return rn(S,$,A,L)},Ie=typeof e.selector=="function"?e.selector({svg:this,referenceElement:$,pointerEvent:m,dragAreaInClientCoordinate:M,dragAreaInSvgCoordinate:A,dragAreaInInitialSvgCoordinate:L,getEnclosures:N,getIntersections:z}):e.selector==="intersection"?z():N(),ct=on(Ie,o),at=on(o,Ie);if(l.left=M.x+"px",l.top=M.y+"px",l.width=M.width+"px",l.height=M.height+"px",ct.length||at.length){var pn=o;o=Ie,e.onSelectionChange&&e.onSelectionChange({svg:this,referenceElement:$,pointerEvent:m,dragAreaInClientCoordinate:M,dragAreaInSvgCoordinate:A,dragAreaInInitialSvgCoordinate:L,selectedElements:o,previousSelectedElements:pn,newlySelectedElements:ct,newlyDeselectedElements:at})}}},i=function(m){if(m.isPrimary!==!1&&t===void 0){var S;e.onSelectionStart&&e.onSelectionStart({svg:this,referenceElement:e.referenceElement||null,pointerEvent:m,cancel:function(){return S=1}}),S||(t=m.pointerId||0,n=m.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,r=m.clientY+document.documentElement.scrollTop+document.body.scrollTop,o=[],d.call(this,m),l.display="",this.setPointerCapture&&this.setPointerCapture(t))}},f=function(m){if((m.pointerId||0)===t){this.releasePointerCapture&&this.releasePointerCapture(t),t=void 0,l.display="none";var S=c(m),M=De(this,this.getScreenCTM().inverse(),S),A=De(this,this.getCTM(),M);e.onSelectionEnd&&e.onSelectionEnd({svg:this,referenceElement:e.referenceElement||null,pointerEvent:m,dragAreaInClientCoordinate:S,dragAreaInSvgCoordinate:M,dragAreaInInitialSvgCoordinate:A,selectedElements:o})}},u=s.style.touchAction,h=getComputedStyle(s).touchAction,g;if("PointerEvent"in window){var p=s.getAttribute("draggable"),x=s.style.pointerEvents,v=h!=="none"&&h!=="pinch-zoom";v&&(s.style.touchAction="pinch-zoom"),s.style.pointerEvents="all",s.setAttribute("draggable","false"),s.addEventListener("pointerdown",i),s.addEventListener("pointermove",d),s.addEventListener("pointerup",f),s.addEventListener("pointercancel",f),g=function(){p===null?s.removeAttribute("draggable"):s.setAttribute("draggable",p),s.style.pointerEvents=x,v&&(s.style.touchAction=u),s.removeEventListener("pointerdown",i),s.removeEventListener("pointermove",d),s.removeEventListener("pointerup",f),s.removeEventListener("pointercancel",f),a.parentElement&&a.parentElement.removeChild(a)}}else if("ontouchend"in window){var y=h!=="manipulation";y&&(s.style.touchAction="manipulation");var T=function(m,S){var M={pointerId:S.identifier};return Object.keys(Object.getPrototypeOf(S)).forEach(function(A){return M[A]=S[A]}),Object.keys(Object.getPrototypeOf(m)).forEach(function(A){return M[A]=m[A]}),M},_=function(m){if(t!==void 0)for(var S=0;S<m.changedTouches.length;S++)m.changedTouches[S].identifier===t&&f.call(this,T(m,m.changedTouches[0]))};s.addEventListener("touchstart",function(m){m.touches.length===1&&i.call(this,T(m,m.touches[0]))}),s.addEventListener("touchmove",function(m){m.touches.length===1&&(m.preventDefault(),d.call(this,T(m,m.touches[0])))}),s.addEventListener("touchend",_),s.addEventListener("touchcancel",_),g=function(){y&&(s.style.touchAction=u),s.removeEventListener("pointerdown",i),s.removeEventListener("pointermove",d),s.removeEventListener("pointerup",f),s.removeEventListener("pointercancel",f),a.parentElement&&a.parentElement.removeChild(a)}}else s.addEventListener("mousedown",i),s.addEventListener("mousemove",d),s.addEventListener("mouseup",f),g=function(){s.removeEventListener("mousedown",i),s.removeEventListener("mousemove",d),s.removeEventListener("mouseup",f),a.parentElement&&a.parentElement.removeChild(a)};return{cancel:g,dragAreaOverlay:a}};var Er=O('<div data-zoom-on-wheel="min-scale: 0.9; max-scale: 10000" data-pan-on-drag class="h-full bg-hex-123"></div>',2),wr=O('<a download class="absolute right-4 top-2 text-cyan-300">Download SVG File</a>',2),Sr=O('<div class="coordinate pointer-events-none absolute right-16px bottom-8px text-right text-hex-ddd" style="text-shadow: 0 1px #123,0 -1px #123,1px 0 #123,-1px 0 #123,0 0 4px #123"></div>',2),Cr=O('<div class="absolute top-0 bottom-0 right-0 overflow-auto bg-white"><table><tbody></tbody></table></div>',6),Tr=O('<tr><th colspan="2"></th></tr>',4),_r=O('<tr><td class="text-right"></td><td></td></tr>',6),Lr=new TextDecoder("ms932"),$r=document.head.appendChild(document.createElement("style")),kr=(e,t)=>{{let n=e.ENTITIES?.find(r=>w(r,5)===t);if(n)return n}if(e.BLOCKS)for(let n of Object.values(e.BLOCKS)){let r=n.find(o=>w(o,5)===t);if(r)return r}},cn=()=>{let e=j(()=>tn(R(),{resolveColorIndex:s=>{let[c,a,l]=Vt[s]??[0,0,50];return`hsl(${c},${a}%,${Math.round(l*.8+20)}%)`},resolveLineWeight:s=>s===-3?.1:s,resolveFont:s=>({...s,family:s.family+",var(--font-family)"}),addAttributes:s=>({"data-5":w(s,5)}),encoding:Lr})),t=j(()=>"data:image/svg+xml,"+encodeURIComponent(e())),[n,r]=K([]),o=j(()=>n().map(s=>kr(R(),s)).filter(Boolean));return Ce(()=>{$r.textContent=n().map(s=>`[data-5="${s}"]`).join(",")+"{stroke-width:3px}"}),[(()=>{let s=Er.cloneNode(!0);return(c=>setTimeout(()=>{let a=c.parentElement.getElementsByClassName("coordinate")[0],l=c.getElementsByTagName("svg")[0];l.style.padding="8px 16px",l.setAttribute("shape-rendering","optimizeSpeed"),l.setAttribute("text-rendering","optimizeSpeed"),l.onpointermove=({currentTarget:d,clientX:i,clientY:f})=>{let{x:u,y:h}=new DOMPoint(i,f).matrixTransform(d.getScreenCTM().inverse());a.textContent=`${Math.round(u)}, ${Math.round(-h)}`},l.onpointerleave=()=>a.textContent="",l.oncontextmenu=d=>d.preventDefault(),ln({svg:l,selector:"intersection",onSelectionStart:({pointerEvent:d,cancel:i})=>{d.button===2?r([]):i()},onSelectionChange:({selectedElements:d})=>{let i=new Set;for(let f of d){let u=f.closest("[data-5]")?.getAttribute("data-5");u&&i.add(u)}r([...i])}})}))(s),W(()=>s.innerHTML=e()),s})(),(()=>{let s=wr.cloneNode(!0);return W(()=>_t(s,"href",t())),s})(),Sr.cloneNode(!0),C(ce,{get when(){return o().length!==0},get children(){let s=Cr.cloneNode(!0),c=s.firstChild,a=c.firstChild;return I(a,C(Y,{get each(){return o()},children:(l,d)=>[(()=>{let i=Tr.cloneNode(!0),f=i.firstChild;return I(f,(()=>{let u=Ct(()=>d()===0,!0);return()=>u()?`${o().length} ${o().length===1?"entity":"entities"}`:" "})()),i})(),C(Y,{each:l,children:([i,f])=>(()=>{let u=_r.cloneNode(!0),h=u.firstChild,g=h.nextSibling;return I(h,i),I(g,f),u})()})]})),s}})]};var an=O('<textarea readonly class="w-full h-full resize-none"></textarea>',2),Mr=O('<section class="h-full overflow-auto px-1em py-0.5em"></section>',2),Ar=O('<section class="h-full overflow-auto p-1em"></section>',2),Nr=O("<h3></h3>",2),Dr=O('<table class="mb-1em"><tbody></tbody></table>',4),Or=O('<tr><td class="text-right"></td><td></td></tr>',6),Ir=O('<div class="mb-1em"></div>',2),ue=e=>{let t=[];for(let n of e)for(let[r]of n)t.includes(r)||t.push(r);return t.sort((n,r)=>n-r)},fn=()=>C(Ye,{get children(){return[C(U,{get when(){return!G()},get children(){return[]}}),C(U,{get when(){return G()==="PREVIEW"},get children(){return C(cn,{})}}),C(U,{get when(){return G()==="DXF"},get children(){let e=an.cloneNode(!0);return I(e,()=>Je(R())),e}}),C(U,{get when(){return G()==="JSON"},get children(){let e=an.cloneNode(!0);return I(e,()=>JSON.stringify(R(),void 0,2)),e}}),C(U,{get when(){return G()==="HEADER"},get children(){return C(re,{get columns(){return[9,...ue(Object.values(R().HEADER))]},get records(){return Object.entries(R().HEADER)},tdSelector:e=>e===9?([t])=>t:([,t])=>F(t,e).join(`
`)})}}),C(U,{get when(){return G()==="CLASSES"},get children(){return C(re,{get columns(){return[1,...ue(Object.values(R().CLASSES))]},get records(){return Object.entries(R().CLASSES)},tdSelector:e=>e===1?([t])=>t:([,t])=>F(t,e).join(`
`)})}}),C(U,{get when(){return G()==="TABLES"},get children(){return C(re,{get columns(){return["TABLE",...ue(Object.values(R().TABLES).flat())]},get records(){return Object.entries(R().TABLES).flatMap(([e,t])=>t.map(n=>[e,n]))},tdSelector:e=>e==="TABLE"?([t])=>t:([,t])=>F(t,e).join(`
`)})}}),C(U,{get when(){return G()==="BLOCKS"},get children(){return C(re,{get columns(){return["BLOCK",...ue(Object.values(R().BLOCKS).flat())]},get records(){return Object.entries(R().BLOCKS).flatMap(([e,t])=>t.map(n=>[e,n]))},tdSelector:e=>e==="BLOCK"?([t])=>t:([,t])=>F(t,e).join(`
`)})}}),C(U,{get when(){return G()==="ENTITIES"},get children(){return C(re,{get columns(){return ue(R().ENTITIES)},get records(){return R().ENTITIES},tdSelector:e=>t=>F(t,e).join(`
`)})}}),C(U,{get when(){return G()==="OBJECTS"},get children(){let e=Mr.cloneNode(!0);return I(e,C(Y,{get each(){return R().OBJECTS},children:t=>[(()=>{let n=Nr.cloneNode(!0);return I(n,()=>w(t,0)),n})(),(()=>{let n=Dr.cloneNode(!0),r=n.firstChild;return I(r,C(Y,{each:t,children:([o,s])=>(()=>{let c=Or.cloneNode(!0),a=c.firstChild,l=a.nextSibling;return I(a,o),I(l,s),c})()})),n})()]})),e}}),C(U,{get when(){return G()==="ACDSDATA"},get children(){let e=Ar.cloneNode(!0);return I(e,C(Y,{get each(){return R().ACDSDATA},children:t=>(()=>{let n=Ir.cloneNode(!0);return I(n,C(re,{get columns(){return ue(t)},records:t,tdSelector:r=>o=>F(o,r).join(`
`)})),n})()})),e}})]}});var Pr=O('<label><input type="radio" name="section" hidden><span></span></label>',5),Rr=O('<input placeholder="filter" class="border-b border-hex-ccc text-sm leading-none px-2 py-0.5">',1),Br=O('<div class="flex-auto"></div>',2),Oe=({sectionName:e})=>(()=>{let t=Pr.cloneNode(!0),n=t.firstChild,r=n.nextSibling;return n.addEventListener("change",o=>o.currentTarget.checked&&be(o.currentTarget.value)),n.value=e,I(r,e),W(()=>n.checked=G()===e),t})(),un=()=>C(ce,{get when(){return G()},get children(){return[C(ce,{get when(){return["HEADER","CLASSES","TABLES","BLOCKS","ENTITIES"].includes(G())},get children(){let e=Rr.cloneNode(!0);return e.$$input=t=>Ft(t.currentTarget.value),W(()=>e.value=Ne()),e}}),Br.cloneNode(!0),C(Oe,{sectionName:"PREVIEW"}),C(Oe,{sectionName:"DXF"}),C(Oe,{sectionName:"JSON"}),C(Y,{get each(){return Object.keys(R())},children:e=>C(Oe,{sectionName:e})})]}});Tt(["input"]);var dn=(e,t)=>{let n=!1;e.addEventListener("dragenter",()=>{n=!0,e.classList.add("dragging")}),e.addEventListener("dragover",r=>{r.preventDefault(),n=!1;let o=r.dataTransfer;o&&(o.types.length===1&&o.types[0]==="Files"||o.items&&o.items.length===1&&o.items[0].kind==="file"?o.dropEffect="copy":o.dropEffect="none")}),e.addEventListener("dragleave",()=>{n||e.classList.remove("dragging")}),e.addEventListener("drop",r=>{r.stopPropagation(),r.preventDefault(),e.classList.remove("dragging");let o=r.dataTransfer;o&&t(o.files[0])})};We(()=>C(un,{}),document.getElementsByTagName("nav")[0]);We(()=>C(fn,{}),document.getElementsByTagName("main")[0]);var hn=e=>{let t=performance.now();e.arrayBuffer().then(n=>{let r=$e(n),o=performance.now();console.debug(e.name,`${o-t} [ms]`),document.getElementsByTagName("h2")[0].textContent=e.name,be(""),Bt(r),be("PREVIEW")})};dn(document.body,hn);window.launchQueue?.setConsumer(async({files:e})=>{e.length===1&&e[0].kind==="file"&&hn(await e[0].getFile())});
