const e=(e,t)=>{if(e)for(const n of e)if(n[0]===t)return n[1]},t=()=>Object.create(null),n=(n,o)=>{switch(n){default:{const e=[];let t=[];for(const n of o)0===n[0]&&e.push(t=[]),t.push(n);return e}case"HEADER":{const e=t();let n=[];for(const t of o)9===t[0]?e[t[1]]=n=[]:n.push(t);return e}case"CLASSES":{const e=t();let n=[];for(const t of o)0===t[0]?n=[]:1===t[0]?e[t[1]]=n:n.push(t);return e}case"TABLES":{const n=t();let s=[],r=[];for(const t of o)0===t[0]?(r=[],"TABLE"===t[1]?s=[r]:"ENDTAB"!==t[1]&&s.push(r)):2===t[0]&&"TABLE"===e(r,0)&&(n[t[1]]=s),r.push(t);return n}case"BLOCKS":{const n=t();let s=[],r=[];for(const t of o)0===t[0]?(r=[],"BLOCK"===t[1]?s=[r]:s.push(r)):2===t[0]&&"BLOCK"===e(r,0)&&(n[t[1]]=s),r.push(t);return n}case"OBJECTS":{const e=[];let t=[];for(const n of o)0===n[0]&&e.push(t=[]),t.push(n);return e}case"ACDSDATA":{let e=[],t=[e];const n=[t];for(const s of o)0===s[0]?(n.push(t=[]),t.push(e=[])):2===s[0]&&t.push(e=[]),e.push(s);return n}}};function o(e){const t=e.split(/\r\n|\r|\n/),n=Math.floor(t.length/2),o=Array(n);for(let e=0;e<n;e++)o[e]=[parseInt(t[e+e],10),t[e+e+1]];return o}function s(e){const t=[];for(let n=1;n<e.length;n++)if(0===e[n-1][0]&&"SECTION"===e[n-1][1]&&2===e[n][0]){const o=n;for(;++n<e.length&&(0!==e[n][0]||"ENDSEC"!==e[n][1]););t.push({name:e[o][1],startIndex:o+1,endIndex:n})}return t}const r={cp874:"dos-874",cp932:"ms932",cp936:"gbk",cp949:"windows-949",cp950:"csbig5",cp1361:"johab","mac-roman":"mac"},i={ja:"ms932"},a=(t,l)=>{const c=l?.encoding,d=new TextDecoder(c?(e=>{const t=e.trim().toLowerCase().replace(/^dos|^ansi_/,"cp").replace(/^iso8859_/,"iso8859-");return r[t]||t})(c):void 0).decode(t);if(!c){const r=((e,t)=>{const r=o(e);for(const{name:e,startIndex:t,endIndex:o}of s(r))if("HEADER"===e)return n(e,r.slice(t,o))})(d),l=e(r?.$ACADVER,1);if(!l||l<"AC1021"){const n=e(r?.$DWGCODEPAGE,3)??i[navigator.language]??"cp1252";return a(t,{encoding:n})}}return(e=>{const t=Object.create(null),r=o(e);for(const{name:e,startIndex:o,endIndex:i}of s(r))t[e]=n(e,r.slice(o,i));return t})(d)},l=(e,t)=>{for(const[n,o]of t)e+=n,e+="\n",e+=o,e+="\n";return e},c=(e,t)=>{const n=[];if(e)for(const o of e)o[0]===t&&n.push(o[1]);return n},d=[[0,0,0],[0,100,50],[60,100,50],[120,100,50],[180,100,50],[240,100,50],[300,100,50],[0,0,100],[0,0,25.5],[0,0,50.2],[0,100,50],[0,100,83.3],[0,100,37.1],[0,32.3,61.8],[0,100,25.3],[0,20,42.2],[0,100,20.4],[0,20.2,33.9],[0,100,15.5],[0,19.7,25.9],[14.8,100,50],[14.8,100,83.3],[14.6,100,37.1],[14.3,32.3,61.8],[14.4,100,25.3],[14,20,42.2],[14.4,100,20.4],[15.4,20.2,33.9],[14.4,100,15.5],[13.8,19.7,25.9],[29.9,100,50],[29.6,100,83.3],[29.8,100,37.1],[29.5,32.3,61.8],[29.8,100,25.3],[29.3,20,42.2],[30,100,20.4],[29.1,20.2,33.9],[29.6,100,15.5],[30,19.7,25.9],[44.9,100,50],[45.2,100,83.3],[44.8,100,37.1],[44.8,32.3,61.8],[44.7,100,25.3],[44.7,20,42.2],[45,100,20.4],[44.6,20.2,33.9],[44.8,100,15.5],[46.2,19.7,25.9],[60,100,50],[60,100,83.3],[60,100,37.1],[60,32.3,61.8],[60,100,25.3],[60,20,42.2],[60,100,20.4],[60,20.2,33.9],[60,100,15.5],[60,19.7,25.9],[75.1,100,50],[74.8,100,83.3],[75.2,100,37.1],[75.2,32.3,61.8],[75.3,100,25.3],[75.3,20,42.2],[75,100,20.4],[75.4,20.2,33.9],[75.2,100,15.5],[73.8,19.7,25.9],[90.1,100,50],[90.4,100,83.3],[90.2,100,37.1],[90.5,32.3,61.8],[90.2,100,25.3],[90.7,20,42.2],[90,100,20.4],[90.9,20.2,33.9],[90.4,100,15.5],[90,19.7,25.9],[105.2,100,50],[105.2,100,83.3],[105.4,100,37.1],[105.7,32.3,61.8],[105.6,100,25.3],[106,20,42.2],[105.6,100,20.4],[104.6,20.2,33.9],[105.6,100,15.5],[106.2,19.7,25.9],[120,100,50],[120,100,83.3],[120,100,37.1],[120,32.3,61.8],[120,100,25.3],[120,20,42.2],[120,100,20.4],[120,20.2,33.9],[120,100,15.5],[120,19.7,25.9],[134.8,100,50],[134.8,100,83.3],[134.6,100,37.1],[134.3,32.3,61.8],[134.4,100,25.3],[134,20,42.2],[134.4,100,20.4],[135.4,20.2,33.9],[134.4,100,15.5],[133.8,19.7,25.9],[149.9,100,50],[149.6,100,83.3],[149.8,100,37.1],[149.5,32.3,61.8],[149.8,100,25.3],[149.3,20,42.2],[150,100,20.4],[149.1,20.2,33.9],[149.6,100,15.5],[150,19.7,25.9],[164.9,100,50],[165.2,100,83.3],[164.8,100,37.1],[164.8,32.3,61.8],[164.7,100,25.3],[164.7,20,42.2],[165,100,20.4],[164.6,20.2,33.9],[164.8,100,15.5],[166.2,19.7,25.9],[180,100,50],[180,100,83.3],[180,100,37.1],[180,32.3,61.8],[180,100,25.3],[180,20,42.2],[180,100,20.4],[180,20.2,33.9],[180,100,15.5],[180,19.7,25.9],[195.1,100,50],[194.8,100,83.3],[195.2,100,37.1],[195.2,32.3,61.8],[195.3,100,25.3],[195.3,20,42.2],[195,100,20.4],[195.4,20.2,33.9],[195.2,100,15.5],[193.8,19.7,25.9],[210.1,100,50],[210.4,100,83.3],[210.2,100,37.1],[210.5,32.3,61.8],[210.2,100,25.3],[210.7,20,42.2],[210,100,20.4],[210.9,20.2,33.9],[210.4,100,15.5],[210,19.7,25.9],[225.2,100,50],[225.2,100,83.3],[225.4,100,37.1],[225.7,32.3,61.8],[225.6,100,25.3],[226,20,42.2],[225.6,100,20.4],[224.6,20.2,33.9],[225.6,100,15.5],[226.2,19.7,25.9],[240,100,50],[240,100,83.3],[240,100,37.1],[240,32.3,61.8],[240,100,25.3],[240,20,42.2],[240,100,20.4],[240,20.2,33.9],[240,100,15.5],[240,19.7,25.9],[254.8,100,50],[254.8,100,83.3],[254.6,100,37.1],[254.3,32.3,61.8],[254.4,100,25.3],[254,20,42.2],[254.4,100,20.4],[255.4,20.2,33.9],[254.4,100,15.5],[253.8,19.7,25.9],[269.9,100,50],[269.6,100,83.3],[269.8,100,37.1],[269.5,32.3,61.8],[269.8,100,25.3],[269.3,20,42.2],[270,100,20.4],[269.1,20.2,33.9],[269.6,100,15.5],[270,19.7,25.9],[284.9,100,50],[285.2,100,83.3],[284.8,100,37.1],[284.8,32.3,61.8],[284.7,100,25.3],[284.7,20,42.2],[285,100,20.4],[284.6,20.2,33.9],[284.8,100,15.5],[286.2,19.7,25.9],[300,100,50],[300,100,83.3],[300,100,37.1],[300,32.3,61.8],[300,100,25.3],[300,20,42.2],[300,100,20.4],[300,20.2,33.9],[300,100,15.5],[300,19.7,25.9],[315.1,100,50],[314.8,100,83.3],[315.2,100,37.1],[315.2,32.3,61.8],[315.3,100,25.3],[315.3,20,42.2],[315,100,20.4],[315.4,20.2,33.9],[315.2,100,15.5],[313.8,19.7,25.9],[330.1,100,50],[330.4,100,83.3],[330.2,100,37.1],[330.5,32.3,61.8],[330.2,100,25.3],[330.7,20,42.2],[330,100,20.4],[330.9,20.2,33.9],[330.4,100,15.5],[330,19.7,25.9],[345.2,100,50],[345.2,100,83.3],[345.4,100,37.1],[345.7,32.3,61.8],[345.6,100,25.3],[346,20,42.2],[345.6,100,20.4],[344.6,20.2,33.9],[345.6,100,15.5],[346.2,19.7,25.9],[0,0,20],[0,0,31.4],[0,0,41.2],[0,0,51],[0,0,74.5],[0,0,100]],f=["#000000","#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ffffff","#414141","#808080","#ff0000","#ffaaaa","#bd0000","#bd7e7e","#810000","#815656","#680000","#684545","#4f0000","#4f3535","#ff3f00","#ffbfaa","#bd2e00","#bd8d7e","#811f00","#816056","#681900","#684e45","#4f1300","#4f3b35","#ff7f00","#ffd4aa","#bd5e00","#bd9d7e","#814000","#816b56","#683400","#685645","#4f2700","#4f4235","#ffbf00","#ffeaaa","#bd8d00","#bdad7e","#816000","#817656","#684e00","#685f45","#4f3b00","#4f4935","#ffff00","#ffffaa","#bdbd00","#bdbd7e","#818100","#818156","#686800","#686845","#4f4f00","#4f4f35","#bfff00","#eaffaa","#8dbd00","#adbd7e","#608100","#768156","#4e6800","#5f6845","#3b4f00","#494f35","#7fff00","#d4ffaa","#5ebd00","#9dbd7e","#408100","#6b8156","#346800","#566845","#274f00","#424f35","#3fff00","#bfffaa","#2ebd00","#8dbd7e","#1f8100","#608156","#196800","#4e6845","#134f00","#3b4f35","#00ff00","#aaffaa","#00bd00","#7ebd7e","#008100","#568156","#006800","#456845","#004f00","#354f35","#00ff3f","#aaffbf","#00bd2e","#7ebd8d","#00811f","#568160","#006819","#45684e","#004f13","#354f3b","#00ff7f","#aaffd4","#00bd5e","#7ebd9d","#008140","#56816b","#006834","#456856","#004f27","#354f42","#00ffbf","#aaffea","#00bd8d","#7ebdad","#008160","#568176","#00684e","#45685f","#004f3b","#354f49","#00ffff","#aaffff","#00bdbd","#7ebdbd","#008181","#568181","#006868","#456868","#004f4f","#354f4f","#00bfff","#aaeaff","#008dbd","#7eadbd","#006081","#567681","#004e68","#455f68","#003b4f","#35494f","#007fff","#aad4ff","#005ebd","#7e9dbd","#004081","#566b81","#003468","#455668","#00274f","#35424f","#003fff","#aabfff","#002ebd","#7e8dbd","#001f81","#566081","#001968","#454e68","#00134f","#353b4f","#0000ff","#aaaaff","#0000bd","#7e7ebd","#000081","#565681","#000068","#454568","#00004f","#35354f","#3f00ff","#bfaaff","#2e00bd","#8d7ebd","#1f0081","#605681","#190068","#4e4568","#13004f","#3b354f","#7f00ff","#d4aaff","#5e00bd","#9d7ebd","#400081","#6b5681","#340068","#564568","#27004f","#42354f","#bf00ff","#eaaaff","#8d00bd","#ad7ebd","#600081","#765681","#4e0068","#5f4568","#3b004f","#49354f","#ff00ff","#ffaaff","#bd00bd","#bd7ebd","#810081","#815681","#680068","#684568","#4f004f","#4f354f","#ff00bf","#ffaaea","#bd008d","#bd7ead","#810060","#815676","#68004e","#68455f","#4f003b","#4f3549","#ff007f","#ffaad4","#bd005e","#bd7e9d","#810040","#81566b","#680034","#684556","#4f0027","#4f3542","#ff003f","#ffaabf","#bd002e","#bd7e8d","#81001f","#815660","#680019","#68454e","#4f0013","#4f353b","#333333","#505050","#696969","#828282","#bebebe","#ffffff"],h={d:"°",c:"⌀",p:"±"},u=(e,t)=>{e=e.replace(/%%(.)/g,((e,t)=>h[t]||t));const n=t?.encoding;let o,s=n instanceof TextDecoder?n:void 0,r="";const i=[],a=e=>{r&&(i.push(r),r=""),i.push(e)};for(let t=0;t<e.length;t++)switch(o=e[t]){default:r+=o;break;case"\\":switch(o=e[++t]){default:r+=o;break;case"P":r+="\n";break;case"f":case"F":{let n="";for(;o=e[++t];){if(";"===o){a({f:n});break}if("|"===o){const o={f:n},s=e.indexOf(";",++t);for(const n of e.slice(t,s).split("|"))o[n[0]]=+n.slice(1);t=s,a(o);break}n+="\\"===o?e[++t]:o}break}case"S":{let n,s="",r="";for(;o=e[++t];){if(";"===o){n&&a({S:[s,n,r]});break}"\\"===o?n?r+=e[++t]:s+=e[++t]:n?r+=o:"^"===o||"/"===o||"#"===o?n=o:s+=o}break}case"H":case"W":const i=++t,[,l,c]=e.slice(i,t=e.indexOf(";",t)).match(/^(\d*(?:\.\d+)?)(\D*)$/);a({[o]:[+l,c]});break;case"Q":case"A":case"C":case"T":{const n=++t;a({[o]:+e.slice(n,t=e.indexOf(";",t))});break}case"L":case"O":case"K":a({[o]:1});break;case"l":case"o":case"k":a({[o.toUpperCase()]:0});break;case"U":case"u":"+"===e[t+1]?(r+=String.fromCodePoint(parseInt(e.substr(t+2,4),16)),t+=5):r+=o;break;case"M":case"m":n?"+"===e[t+1]&&"1"===e[t+2]?(r+=(s=s||new TextDecoder(n)).decode(new Uint8Array([parseInt(e.substr(t+3,2),16),parseInt(e.substr(t+5,2),16)])),t+=6):r+=o:r+="\\"+o}break;case"{":{let n=1;const s=t;for(;o=e[++t];)if("{"===o)n++;else if("}"===o){if(0==--n){a(u(e.slice(s+1,t)));break}}else"\\"===o&&t++;break}}return r&&i.push(r),i},p={d:"°",c:"⌀",p:"±"},m=(e,t)=>(e=g(e),t?v(e,t):e),g=e=>e.replace(/\\[uU]\+([0-9a-fA-F]{4})/g,((e,t)=>String.fromCodePoint(parseInt(t,16)))),v=(e,t)=>{let n=t instanceof TextDecoder?t:void 0;return e.replace(/\\[mM]\+1([0-9a-fA-F]{2})([0-9a-fA-F]{2})/g,((e,o,s)=>(n=n||new TextDecoder(t)).decode(new Uint8Array([parseInt(o,16),parseInt(s,16)]))))},b=(e,t)=>{e=m(e,t?.encoding);let n=0,o={text:""};const s=[o];for(const t of e.matchAll(/%%(\d\d\d|.)/g)){o.text+=e.slice(n,t.index);const r=t[1].toLowerCase(),i=p[r];i?o.text+=i:3===r.length?o.text+=String.fromCodePoint(+r):"k"===r||"o"===r||"u"===r?(o={...o,text:""},o[r]?delete o[r]:o[r]=1,s.push(o)):o.text+=r,n=t.index+t[0].length}return o.text+=e.slice(n),s.filter((e=>e.text))},x=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),_=(e,t)=>{let n,o="<"+e;for(const[e,s]of Object.entries(t))s&&("children"===e?n=s:o+=` ${e}="${"string"==typeof s?x(s):s}"`);return"line"!==e&&"circle"!==e&&"path"!==e||(t.fill||(o+=' fill="none"'),o+=' vector-effect="non-scaling-stroke"'),"text"===e&&(o+=' stroke="none" white-space="pre"'),o+=n?`>${Array.isArray(n)?n.join(""):n}</${e}>`:"/>",o},y=_,E=(e,t)=>Math.abs(e-t)<.015625,w=(()=>{const e=(e,t)=>{const[n,o]=(""+e).split("e");return+(n+"e"+(o?+o+t:t))};return(t,n)=>e(Math.round(e(t,n)),-n)})(),$=e=>e?e.trim():e,C=(t,n)=>$(e(t,n)),N=(t,n)=>{return(o=$(e(t,n)))?o.startsWith("-")?o.slice(1):"-"+o:o;var o},T=(t,n,o)=>{const s=+e(t,n);if(isNaN(s))return void 0===o?NaN:o;if(Math.abs(s)>1e6)throw Error(`group code ${n} is invalid (${s})`);const r=Math.round(s);return Math.abs(r-s)<.015625?r:s},L=(e,...t)=>t.map((t=>T(e,t))),S=(e,...t)=>t.map((t=>-T(e,t))),k=(e,t)=>w(180*Math.atan2(e||0,t||0)/Math.PI,5)||0,M=(e,t,n=0)=>{if(e.length<=n)return"";const o=M(e,t,n+1),s=e[n];if("string"==typeof s)return s+o;if(Array.isArray(s))return M(s,t)+o;if(s.S)return y("tspan",{children:[_("tspan",{dy:"-.5em",children:s.S[0]}),_("tspan",{dy:"1em",dx:s.S[0].length/-2+"em",children:s.S[2]})]})+o;if(s.f){var r,i;const e={family:s.f,weight:s.b?700:400,style:s.i?"italic":void 0},n=null!==(r=null==t||null===(i=t.resolveFont)||void 0===i?void 0:i.call(t,e))&&void 0!==r?r:e;return _("tspan",{"font-family":n.family,"font-weight":n.weight,"font-style":n.style,"font-size":n.scale&&1!==n.scale?n.scale+"em":void 0,children:o})}return s.Q?_("tspan",{"font-style":`oblique ${s.Q}deg`,children:o}):o},A={warn:console.debug,resolveColorIndex:e=>{var t;return null!==(t=f[e])&&void 0!==t?t:"#888"}},I=e=>({"data-5":C(e,5)}),D=({k:e,o:t,u:n})=>{const o=[];return e&&o.push("line-through"),t&&o.push("overline"),n&&o.push("underline"),o.join(" ")},B=[,"text-after-edge","central","text-before-edge"],O=[,"middle","end",,"middle"],H=(e,t,n)=>{let o="";for(let n=0;n<e.length;n++)o+=`${o?"L":"M"}${e[n]} ${t[n]}`;return n&&(o+="Z"),o},P=(t,n,o)=>{const{warn:s}=o,r=((t,n)=>{const{warn:o,resolveColorIndex:s}=n,r={};for(const n of null!==(i=null===(a=t.TABLES)||void 0===a?void 0:a.LAYER)&&void 0!==i?i:[]){var i,a;"LAYER"===e(n,0)&&(r[e(n,2)]={color:s(+e(n,62)),ltype:e(n,6)})}const l={};for(const n of null!==(d=null===(f=t.TABLES)||void 0===f?void 0:f.LTYPE)&&void 0!==d?d:[]){var d,f;if("LTYPE"===e(n,0)){const t=c(n,49).map($).map((e=>e.startsWith("-")?e.slice(1):e)),o=t.length%2==1?t:"0"===t[0]?t.slice(1):t.concat("0");l[e(n,2)]={strokeDasharray:o.join(" ")}}}const h=e=>{const t=C(e,62);if("0"===t)return"currentColor";if(t&&"256"!==t)return s(+t);const n=r[C(e,8)];return n?n.color:void 0},p=e=>h(e)||"currentColor",g=t=>{var n,o,s;return null===(n=l[null!==(o=e(t,6))&&void 0!==o?o:null===(s=r[e(t,8)])||void 0===s?void 0:s.ltype])||void 0===n?void 0:n.strokeDasharray},v=e=>{const t=+C(e,230);if(t&&Math.abs(t+1)<1/64)return"transform:rotateY(180deg)"};return{POINT:()=>{},LINE:e=>{const t=L(e,10,11),n=S(e,20,21);return[_("line",{...I(e),x1:t[0],y1:n[0],x2:t[1],y2:n[1],stroke:p(e),"stroke-dasharray":g(e),style:v(e)}),t,n]},POLYLINE:(t,n)=>{var o;const s=n.map((e=>T(e,10))),r=n.map((e=>-T(e,20))),i=+(null!==(o=e(t,70))&&void 0!==o?o:0);return[_("path",{...I(t),d:H(s,r,1&i),stroke:p(t),"stroke-dasharray":g(t),style:v(t)}),s,r]},LWPOLYLINE:t=>{var n;const o=c(t,10).map((e=>+e)),s=c(t,20).map((e=>-e)),r=+(null!==(n=e(t,70))&&void 0!==n?n:0);return[_("path",{...I(t),d:H(o,s,1&r),stroke:p(t),"stroke-dasharray":g(t),style:v(t)}),o,s]},CIRCLE:e=>{const[t,n,o]=L(e,10,20,40);return[_("circle",{...I(e),cx:t,cy:-n,r:o,stroke:p(e),"stroke-dasharray":g(e),style:v(e)}),[t-o,t+o],[-n-o,-n+o]]},ARC:e=>{const[t,n,o]=L(e,10,20,40),s=T(e,50,0),r=T(e,51,0),i=s*Math.PI/180,a=r*Math.PI/180,l=t+o*Math.cos(i),c=n+o*Math.sin(i),d=t+o*Math.cos(a),f=n+o*Math.sin(a),h=(r-s+360)%360<=180?"0":"1";return[_("path",{...I(e),d:`M${l} ${-c}A${o} ${o} 0 ${h} 0 ${d} ${-f}`,stroke:p(e),"stroke-dasharray":g(e),style:v(e)}),[l,d],[-c,-f]]},ELLIPSE:e=>{const[t,n,s,r]=L(e,10,20,11,21),i=(a=s,l=r,Math.sqrt(a*a+l*l));var a,l;const c=T(e,40)*i,d=-Math.atan2(r,s),f=T(e,41,0),h=T(e,42,2*Math.PI);if(E(f,0)&&E(h,2*Math.PI))return[_("ellipse",{...I(e),cx:t,cy:-n,rx:i,ry:c,stroke:p(e),"stroke-dasharray":g(e),transform:d&&`rotate(${180*d/Math.PI} ${t} ${-n})`,style:v(e)}),[t-i,t+i],[-n-c,-n+c]];o("Elliptical arc cannot be rendered yet.")},LEADER:e=>{const t=c(e,10).map((e=>+e)),n=c(e,20).map((e=>-e));return[_("path",{...I(e),d:H(t,n),stroke:p(e),"stroke-dasharray":g(e)}),t,n]},HATCH:e=>{const t=e.slice(e.findIndex((e=>92===e[0])),e.findIndex((e=>97===e[0]))),n=c(t,10).map((e=>+e)),o=c(t,20).map((e=>-e)),s=c(t,11).map((e=>+e)),r=c(t,21).map((e=>-e));let i="";for(let e=0;e<n.length;e++)s[e]?n[e]===s[e-1]&&o[e]===r[e-1]?i+=`L${s[e]} ${r[e]}`:i+=`M${n[e]} ${o[e]}L${s[e]} ${r[e]}`:i+=`${0===e?"M":"L"}${n[e]} ${o[e]}`;return[_("path",{...I(e),d:i,fill:p(e),"fill-opacity":".3"}),[...n,...s],[...o,...r]]},SOLID:e=>{const[t,n,o,s]=L(e,10,11,12,13),[r,i,a,l]=S(e,20,21,22,23),c=`M${t} ${r}L${n} ${i}L${o} ${a}${o!==s||a!==l?`L${s} ${l}`:""}Z`;return[_("path",{...I(e),d:c,fill:p(e)}),[t,n,o,s],[r,i,a,l]]},TEXT:t=>{const[o,s]=L(t,10,40),[r,i]=S(t,20,50),a=b(e(t,1)||"",n);return[_("text",{...I(t),x:o,y:r,fill:p(t),"font-size":s,"dominant-baseline":B[C(t,73)],"text-anchor":O[C(t,72)],transform:i&&`rotate(${i} ${o} ${r})`,"text-decoration":1===a.length&&D(a[0]),children:1===a.length?a[0].text:a.map((e=>_("tspan",{"text-decoration":D(e),children:e.text})))}),[o,o+s*a.length],[r,r+s]]},MTEXT:t=>{var o;const[s,r]=L(t,10,40),i=-T(t,20),a=(e=>{for(let t=e.length-1;t>=0;t--)switch(e[t][0]){case 50:return w(+e[t][1],5)||0;case 11:return k(T(e,12),+e[t][1]);case 21:return k(+e[t][1],T(e,11))}return 0})(t),{dominantBaseline:l,textAnchor:d}=(e=>{let t,n;switch(e=+e){case 1:case 2:case 3:t="text-before-edge";break;case 4:case 5:case 6:t="central";break;case 7:case 8:case 9:t="text-after-edge"}switch(e%3){case 2:n="middle";break;case 0:n="end"}return{dominantBaseline:t,textAnchor:n}})(C(t,71)),f=c(t,3).join("")+(null!==(o=e(t,1))&&void 0!==o?o:"");return[_("text",{...I(t),x:s,y:i,fill:p(t),"font-size":r,"dominant-baseline":l,"text-anchor":d,transform:a?`rotate(${-a} ${s} ${i})`:void 0,children:M(u(f,n),n)}),[s,s+r*f.length],[i,i+r]]},DIMENSION:r=>{var i,a,l;const c=e(r,3),d=null===(i=t.TABLES)||void 0===i||null===(a=i.DIMSTYLE)||void 0===a?void 0:a.find((t=>e(t,2)===c)),f=(e=>{const t=new Map;for(let n=0;n<e.length;n++)if(1e3===e[n][0]&&"DSTYLE"===e[n][1].trim()&&1002===e[n+1][0]&&"{"===e[n+1][1].trim()){for(let o=n+2;o<e.length&&1002!==e[o][0];o++)1070===e[o][0]&&t.set(+e[o][1],e[++o][1]);return t}})(r),h=(t,n)=>{var o,s;return+(null!==(o=null!==(s=null==f?void 0:f.get(t))&&void 0!==s?s:e(d,t))&&void 0!==o?o:n)};let b,x="",y=T(r,42,NaN),E="text-after-edge",$="middle";-1===y&&(y=NaN);const k=h(144,1),A=T(r,11),D=-T(r,21),B=[A],O=[D],H=T(r,70,0);switch(7&H){case 0:case 1:{const[e,t]=L(r,13,14),[n,o]=S(r,23,24);if(b=Math.round(-T(r,50,0)||0),b%180==0){const s=N(r,20);y=y||Math.abs(e-t)*k,x=_("path",{stroke:"currentColor",d:`M${e} ${n}L${e} ${s}L${t} ${s}L${t} ${o}`}),b=0}else{const s=C(r,10);y=y||Math.abs(n-o)*k,x=_("path",{stroke:"currentColor",d:`M${e} ${n}L${s} ${n}L${s} ${o}L${t} ${o}`})}B.push(e,t),O.push(n,o);break}case 2:case 5:o("Angular dimension cannot be rendered yet.",r);break;case 3:case 4:o("Diameter / radius dimension cannot be rendered yet.",r);break;case 6:{const[e,t]=L(r,13,14),[n,o]=S(r,23,24);if(64&H){const s=T(r,10);y=y||Math.abs(s-+e)*k,x=_("path",{stroke:"currentColor",d:`M${e} ${n}L${e} ${o}L${t} ${o}L${A} ${D}`}),b=-90}else{const s=-T(r,20);y=y||Math.abs(s-+n)*k,x=_("path",{stroke:"currentColor",d:`M${e} ${n}L${t} ${n}L${t} ${o}L${A} ${D}`})}E="central",$="middle",B.push(e,t),O.push(n,o);break}}let P;y=w(y,h(271,0)||+e(null===(l=t.HEADER)||void 0===l?void 0:l.$DIMDEC,70)||4);{var V,R;const o=(h(140,0)||+e(null===(V=t.HEADER)||void 0===V?void 0:V.$DIMTXT,40))*(h(40,0)||+e(null===(R=t.HEADER)||void 0===R?void 0:R.$DIMSCALE,40)||1);let i=String(y);if(h(71,0)){const e=h(47,0),t=h(48,0);(e||t)&&(i=e===t?`${y}  ±${e}`:`${y}  {\\S${e?"+"+e:" 0"}^${-t||" 0"};}`)}const a=e(r,1),l=a?m(a,null==n?void 0:n.encoding).replace(/<>/,i):i,c=h(178,NaN);P=_("text",{x:A,y:D,fill:isNaN(c)?p(r):0===c?"currentColor":s(c),"font-size":o,"dominant-baseline":E,"text-anchor":$,transform:b&&`rotate(${b} ${A} ${D})`,children:M(u(l),n)})}return[_("g",{...I(r),color:p(r),"stroke-dasharray":g(r),style:v(r),children:x+P}),B,O]},ACAD_TABLE:t=>{const r=[];{let e=t.findIndex((e=>171===e[0]));for(let n=e+1;n<t.length;n++)171===t[n][0]&&(r.push(t.slice(e,n)),e=n);r.push(t.slice(e,t.length))}const i=c(t,141).map((e=>+e)).reduce(((e,t)=>(e.push(e[e.length-1]+t),e)),[0]),a=c(t,142).map((e=>+e)).reduce(((e,t)=>(e.push(e[e.length-1]+t),e)),[0]),l=p(t),d=s(+e(t,64));let f=i.map((e=>_("line",{stroke:l,x1:"0",y1:e,x2:a[a.length-1],y2:e}))).join(""),h=0,m=0;for(const c of r){const r=a[h],p=i[m],v=+e(c,64);var g;+e(c,173)||(f+=_("line",{x1:r,y1:p,x2:r,y2:i[m+1],stroke:l})),"2"===C(c,171)?o('Table cell type "block" cannot be rendered yet.',t,c):f+=_("text",{x:r,y:p,fill:isNaN(v)?d:s(v),children:M(u(null!==(g=e(c,1))&&void 0!==g?g:""),n)}),++h==a.length-1&&(h=0,m++)}f+=_("line",{x1:a[a.length-1],y1:"0",x2:a[a.length-1],y2:i[i.length-1],stroke:l});const v=T(t,10),b=-T(t,20);return[_("g",{...I(t),"font-size":C(t,140),"dominant-baseline":"text-before-edge",transform:`translate(${v},${b})`,children:f}),a.map((e=>e+v)),i.map((e=>e+b))]},INSERT:o=>{var s;const r=T(o,10,0),i=-T(o,20,0),a=N(o,50),l=T(o,41,1)||1,c=T(o,42,1)||1,d=[r||i?`translate(${r},${i})`:"",1!==l||1!==c?`scale(${l},${c})`:"",a?`rotate(${a})`:""].filter(Boolean).join(" "),f=null===(s=t.BLOCKS)||void 0===s?void 0:s[e(o,2)],u=null==f?void 0:f.slice("BLOCK"===e(f[0],0)?1:0,"ENDBLK"===e(f[f.length-1],0)?-1:void 0),[p,m]=P(t,u,n);return[_("g",{...I(o),color:h(o),transform:d,children:p}),[r+m.x,r+m.x+m.w*l],[i+m.y,i+m.y+m.h*c]]}}})(t,o);let i="",a=1/0,l=-1/0,d=1/0,f=-1/0;if(n)for(let t=0;t<n.length;t++){const o=n[t],c=e(o,0);if(!c)continue;const h=[];for(;"VERTEX"===e(n[t+1],0);)h.push(n[++t]);0!==h.length&&"SEQEND"===e(n[t+1],0)&&t++;try{const e=r[c];if(e){const t=e(o,h);if(t){i+=t[0];const e=t[1].filter((e=>isFinite(e))),n=t[2].filter((e=>isFinite(e)));a=Math.min(a,...e),l=Math.max(l,...e),d=Math.min(d,...n),f=Math.max(f,...n)}}else s(`Unknown entity type: ${c}`,o)}catch(e){s(`Error occurred: ${e}`,o)}}return[i,{x:a,y:d,w:l-a,h:f-d}]},V=new WeakMap,R=e=>"function"==typeof e&&V.has(e),z="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,j=(e,t,n=null)=>{for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}},W={},F={},Y=`{{lit-${String(Math.random()).slice(2)}}}`,X=`\x3c!--${Y}--\x3e`,K=new RegExp(`${Y}|${X}`);class U{constructor(e,t){this.parts=[],this.element=t;const n=[],o=[],s=document.createTreeWalker(t.content,133,null,!1);let r=0,i=-1,a=0;const{strings:l,values:{length:c}}=e;for(;a<c;){const e=s.nextNode();if(null!==e){if(i++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:n}=t;let o=0;for(let e=0;e<n;e++)q(t[e].name,"$lit$")&&o++;for(;o-- >0;){const t=l[a],n=Q.exec(t)[2],o=n.toLowerCase()+"$lit$",s=e.getAttribute(o);e.removeAttribute(o);const r=s.split(K);this.parts.push({type:"attribute",index:i,name:n,strings:r}),a+=r.length-1}}"TEMPLATE"===e.tagName&&(o.push(e),s.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(Y)>=0){const o=e.parentNode,s=t.split(K),r=s.length-1;for(let t=0;t<r;t++){let n,r=s[t];if(""===r)n=G();else{const e=Q.exec(r);null!==e&&q(e[2],"$lit$")&&(r=r.slice(0,e.index)+e[1]+e[2].slice(0,-"$lit$".length)+e[3]),n=document.createTextNode(r)}o.insertBefore(n,e),this.parts.push({type:"node",index:++i})}""===s[r]?(o.insertBefore(G(),e),n.push(e)):e.data=s[r],a+=r}}else if(8===e.nodeType)if(e.data===Y){const t=e.parentNode;null!==e.previousSibling&&i!==r||(i++,t.insertBefore(G(),e)),r=i,this.parts.push({type:"node",index:i}),null===e.nextSibling?e.data="":(n.push(e),i--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(Y,t+1));)this.parts.push({type:"node",index:-1}),a++}}else s.currentNode=o.pop()}for(const e of n)e.parentNode.removeChild(e)}}const q=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},J=e=>-1!==e.index,G=()=>document.createComment(""),Q=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class Z{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=z?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],n=this.template.parts,o=document.createTreeWalker(e,133,null,!1);let s,r=0,i=0,a=o.nextNode();for(;r<n.length;)if(s=n[r],J(s)){for(;i<s.index;)i++,"TEMPLATE"===a.nodeName&&(t.push(a),o.currentNode=a.content),null===(a=o.nextNode())&&(o.currentNode=t.pop(),a=o.nextNode());if("node"===s.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(a.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(a,s.name,s.strings,this.options));r++}else this.__parts.push(void 0),r++;return z&&(document.adoptNode(e),customElements.upgrade(e)),e}}const ee=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),te=` ${Y} `;class ne{constructor(e,t,n,o){this.strings=e,this.values=t,this.type=n,this.processor=o}getHTML(){const e=this.strings.length-1;let t="",n=!1;for(let o=0;o<e;o++){const e=this.strings[o],s=e.lastIndexOf("\x3c!--");n=(s>-1||n)&&-1===e.indexOf("--\x3e",s+1);const r=Q.exec(e);t+=null===r?e+(n?te:X):e.substr(0,r.index)+r[1]+r[2]+"$lit$"+r[3]+Y}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==ee&&(t=ee.createHTML(t)),e.innerHTML=t,e}}const oe=e=>null===e||!("object"==typeof e||"function"==typeof e),se=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class re{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new ie(this)}_getValue(){const e=this.strings,t=e.length-1,n=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=n[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!se(e))return e}let o="";for(let s=0;s<t;s++){o+=e[s];const t=n[s];if(void 0!==t){const e=t.value;if(oe(e)||!se(e))o+="string"==typeof e?e:String(e);else for(const t of e)o+="string"==typeof t?t:String(t)}}return o+=e[t],o}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class ie{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===W||oe(e)&&e===this.value||(this.value=e,R(e)||(this.committer.dirty=!0))}commit(){for(;R(this.value);){const e=this.value;this.value=W,e(this)}this.value!==W&&this.committer.commit()}}class ae{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(G()),this.endNode=e.appendChild(G())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=G()),e.__insert(this.endNode=G())}insertAfterPart(e){e.__insert(this.startNode=G()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;R(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=W,e(this)}const e=this.__pendingValue;e!==W&&(oe(e)?e!==this.value&&this.__commitText(e):e instanceof ne?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):se(e)?this.__commitIterable(e):e===F?(this.value=F,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof Z&&this.value.template===t)this.value.update(e.values);else{const n=new Z(t,e.processor,this.options),o=n._clone();n.update(e.values),this.__commitNode(o),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,o=0;for(const s of e)n=t[o],void 0===n&&(n=new ae(this.options),t.push(n),0===o?n.appendIntoPart(this):n.insertAfterPart(t[o-1])),n.setValue(s),n.commit(),o++;o<t.length&&(t.length=o,this.clear(n&&n.endNode))}clear(e=this.startNode){j(this.startNode.parentNode,e.nextSibling,this.endNode)}}class le{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;R(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=W,e(this)}if(this.__pendingValue===W)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=W}}class ce extends re{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new de(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class de extends ie{}let fe=!1;(()=>{try{const e={get capture(){return fe=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class he{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;R(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=W,e(this)}if(this.__pendingValue===W)return;const e=this.__pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),o=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=ue(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=W}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const ue=e=>e&&(fe?{capture:e.capture,passive:e.passive,once:e.once}:e.capture),pe=new class{handleAttributeExpressions(e,t,n,o){const s=t[0];return"."===s?new ce(e,t.slice(1),n).parts:"@"===s?[new he(e,t.slice(1),o.eventContext)]:"?"===s?[new le(e,t.slice(1),n)]:new re(e,t,n).parts}handleTextExpression(e){return new ae(e)}};function me(e){let t=ge.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},ge.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const o=e.strings.join(Y);return n=t.keyString.get(o),void 0===n&&(n=new U(e,e.getTemplateElement()),t.keyString.set(o,n)),t.stringsArray.set(e.strings,n),n}const ge=new Map,ve=new WeakMap;"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const be=(e,...t)=>new ne(e,t,"html",pe),xe=(e,t)=>{const n=e.startNode.parentNode,o=void 0===t?e.endNode:t.startNode,s=n.insertBefore(G(),o);n.insertBefore(G(),o);const r=new ae(e.options);return r.insertAfterNode(s),r},_e=(e,t)=>(e.setValue(t),e.commit(),e),ye=(e,t,n)=>{const o=e.startNode.parentNode,s=n?n.startNode:e.endNode,r=t.endNode.nextSibling;r!==s&&((e,t,n=null,o=null)=>{for(;t!==n;){const n=t.nextSibling;e.insertBefore(t,o),t=n}})(o,t.startNode,r,s)},Ee=e=>{j(e.startNode.parentNode,e.startNode,e.endNode.nextSibling)},we=(e,t,n)=>{const o=new Map;for(let s=t;s<=n;s++)o.set(e[s],s);return o},$e=new WeakMap,Ce=new WeakMap,Ne=(Te=(e,t,n)=>{let o;return void 0===n?n=t:void 0!==t&&(o=t),t=>{if(!(t instanceof ae))throw new Error("repeat can only be used in text bindings");const s=$e.get(t)||[],r=Ce.get(t)||[],i=[],a=[],l=[];let c,d,f=0;for(const t of e)l[f]=o?o(t,f):f,a[f]=n(t,f),f++;let h=0,u=s.length-1,p=0,m=a.length-1;for(;h<=u&&p<=m;)if(null===s[h])h++;else if(null===s[u])u--;else if(r[h]===l[p])i[p]=_e(s[h],a[p]),h++,p++;else if(r[u]===l[m])i[m]=_e(s[u],a[m]),u--,m--;else if(r[h]===l[m])i[m]=_e(s[h],a[m]),ye(t,s[h],i[m+1]),h++,m--;else if(r[u]===l[p])i[p]=_e(s[u],a[p]),ye(t,s[u],s[h]),u--,p++;else if(void 0===c&&(c=we(l,p,m),d=we(r,h,u)),c.has(r[h]))if(c.has(r[u])){const e=d.get(l[p]),n=void 0!==e?s[e]:null;if(null===n){const e=xe(t,s[h]);_e(e,a[p]),i[p]=e}else i[p]=_e(n,a[p]),ye(t,n,s[h]),s[e]=null;p++}else Ee(s[u]),u--;else Ee(s[h]),h++;for(;p<=m;){const e=xe(t,i[m+1]);_e(e,a[p]),i[p++]=e}for(;h<=u;){const e=s[h++];null!==e&&Ee(e)}$e.set(t,i),Ce.set(t,l)}},(...e)=>{const t=Te(...e);return V.set(t,!0),t});var Te,Le=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,Se=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector,ke=Element.prototype.closest?function(e,t){return e&&e.closest(t)}:function(e,t){for(;e&&!Se.call(e,t);)e=e.parentNode instanceof Element?e.parentNode:null;return e};function Me(e){var t={};if(e)for(var n=0,o=e.split(";");n<o.length;n++){var s=o[n],r=s.indexOf(":");t[s.slice(0,r).trim().replace(/[a-zA-Z0-9_]-[a-z]/g,(function(e){return e[0]+e[2].toUpperCase()}))]=s.slice(r+1).trim()}return t}function Ae(e,t){var n=ke(e,"["+t+"]");return n?[n,Me(n.getAttribute(t))]:[]}function Ie(){}var De=!1;try{var Be=Object.defineProperty({},"passive",{get:function(){De=!0}});addEventListener("t",Ie,Be),removeEventListener("t",Ie,Be)}catch(e){De=!1}var Oe=De?{passive:!1}:void 0,He=function(e){return e.preventDefault()};function Pe(e,t,n,o,s,r,i){var a=t+o*r-o,l=n+s*i-s;e.setAttribute("data-scroll-left",a),e.setAttribute("data-scroll-top",l),e.scrollLeft=Math.round(a),e.scrollTop=Math.round(l)}function Ve(e,t){if(void 0===t&&(t={}),"transform"===t.scalingProperty)return+(e&&e.getAttribute("data-scale")||1);var n=e.firstElementChild,o=n.getBBox(),s=e.clientWidth,r=e.clientHeight;return s/o.width<r/o.height?n.clientWidth/s:n.clientHeight/r}function Re(e,t,n){!function(e,t,n){void 0===n&&(n={});var o=n.minScale||1,s=n.maxScale||10,r=n.origin,i=e.firstElementChild,a=Ve(e,n),l=function(e,t,n){return e<t?t:e>n?n:e}(t,o,s);if(l!==a||"transform"!==n.scalingProperty){var c=l/a,d=i.getBoundingClientRect(),f=(r&&r.clientX||0)-d.left,h=(r&&r.clientY||0)-d.top,u=+e.getAttribute("data-scroll-left"),p=+e.getAttribute("data-scroll-top");if(Math.round(u)!==e.scrollLeft&&(u=e.scrollLeft),Math.round(p)!==e.scrollTop&&(p=e.scrollTop),e.setAttribute("data-scale",l),"transform"===n.scalingProperty){var m=getComputedStyle(i),g=m.transformOrigin.split(" ").map(parseFloat),v=new Le(m.transform);(v=v.translate.apply(v,g.map(ze))).d=v.a===v.d?l:v.d*c,v.a=l,v=v.translate.apply(v,g),i.style.transform=v,i.setAttribute("transform",v),Pe(e,u,p,f,h,c,c)}else{var b=i.clientWidth,x=i.clientHeight,_=e.clientWidth,y=e.clientHeight,E=i.getBBox(),w=void 0,$=void 0;_/E.width<y/E.height?$=(w=l*_)*E.height/E.width:w=($=l*y)*E.width/E.height,w=Math.max(w,_*o),$=Math.max($,y*o),i.style.width=w+"px",i.style.height=$+"px",Pe(e,u,p,f,h,w/b,$/x)}}}(e,Ve(e,n)*t,n)}function ze(e){return-e}!function(e,t){addEventListener("mousedown",(function(e){if(0===e.button||2===e.button){var n=Ae(e.target,"data-pan-on-drag"),o=n[0],s=n[1];if(o&&s&&function(e,t,n){return e.button===("right"===(t.button||n.button)?2:0)}(e,s,t)){e.preventDefault();var r=e.clientX,i=e.clientY,a=function(e){var t,n,s;t=o,n=r-e.clientX,s=i-e.clientY,t.scrollLeft+=n,t.scrollTop+=s,r=e.clientX,i=e.clientY,e.preventDefault()},l=function(){removeEventListener("mouseup",l),removeEventListener("mousemove",a),removeEventListener("contextmenu",He)};addEventListener("mouseup",l),addEventListener("mousemove",a),addEventListener("contextmenu",He)}}}))}(0,{button:"left"}),function(e,t,n){void 0===n&&(n={}),n.noEmitStyle||((document.head||document.body||document.documentElement).appendChild(document.createElement("style")).textContent="["+e+"]{overflow:scroll}["+e+"]>:first-child{width:100%;height:100%;vertical-align:middle}"),addEventListener("wheel",(function(n){var o=Ae(n.target,e),s=o[0],r=o[1];if(s instanceof HTMLElement){var i=+r.zoomAmount||t.zoomAmount;Re(s,Math.pow(1+i,-n.deltaY),{origin:n,minScale:+r.minScale||t.minScale,maxScale:+r.maxScale||t.maxScale,scalingProperty:r.scalingProperty||t.scalingProperty}),n.preventDefault()}}),Oe),addEventListener("resize",(function(){for(var t=document.querySelectorAll("["+e+"]"),n=0;n<t.length;n++){var o=t[n];if(o instanceof HTMLElement){var s=Me(o.getAttribute(e));Re(o,1,s)}}}))}("data-zoom-on-wheel",{minScale:1,maxScale:10,zoomAmount:.002,scalingProperty:"width/height"});var je,We=(function(e){e.exports=function(){var e=function(){for(var e=3,t=document.createElement("b"),n=t.all||[];t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i><![endif]--\x3e",n[0];);return e>4?e:document.documentMode}(),t=navigator.platform.toLowerCase().indexOf("mac")+1,n=function(e){if(!(this instanceof n))return new n(e);var i=this,a={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,callbacks:{}};i.options={};for(var l,c=["rows_in_block","blocks_in_cluster","show_no_data_row","no_data_class","no_data_text","keep_parity","tag","callbacks"],d=0;l=c[d];d++)i.options[l]=void 0!==e[l]&&null!=e[l]?e[l]:a[l];var f,h=["scroll","content"];for(d=0;f=h[d];d++)if(i[f+"_elem"]=e[f+"Id"]?document.getElementById(e[f+"Id"]):e[f+"Elem"],!i[f+"_elem"])throw new Error("Error! Could not find "+f+" element");i.content_elem.hasAttribute("tabindex")||i.content_elem.setAttribute("tabindex",0);var u=r(e.rows)?e.rows:i.fetchMarkup(),p={},m=i.scroll_elem.scrollTop;i.insertToDOM(u,p),i.scroll_elem.scrollTop=m;var g=!1,v=0,b=!1,x=function(){t&&(b||(i.content_elem.style.pointerEvents="none"),b=!0,clearTimeout(v),v=setTimeout((function(){i.content_elem.style.pointerEvents="auto",b=!1}),50)),g!=(g=i.getClusterNum())&&i.insertToDOM(u,p),i.options.callbacks.scrollingProgress&&i.options.callbacks.scrollingProgress(i.getScrollProgress())},_=0,y=function(){clearTimeout(_),_=setTimeout(i.refresh,100)};o("scroll",i.scroll_elem,x),o("resize",window,y),i.destroy=function(e){s("scroll",i.scroll_elem,x),s("resize",window,y),i.html((e?i.generateEmptyRow():u).join(""))},i.refresh=function(e){(i.getRowsHeight(u)||e)&&i.update(u)},i.update=function(e){u=r(e)?e:[];var t=i.scroll_elem.scrollTop;u.length*i.options.item_height<t&&(i.scroll_elem.scrollTop=0,g=0),i.insertToDOM(u,p),i.scroll_elem.scrollTop=t},i.clear=function(){i.update([])},i.getRowsAmount=function(){return u.length},i.getScrollProgress=function(){return this.options.scroll_top/(u.length*this.options.item_height)*100||0};var E=function(e,t){var n=r(t)?t:[];n.length&&(u="append"==e?u.concat(n):n.concat(u),i.insertToDOM(u,p))};i.append=function(e){E("append",e)},i.prepend=function(e){E("prepend",e)}};function o(e,t,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function s(e,t,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e,t){return window.getComputedStyle?window.getComputedStyle(t)[e]:t.currentStyle[e]}return n.prototype={constructor:n,fetchMarkup:function(){for(var e=[],t=this.getChildNodes(this.content_elem);t.length;)e.push(t.shift().outerHTML);return e},exploreEnvironment:function(t,n){var o=this.options;o.content_tag=this.content_elem.tagName.toLowerCase(),t.length&&(e&&e<=9&&!o.tag&&(o.tag=t[0].match(/<([^>\s/]*)/)[1].toLowerCase()),this.content_elem.children.length<=1&&(n.data=this.html(t[0]+t[0]+t[0])),o.tag||(o.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(t))},getRowsHeight:function(e){var t=this.options,n=t.item_height;if(t.cluster_height=0,e.length){var o=this.content_elem.children;if(o.length){var s=o[Math.floor(o.length/2)];if(t.item_height=s.offsetHeight,"tr"==t.tag&&"collapse"!=i("borderCollapse",this.content_elem)&&(t.item_height+=parseInt(i("borderSpacing",this.content_elem),10)||0),"tr"!=t.tag){var r=parseInt(i("marginTop",s),10)||0,a=parseInt(i("marginBottom",s),10)||0;t.item_height+=Math.max(r,a)}return t.block_height=t.item_height*t.rows_in_block,t.rows_in_cluster=t.blocks_in_cluster*t.rows_in_block,t.cluster_height=t.blocks_in_cluster*t.block_height,n!=t.item_height}}},getClusterNum:function(){return this.options.scroll_top=this.scroll_elem.scrollTop,Math.floor(this.options.scroll_top/(this.options.cluster_height-this.options.block_height))||0},generateEmptyRow:function(){var e=this.options;if(!e.tag||!e.show_no_data_row)return[];var t,n=document.createElement(e.tag),o=document.createTextNode(e.no_data_text);return n.className=e.no_data_class,"tr"==e.tag&&((t=document.createElement("td")).colSpan=100,t.appendChild(o)),n.appendChild(t||o),[n.outerHTML]},generate:function(e,t){var n=this.options,o=e.length;if(o<n.rows_in_block)return{top_offset:0,bottom_offset:0,rows_above:0,rows:o?e:this.generateEmptyRow()};var s=Math.max((n.rows_in_cluster-n.rows_in_block)*t,0),r=s+n.rows_in_cluster,i=Math.max(s*n.item_height,0),a=Math.max((o-r)*n.item_height,0),l=[],c=s;i<1&&c++;for(var d=s;d<r;d++)e[d]&&l.push(e[d]);return{top_offset:i,bottom_offset:a,rows_above:c,rows:l}},renderExtraTag:function(e,t){var n=document.createElement(this.options.tag);return n.className=["clusterize-extra-row","clusterize-"+e].join(" "),t&&(n.style.height=t+"px"),n.outerHTML},insertToDOM:function(e,t){this.options.cluster_height||this.exploreEnvironment(e,t);var n=this.generate(e,this.getClusterNum()),o=n.rows.join(""),s=this.checkChanges("data",o,t),r=this.checkChanges("top",n.top_offset,t),i=this.checkChanges("bottom",n.bottom_offset,t),a=this.options.callbacks,l=[];s||r?(n.top_offset&&(this.options.keep_parity&&l.push(this.renderExtraTag("keep-parity")),l.push(this.renderExtraTag("top-space",n.top_offset))),l.push(o),n.bottom_offset&&l.push(this.renderExtraTag("bottom-space",n.bottom_offset)),a.clusterWillChange&&a.clusterWillChange(),this.html(l.join("")),"ol"==this.options.content_tag&&this.content_elem.setAttribute("start",n.rows_above),this.content_elem.style["counter-increment"]="clusterize-counter "+(n.rows_above-1),a.clusterChanged&&a.clusterChanged()):i&&(this.content_elem.lastChild.style.height=n.bottom_offset+"px")},html:function(t){var n=this.content_elem;if(e&&e<=9&&"tr"==this.options.tag){var o,s=document.createElement("div");for(s.innerHTML="<table><tbody>"+t+"</tbody></table>";o=n.lastChild;)n.removeChild(o);for(var r=this.getChildNodes(s.firstChild.firstChild);r.length;)n.appendChild(r.shift())}else n.innerHTML=t},getChildNodes:function(e){for(var t=e.children,n=[],o=0,s=t.length;o<s;o++)n.push(t[o]);return n},checkChanges:function(e,t,n){var o=t!=n[e];return n[e]=t,o}},n}()}(je={exports:{}}),je.exports);const Fe=(e,t,n,o,s,r)=>{e.innerHTML='\n<div class="clusterize">\n  <div class="clusterize-header-scroll">\n    <table><thead></thead></table>\n  </div>\n  <div class="clusterize-scroll">\n    <table><tbody class="clusterize-content"></tbody></table>\n  </div>\n</div>\n';const i=e.getElementsByClassName("clusterize-scroll")[0];{const t=e.getElementsByClassName("clusterize-header-scroll")[0];i.addEventListener("scroll",(function(){t.scrollLeft=this.scrollLeft}))}const a=e.getElementsByTagName("thead")[0].insertRow();for(const e of n)a.appendChild(document.createElement("th")).textContent=e;const l=e.getElementsByTagName("tbody")[0],c=n.map((e=>[s(e),r?.(e)])),d=o.map((e=>`<tr>${c.map((([t,n])=>{const o=n?.(e)?.message;return`<td${o?' title="'+(s=o,s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'"'):""}>${t(e)||""}</td>`;var s})).join("")}</tr>`)),f=new We({scrollElem:i,contentElem:l,rows:d,callbacks:{clusterChanged(){const e=l.querySelector("tr:not(.clusterize-extra-row)");if(!e.classList.contains("clusterize-no-data"))for(let t=0;t<a.cells.length;t++)a.cells[t].style.width=`${e.cells[t].offsetWidth}px`}}});t.placeholder="filter",t.addEventListener("input",(function(){const e=this.value.toLowerCase(),t=e?d.filter(((t,n)=>c.some((([t])=>t(o[n])?.toLowerCase().includes(e))))):d;f.update(t)}))},Ye=e=>{const t=[];for(const n of e)for(const[e]of n)t.includes(e)||t.push(e);return t.sort(((e,t)=>e-t))},Xe=(t,n,o)=>{if(n){const s=t.appendChild(document.createElement("input")),r=t.appendChild(document.createElement("article"));r.style.height=`calc(100% - ${s.offsetHeight+4}px - 1em)`,Fe(r,s,[o,...Ye(Object.values(n))],Object.entries(n),(t=>t===o?([e])=>e:([o])=>e(n[o],t)))}},Ke=(t,n,o)=>{Array.isArray(o)&&Fe(t,n,Ye(o),o,(e=>t=>t.filter((([t])=>t===e)).map((([,e])=>e)).join("\n")),(t=>1!==t?void 0:t=>{const n=e(t,1);if(n)switch(e(t,0)){case"TEXT":{const e=b(n).map((({text:e})=>e)).join("");return e===n?void 0:{type:"info",message:e}}case"MTEXT":{const e=c(t,3).join("")+n;return e===n?void 0:{type:"info",message:e}}}}))},Ue=new TextDecoder("ms932");let qe={filename:"",dxf:{},activeSectionName:""};const Je=e=>e,Ge=e=>ot({...qe,activeSectionName:e.target.value}),Qe=e=>be`<label><input type=radio name=section hidden value=${e} .checked=${qe.activeSectionName===e} @change=${Ge}><span>${e}</span></label>`,Ze=e=>{const[t,n,o]=d[e]??[0,0,50];return`hsl(${t},${n}%,${.8*o+20}%)`},et=e=>({...e,family:e.family+",var(--font-family)"}),tt=document.getElementsByTagName("nav")[0],nt=document.getElementsByTagName("main")[0];function ot(t){var n;qe=t,n=tt,((e,t,n)=>{let o=ve.get(t);void 0===o&&(j(t,t.firstChild),ve.set(t,o=new ae(Object.assign({templateFactory:me},void 0))),o.appendInto(t)),o.setValue(e),o.commit()})(be`<h2 style="flex: auto; font-size: 100%;">${qe.filename}</h2>${Qe("PREVIEW")} ${Qe("DXF")} ${Qe("JSON")} ${Ne(Object.keys(qe.dxf),Je,Qe)}`,n),(t=>{if(t.innerHTML="",!qe.activeSectionName)return;const{dxf:n,activeSectionName:o}=qe;switch(o){case"PREVIEW":{const e=((e,t)=>{const[n,{x:o,y:s,w:r,h:i}]=((e,t)=>{const n=t?{...A,...t}:A;return P(e,e.ENTITIES,n)})(e,t);return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`${o} ${s} ${r} ${i}`,width:r,height:i,children:n})})(qe.dxf,{resolveColorIndex:Ze,resolveFont:et,encoding:Ue});t.innerHTML=`\n        <div data-zoom-on-wheel="max-scale: 10000" data-pan-on-drag style="height: 100%">${e}</div>\n        <a target=_blank href="data:image/svg+xml,${encodeURIComponent(e)}" style="position: absolute; right: 16px; top: 8px">SVG File</a>\n        <div style="pointer-events: none; position: absolute; right: 16px; bottom: 8px; text-align: right; color: #ddd; text-shadow: 0 1px #123,0 -1px #123,1px 0 #123,-1px 0 #123,0 0 4px #123"></div>\n      `;const n=t.lastElementChild,o=t.getElementsByTagName("svg")[0],s=o.getBBox();return o.setAttribute("viewBox",`${s.x-10} ${s.y-10} ${s.width+20} ${s.height+20}`),o.onpointermove=({currentTarget:e,clientX:t,clientY:o})=>{const s=e,{x:r,y:i}=Object.assign(s.createSVGPoint(),{x:t,y:o}).matrixTransform(s.getScreenCTM().inverse());n.textContent=`${Math.round(r)}, ${Math.round(-i)}`},void(o.onpointerleave=()=>n.textContent="")}case"DXF":return t.innerHTML=`<textarea readonly style="width: 100%; height: 100%; resize: none;">${(e=>{let t="";for(const n in e){t+="0\nSECTION\n2\n",t+=n,t+="\n";const o=e[n];switch(n){default:for(const e of o)t=l(t,e);break;case"HEADER":for(const e in o){t+="9\n",t+=e,t+="\n";const n=o[e];for(const[e,o]of n)t+=e,t+="\n",t+=o,t+="\n"}break;case"CLASSES":for(const e in o){const n=o[e];t+="0\nCLASS\n1\n",t+=e,t+="\n";for(const[e,o]of n)0!==e&&(t+=e,t+="\n",t+=o,t+="\n")}break;case"TABLES":for(const e in o){const n=o[e];for(const e of n)t=l(t,e);t+="0\nENDTAB\n"}break;case"BLOCKS":for(const e in o)for(const n of o[e])t=l(t,n);break;case"OBJECTS":for(const e of o)for(const[n,o]of e)t+=n,t+="\n",t+=o,t+="\n";break;case"ACDSDATA":for(const e of o)for(const n of e)t=l(t,n)}t+="0\nENDSEC\n"}return t+="0\nEOF\n",t})(qe.dxf)}</textarea>`;case"JSON":return t.innerHTML=`<textarea readonly style="width: 100%; height: 100%; resize: none;">${JSON.stringify(qe.dxf,void 0,2)}</textarea>`;default:((t,n,o)=>{switch(o){case"HEADER":return Xe(t,n[o],9);case"CLASSES":return Xe(t,n[o],1);case"OBJECTS":if(n[o]){const s=t.appendChild(document.createElement("section"));for(const t of n[o]){s.appendChild(document.createElement("h3")).textContent=e(t,0);const n=s.appendChild(document.createElement("article")).appendChild(document.createElement("table"));for(const[e,o]of t){const t=n.insertRow();t.insertCell().textContent=e,t.insertCell().textContent=o}}}break;case"TABLES":case"BLOCKS":if(n[o]){const e=t.appendChild(document.createElement("section")),s=e.appendChild(document.createElement("div"));s.className="filter-input-container";const r=s.appendChild(document.createElement("input"));e.style.paddingTop=`calc(${r.offsetHeight+4}px + 1em)`;for(const t in n[o]){e.appendChild(document.createElement("h3")).textContent=t;const s=e.appendChild(document.createElement("article"));s.tabIndex=0,s.style.display="flex",s.style.maxHeight="30vh",Ke(s,r,n[o][t])}}break;case"ACDSDATA":if(n[o]){const e=t.appendChild(document.createElement("section")),s=e.appendChild(document.createElement("div"));s.className="filter-input-container";const r=s.appendChild(document.createElement("input"));e.style.paddingTop=`calc(${r.offsetHeight+4}px + 1em)`;for(const t of n[o]){const n=e.appendChild(document.createElement("article"));n.tabIndex=0,n.style.display="flex",n.style.maxHeight="30vh",Ke(n,r,t)}}break;default:if(n[o]){const e=t.appendChild(document.createElement("input")),s=t.appendChild(document.createElement("article"));s.style.height=`calc(100% - ${e.offsetHeight+4}px - 1em)`,Ke(s,e,n[o])}}})(t,n,o)}})(nt);const o=performance.now();setTimeout((()=>console.log(`Rendering takes ${performance.now()-o} [ms]`)))}((e,t)=>{let n=!1;e.addEventListener("dragenter",(()=>{n=!0,e.classList.add("dragging")})),e.addEventListener("dragover",(e=>{e.preventDefault(),n=!1;const t=e.dataTransfer;t&&(1===t.types.length&&"Files"===t.types[0]||t.items&&1===t.items.length&&"file"===t.items[0].kind?t.dropEffect="copy":t.dropEffect="none")})),e.addEventListener("dragleave",(()=>{n||e.classList.remove("dragging")})),e.addEventListener("drop",(t=>{t.stopPropagation(),t.preventDefault(),e.classList.remove("dragging");const n=t.dataTransfer;n&&(e=>{const t=performance.now();e.arrayBuffer().then((n=>{const o=a(n),s=performance.now();console.debug(e.name,s-t+" [ms]"),ot({filename:e.name,dxf:o||{},activeSectionName:"PREVIEW"})}))})(n.files[0])}))})(document.body);
