const e=(e,t)=>{if(e)for(const n of e)if(n[0]===t)return n[1]},t=()=>Object.create(null),n=(n,o)=>{switch(n){default:{const e=[];let t=[];for(const n of o)0===n[0]&&e.push(t=[]),t.push(n);return e}case"HEADER":{const e=t();let n=[];for(const t of o)9===t[0]?e[t[1]]=n=[]:n.push(t);return e}case"CLASSES":{const e=t();let n=[];for(const t of o)0===t[0]?n=[]:1===t[0]?e[t[1]]=n:n.push(t);return e}case"TABLES":{const n=t();let s=[],r=[];for(const t of o)0===t[0]?(r=[],"TABLE"===t[1]?s=[r]:"ENDTAB"!==t[1]&&s.push(r)):2===t[0]&&"TABLE"===e(r,0)&&(n[t[1]]=s),r.push(t);return n}case"BLOCKS":{const n=t();let s=[],r=[];for(const t of o)0===t[0]?(r=[],"BLOCK"===t[1]?s=[r]:s.push(r)):2===t[0]&&"BLOCK"===e(r,0)&&(n[t[1]]=s),r.push(t);return n}case"OBJECTS":{const e=[];let t=[];for(const n of o)0===n[0]&&e.push(t=[]),t.push(n);return e}case"ACDSDATA":{let e=[],t=[e];const n=[t];for(const s of o)0===s[0]?(n.push(t=[]),t.push(e=[])):2===s[0]&&t.push(e=[]),e.push(s);return n}}};function o(e){const t=e.split(/\r\n|\r|\n/),n=Math.floor(t.length/2),o=Array(n);for(let e=0;e<n;e++)o[e]=[parseInt(t[e+e],10),t[e+e+1]];return o}function s(e){const t=[];for(let n=1;n<e.length;n++)if(0===e[n-1][0]&&"SECTION"===e[n-1][1]&&2===e[n][0]){const o=n;for(;++n<e.length&&(0!==e[n][0]||"ENDSEC"!==e[n][1]););t.push({name:e[o][1],startIndex:o+1,endIndex:n})}return t}const r={cp874:"dos-874",cp932:"ms932",cp936:"gbk",cp949:"windows-949",cp950:"csbig5",cp1361:"johab","mac-roman":"mac"},i={ja:"ms932"},a=(t,l,c)=>{var d;const u=null===(d=c)||void 0===d?void 0:d.encoding,h=new FileReader;h.onload=function(){var r,d,h,p,f,m;const g=this.result;if(!u){const u=((e,t)=>{const r=o(e);for(const{name:e,startIndex:t,endIndex:o}of s(r))if("HEADER"===e)return n(e,r.slice(t,o))})(g),v=e(null===(r=u)||void 0===r?void 0:r.$ACADVER,1);if(!v||v<"AC1021")return void a(t,l,{encoding:(h=e(null===(d=u)||void 0===d?void 0:d.$DWGCODEPAGE,3),f=null!=h?h:null===(p=c)||void 0===p?void 0:p.defaultEncoding,m=null!=f?f:i[navigator.language],null!=m?m:"cp1252")})}l(void 0,(e=>{const t=Object.create(null),r=o(e);for(const{name:e,startIndex:o,endIndex:i}of s(r))t[e]=n(e,r.slice(o,i));return t})(g))},h.onerror=function(){l(this.error||void 0,void 0)},h.readAsText(t,u&&(e=>{const t=e.trim().toLowerCase().replace(/^dos|^ansi_/,"cp").replace(/^iso8859_/,"iso8859-");return r[t]||t})(u))},l=(e,t)=>{for(const[n,o]of t)e+=n,e+="\n",e+=o,e+="\n";return e},c=(e,t)=>{const n=[];if(e)for(const o of e)o[0]===t&&n.push(o[1]);return n},d={d:"°",c:"⌀",p:"±"},u=e=>{e=e.replace(/\\[uU]\+([0-9a-fA-F]{4})/g,(e,t)=>String.fromCodePoint(parseInt(t,16)));let t={text:""};const n=[t];let o=0;for(const s of e.matchAll(/%%(\d\d\d|.)/g)){t.text+=e.slice(o,s.index);const r=s[1].toLowerCase(),i=d[r];i?t.text+=i:3===r.length?t.text+=String.fromCodePoint(+r):"k"===r||"o"===r||"u"===r?(t={...t,text:""},t[r]?delete t[r]:t[r]=1,n.push(t)):t.text+=r,o=s.index+s[0].length}return t.text+=e.slice(o),n.filter(e=>e.text)},h=new WeakMap,p=e=>"function"==typeof e&&h.has(e),f=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,m=(e,t,n=null)=>{for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}},g={},v={},_=`{{lit-${String(Math.random()).slice(2)}}}`,x=`\x3c!--${_}--\x3e`,$=new RegExp(`${_}|${x}`);class E{constructor(e,t){this.parts=[],this.element=t;const n=[],o=[],s=document.createTreeWalker(t.content,133,null,!1);let r=0,i=-1,a=0;const{strings:l,values:{length:c}}=e;for(;a<c;){const e=s.nextNode();if(null!==e){if(i++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:n}=t;let o=0;for(let e=0;e<n;e++)b(t[e].name,"$lit$")&&o++;for(;o-- >0;){const t=l[a],n=N.exec(t)[2],o=n.toLowerCase()+"$lit$",s=e.getAttribute(o);e.removeAttribute(o);const r=s.split($);this.parts.push({type:"attribute",index:i,name:n,strings:r}),a+=r.length-1}}"TEMPLATE"===e.tagName&&(o.push(e),s.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(_)>=0){const o=e.parentNode,s=t.split($),r=s.length-1;for(let t=0;t<r;t++){let n,r=s[t];if(""===r)n=w();else{const e=N.exec(r);null!==e&&b(e[2],"$lit$")&&(r=r.slice(0,e.index)+e[1]+e[2].slice(0,-"$lit$".length)+e[3]),n=document.createTextNode(r)}o.insertBefore(n,e),this.parts.push({type:"node",index:++i})}""===s[r]?(o.insertBefore(w(),e),n.push(e)):e.data=s[r],a+=r}}else if(8===e.nodeType)if(e.data===_){const t=e.parentNode;null!==e.previousSibling&&i!==r||(i++,t.insertBefore(w(),e)),r=i,this.parts.push({type:"node",index:i}),null===e.nextSibling?e.data="":(n.push(e),i--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(_,t+1));)this.parts.push({type:"node",index:-1}),a++}}else s.currentNode=o.pop()}for(const e of n)e.parentNode.removeChild(e)}}const b=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},y=e=>-1!==e.index,w=()=>document.createComment(""),N=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class C{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=f?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],n=this.template.parts,o=document.createTreeWalker(e,133,null,!1);let s,r=0,i=0,a=o.nextNode();for(;r<n.length;)if(s=n[r],y(s)){for(;i<s.index;)i++,"TEMPLATE"===a.nodeName&&(t.push(a),o.currentNode=a.content),null===(a=o.nextNode())&&(o.currentNode=t.pop(),a=o.nextNode());if("node"===s.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(a.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(a,s.name,s.strings,this.options));r++}else this.__parts.push(void 0),r++;return f&&(document.adoptNode(e),customElements.upgrade(e)),e}}const T=` ${_} `;class L{constructor(e,t,n,o){this.strings=e,this.values=t,this.type=n,this.processor=o}getHTML(){const e=this.strings.length-1;let t="",n=!1;for(let o=0;o<e;o++){const e=this.strings[o],s=e.lastIndexOf("\x3c!--");n=(s>-1||n)&&-1===e.indexOf("--\x3e",s+1);const r=N.exec(e);t+=null===r?e+(n?T:x):e.substr(0,r.index)+r[1]+r[2]+"$lit$"+r[3]+_}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}const S=e=>null===e||!("object"==typeof e||"function"==typeof e),A=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class M{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new k(this)}_getValue(){const e=this.strings,t=e.length-1;let n="";for(let o=0;o<t;o++){n+=e[o];const t=this.parts[o];if(void 0!==t){const e=t.value;if(S(e)||!A(e))n+="string"==typeof e?e:String(e);else for(const t of e)n+="string"==typeof t?t:String(t)}}return n+=e[t],n}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class k{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===g||S(e)&&e===this.value||(this.value=e,p(e)||(this.committer.dirty=!0))}commit(){for(;p(this.value);){const e=this.value;this.value=g,e(this)}this.value!==g&&this.committer.commit()}}class I{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(w()),this.endNode=e.appendChild(w())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=w()),e.__insert(this.endNode=w())}insertAfterPart(e){e.__insert(this.startNode=w()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;p(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=g,e(this)}const e=this.__pendingValue;e!==g&&(S(e)?e!==this.value&&this.__commitText(e):e instanceof L?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):A(e)?this.__commitIterable(e):e===v?(this.value=v,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof C&&this.value.template===t)this.value.update(e.values);else{const n=new C(t,e.processor,this.options),o=n._clone();n.update(e.values),this.__commitNode(o),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,o=0;for(const s of e)n=t[o],void 0===n&&(n=new I(this.options),t.push(n),0===o?n.appendIntoPart(this):n.insertAfterPart(t[o-1])),n.setValue(s),n.commit(),o++;o<t.length&&(t.length=o,this.clear(n&&n.endNode))}clear(e=this.startNode){m(this.startNode.parentNode,e.nextSibling,this.endNode)}}class B{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;p(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=g,e(this)}if(this.__pendingValue===g)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=g}}class D extends M{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new O(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class O extends k{}let H=!1;try{const e={get capture(){return H=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class V{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;p(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=g,e(this)}if(this.__pendingValue===g)return;const e=this.__pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),o=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=P(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=g}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const P=e=>e&&(H?{capture:e.capture,passive:e.passive,once:e.once}:e.capture),R=new class{handleAttributeExpressions(e,t,n,o){const s=t[0];return"."===s?new D(e,t.slice(1),n).parts:"@"===s?[new V(e,t.slice(1),o.eventContext)]:"?"===s?[new B(e,t.slice(1),n)]:new M(e,t,n).parts}handleTextExpression(e){return new I(e)}};function z(e){let t=j.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},j.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const o=e.strings.join(_);return n=t.keyString.get(o),void 0===n&&(n=new E(e,e.getTemplateElement()),t.keyString.set(o,n)),t.stringsArray.set(e.strings,n),n}const j=new Map,W=new WeakMap;(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const F=(e,...t)=>new L(e,t,"html",R),X=(e,t)=>{const n=e.startNode.parentNode,o=void 0===t?e.endNode:t.startNode,s=n.insertBefore(w(),o);n.insertBefore(w(),o);const r=new I(e.options);return r.insertAfterNode(s),r},Y=(e,t)=>(e.setValue(t),e.commit(),e),K=(e,t,n)=>{const o=e.startNode.parentNode,s=n?n.startNode:e.endNode,r=t.endNode.nextSibling;r!==s&&((e,t,n=null,o=null)=>{for(;t!==n;){const n=t.nextSibling;e.insertBefore(t,o),t=n}})(o,t.startNode,r,s)},J=e=>{m(e.startNode.parentNode,e.startNode,e.endNode.nextSibling)},q=(e,t,n)=>{const o=new Map;for(let s=t;s<=n;s++)o.set(e[s],s);return o},Q=new WeakMap,U=new WeakMap,G=(Z=(e,t,n)=>{let o;return void 0===n?n=t:void 0!==t&&(o=t),t=>{if(!(t instanceof I))throw new Error("repeat can only be used in text bindings");const s=Q.get(t)||[],r=U.get(t)||[],i=[],a=[],l=[];let c,d,u=0;for(const t of e)l[u]=o?o(t,u):u,a[u]=n(t,u),u++;let h=0,p=s.length-1,f=0,m=a.length-1;for(;h<=p&&f<=m;)if(null===s[h])h++;else if(null===s[p])p--;else if(r[h]===l[f])i[f]=Y(s[h],a[f]),h++,f++;else if(r[p]===l[m])i[m]=Y(s[p],a[m]),p--,m--;else if(r[h]===l[m])i[m]=Y(s[h],a[m]),K(t,s[h],i[m+1]),h++,m--;else if(r[p]===l[f])i[f]=Y(s[p],a[f]),K(t,s[p],s[h]),p--,f++;else if(void 0===c&&(c=q(l,f,m),d=q(r,h,p)),c.has(r[h]))if(c.has(r[p])){const e=d.get(l[f]),n=void 0!==e?s[e]:null;if(null===n){const e=X(t,s[h]);Y(e,a[f]),i[f]=e}else i[f]=Y(n,a[f]),K(t,n,s[h]),s[e]=null;f++}else J(s[p]),p--;else J(s[h]),h++;for(;f<=m;){const e=X(t,i[m+1]);Y(e,a[f]),i[f++]=e}for(;h<=p;){const e=s[h++];null!==e&&J(e)}Q.set(t,i),U.set(t,l)}},(...e)=>{const t=Z(...e);return h.set(t,!0),t});var Z,ee=window.DOMMatrix||window.WebKitCSSMatrix||window.MSCSSMatrix,te=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector,ne=Element.prototype.closest?function(e,t){return e&&e.closest(t)}:function(e,t){for(;e&&!te.call(e,t);)e=e.parentNode instanceof Element?e.parentNode:null;return e};function oe(e){var t={};if(e)for(var n=0,o=e.split(";");n<o.length;n++){var s=o[n],r=s.indexOf(":");t[s.slice(0,r).trim().replace(/[a-zA-Z0-9_]-[a-z]/g,(function(e){return e[0]+e[2].toUpperCase()}))]=s.slice(r+1).trim()}return t}function se(e,t){var n=ne(e,"["+t+"]");return n?[n,oe(n.getAttribute(t))]:[]}function re(){}var ie=!1;try{var ae=Object.defineProperty({},"passive",{get:function(){ie=!0}});addEventListener("t",re,ae),removeEventListener("t",re,ae)}catch(e){ie=!1}var le,ce=ie?{passive:!1}:void 0,de=function(e){return e.preventDefault()};function ue(e,t,n,o,s,r,i){var a=t+o*r-o,l=n+s*i-s;e.setAttribute("data-scroll-left",a),e.setAttribute("data-scroll-top",l),e.scrollLeft=Math.round(a),e.scrollTop=Math.round(l)}function he(e,t){if(void 0===t&&(t={}),"transform"===t.scalingProperty)return+(e&&e.getAttribute("data-scale")||1);var n=e.firstElementChild,o=n.getBBox(),s=e.offsetWidth,r=e.offsetHeight;return s/o.width<r/o.height?n.clientWidth/s:n.clientHeight/r}function pe(e,t,n){!function(e,t,n){void 0===n&&(n={});var o=n.minScale||1,s=n.maxScale||10,r=n.origin,i=e.firstElementChild,a=he(e,n),l=function(e,t,n){return e<t?t:e>n?n:e}(t,o,s);if(l!==a||"transform"!==n.scalingProperty){var c=l/a,d=i.getBoundingClientRect(),u=(r&&r.clientX||0)-d.left,h=(r&&r.clientY||0)-d.top,p=+e.getAttribute("data-scroll-left"),f=+e.getAttribute("data-scroll-top");if(Math.round(p)!==e.scrollLeft&&(p=e.scrollLeft),Math.round(f)!==e.scrollTop&&(f=e.scrollTop),e.setAttribute("data-scale",l),"transform"===n.scalingProperty){var m=getComputedStyle(i),g=m.transformOrigin.split(" ").map(parseFloat),v=new ee(m.transform);(v=v.translate.apply(v,g.map(fe))).d=v.a===v.d?l:v.d*c,v.a=l,v=v.translate.apply(v,g),i.style.transform=v,i.setAttribute("transform",v),ue(e,p,f,u,h,c,c)}else{var _=i.clientWidth,x=i.clientHeight,$=e.offsetWidth,E=e.offsetHeight,b=i.getBBox(),y=void 0,w=void 0;$/b.width<E/b.height?w=(y=l*$)*b.height/b.width:y=(w=l*E)*b.width/b.height,y=Math.max(y,$*o),w=Math.max(w,E*o),i.style.width=y+"px",i.style.height=w+"px",ue(e,p,f,u,h,y/_,w/x)}}}(e,he(e,n)*t,n)}function fe(e){return-e}le={button:"left"},addEventListener("mousedown",(function(e){if(0===e.button||2===e.button){var t=se(e.target,"data-pan-on-drag"),n=t[0],o=t[1];if(n&&o&&function(e,t,n){return e.button===("right"===(t.button||n.button)?2:0)}(e,o,le)){e.preventDefault();var s=e.clientX,r=e.clientY,i=function(e){var t,o,i;t=n,o=s-e.clientX,i=r-e.clientY,t.scrollLeft+=o,t.scrollTop+=i,s=e.clientX,r=e.clientY,e.preventDefault()},a=function(){removeEventListener("mouseup",a),removeEventListener("mousemove",i),removeEventListener("contextmenu",de)};addEventListener("mouseup",a),addEventListener("mousemove",i),addEventListener("contextmenu",de)}}})),function(e,t,n){void 0===n&&(n={}),n.noEmitStyle||((document.head||document.body||document.documentElement).appendChild(document.createElement("style")).textContent="[data-zoom-on-wheel]{overflow:scroll}[data-zoom-on-wheel]>:first-child{width:100%;height:100%;vertical-align:middle;}"),addEventListener("wheel",(function(e){var n=se(e.target,"data-zoom-on-wheel"),o=n[0],s=n[1];if(o instanceof HTMLElement){var r=+s.zoomAmount||t.zoomAmount;pe(o,Math.pow(1+r,-e.deltaY),{origin:e,minScale:+s.minScale||t.minScale,maxScale:+s.maxScale||t.maxScale,scalingProperty:s.scalingProperty||t.scalingProperty}),e.preventDefault()}}),ce),addEventListener("resize",(function(){for(var e=document.querySelectorAll("[data-zoom-on-wheel]"),t=0;t<e.length;t++){var n=e[t];if(n instanceof HTMLElement){var o=oe(n.getAttribute("data-zoom-on-wheel"));pe(n,1,o)}}}))}(0,{minScale:1,maxScale:10,zoomAmount:.002,scalingProperty:"width/height"});const me=[[0,0,0],[0,100,50],[60,100,50],[120,100,50],[180,100,50],[240,100,50],[300,100,50],[0,0,100],[0,0,25.49],[0,0,50.2],[0,100,50],[0,100,83.33],[0,100,37.06],[0,32.31,61.76],[0,100,25.29],[0,20,42.16],[0,100,20.39],[0,20.23,33.92],[0,100,15.49],[0,19.7,25.88],[14.82,100,50],[14.82,100,83.33],[14.6,100,37.06],[14.29,32.31,61.76],[14.42,100,25.29],[13.95,20,42.16],[14.42,100,20.39],[15.43,20.23,33.92],[14.43,100,15.49],[13.85,19.7,25.88],[29.88,100,50],[29.65,100,83.33],[29.84,100,37.06],[29.52,32.31,61.76],[29.77,100,25.29],[29.3,20,42.16],[30,100,20.39],[29.14,20.23,33.92],[29.62,100,15.49],[30,19.7,25.88],[44.94,100,50],[45.18,100,83.33],[44.76,100,37.06],[44.76,32.31,61.76],[44.65,100,25.29],[44.65,20,42.16],[45,100,20.39],[44.57,20.23,33.92],[44.81,100,15.49],[46.15,19.7,25.88],[60,100,50],[60,100,83.33],[60,100,37.06],[60,32.31,61.76],[60,100,25.29],[60,20,42.16],[60,100,20.39],[60,20.23,33.92],[60,100,15.49],[60,19.7,25.88],[75.06,100,50],[74.82,100,83.33],[75.24,100,37.06],[75.24,32.31,61.76],[75.35,100,25.29],[75.35,20,42.16],[75,100,20.39],[75.43,20.23,33.92],[75.19,100,15.49],[73.85,19.7,25.88],[90.12,100,50],[90.35,100,83.33],[90.16,100,37.06],[90.48,32.31,61.76],[90.23,100,25.29],[90.7,20,42.16],[90,100,20.39],[90.86,20.23,33.92],[90.38,100,15.49],[90,19.7,25.88],[105.18,100,50],[105.18,100,83.33],[105.4,100,37.06],[105.71,32.31,61.76],[105.58,100,25.29],[106.05,20,42.16],[105.58,100,20.39],[104.57,20.23,33.92],[105.57,100,15.49],[106.15,19.7,25.88],[120,100,50],[120,100,83.33],[120,100,37.06],[120,32.31,61.76],[120,100,25.29],[120,20,42.16],[120,100,20.39],[120,20.23,33.92],[120,100,15.49],[120,19.7,25.88],[134.82,100,50],[134.82,100,83.33],[134.6,100,37.06],[134.29,32.31,61.76],[134.42,100,25.29],[133.95,20,42.16],[134.42,100,20.39],[135.43,20.23,33.92],[134.43,100,15.49],[133.85,19.7,25.88],[149.88,100,50],[149.65,100,83.33],[149.84,100,37.06],[149.52,32.31,61.76],[149.77,100,25.29],[149.3,20,42.16],[150,100,20.39],[149.14,20.23,33.92],[149.62,100,15.49],[150,19.7,25.88],[164.94,100,50],[165.18,100,83.33],[164.76,100,37.06],[164.76,32.31,61.76],[164.65,100,25.29],[164.65,20,42.16],[165,100,20.39],[164.57,20.23,33.92],[164.81,100,15.49],[166.15,19.7,25.88],[180,100,50],[180,100,83.33],[180,100,37.06],[180,32.31,61.76],[180,100,25.29],[180,20,42.16],[180,100,20.39],[180,20.23,33.92],[180,100,15.49],[180,19.7,25.88],[195.06,100,50],[194.82,100,83.33],[195.24,100,37.06],[195.24,32.31,61.76],[195.35,100,25.29],[195.35,20,42.16],[195,100,20.39],[195.43,20.23,33.92],[195.19,100,15.49],[193.85,19.7,25.88],[210.12,100,50],[210.35,100,83.33],[210.16,100,37.06],[210.48,32.31,61.76],[210.23,100,25.29],[210.7,20,42.16],[210,100,20.39],[210.86,20.23,33.92],[210.38,100,15.49],[210,19.7,25.88],[225.18,100,50],[225.18,100,83.33],[225.4,100,37.06],[225.71,32.31,61.76],[225.58,100,25.29],[226.05,20,42.16],[225.58,100,20.39],[224.57,20.23,33.92],[225.57,100,15.49],[226.15,19.7,25.88],[240,100,50],[240,100,83.33],[240,100,37.06],[240,32.31,61.76],[240,100,25.29],[240,20,42.16],[240,100,20.39],[240,20.23,33.92],[240,100,15.49],[240,19.7,25.88],[254.82,100,50],[254.82,100,83.33],[254.6,100,37.06],[254.29,32.31,61.76],[254.42,100,25.29],[253.95,20,42.16],[254.42,100,20.39],[255.43,20.23,33.92],[254.43,100,15.49],[253.85,19.7,25.88],[269.88,100,50],[269.65,100,83.33],[269.84,100,37.06],[269.52,32.31,61.76],[269.77,100,25.29],[269.3,20,42.16],[270,100,20.39],[269.14,20.23,33.92],[269.62,100,15.49],[270,19.7,25.88],[284.94,100,50],[285.18,100,83.33],[284.76,100,37.06],[284.76,32.31,61.76],[284.65,100,25.29],[284.65,20,42.16],[285,100,20.39],[284.57,20.23,33.92],[284.81,100,15.49],[286.15,19.7,25.88],[300,100,50],[300,100,83.33],[300,100,37.06],[300,32.31,61.76],[300,100,25.29],[300,20,42.16],[300,100,20.39],[300,20.23,33.92],[300,100,15.49],[300,19.7,25.88],[315.06,100,50],[314.82,100,83.33],[315.24,100,37.06],[315.24,32.31,61.76],[315.35,100,25.29],[315.35,20,42.16],[315,100,20.39],[315.43,20.23,33.92],[315.19,100,15.49],[313.85,19.7,25.88],[330.12,100,50],[330.35,100,83.33],[330.16,100,37.06],[330.48,32.31,61.76],[330.23,100,25.29],[330.7,20,42.16],[330,100,20.39],[330.86,20.23,33.92],[330.38,100,15.49],[330,19.7,25.88],[345.18,100,50],[345.18,100,83.33],[345.4,100,37.06],[345.71,32.31,61.76],[345.58,100,25.29],[346.05,20,42.16],[345.58,100,20.39],[344.57,20.23,33.92],[345.57,100,15.49],[346.15,19.7,25.88],[0,0,20],[0,0,31.37],[0,0,41.18],[0,0,50.98],[0,0,74.51],[0,0,100]],ge={d:"°",c:"⌀",p:"±"},ve=e=>{e=e.replace(/%%(.)/g,(e,t)=>ge[t]||t);const t=[];let n="";const o=e=>{n&&(t.push(n),n=""),t.push(e)};let s;for(let t=0;t<e.length;t++)switch(s=e[t]){default:n+=s;break;case"\\":switch(s=e[++t]){default:n+=s;break;case"f":case"F":{let n="";for(;s=e[++t];){if(";"===s){o({f:n});break}if("|"===s){const s={f:n},r=e.indexOf(";",++t);for(const n of e.slice(t,r).split("|"))s[n[0]]=+n.slice(1);t=r,o(s);break}n+="\\"===s?e[++t]:s}break}case"S":{let n,r="",i="";for(;s=e[++t];){if(";"===s){n&&o({S:[r,n,i]});break}"\\"===s?n?i+=e[++t]:r+=e[++t]:n?i+=s:"^"===s||"/"===s||"#"===s?n=s:r+=s}break}case"H":case"W":const r=++t,[,i,a]=e.slice(r,t=e.indexOf(";",t)).match(/^(\d*(?:\.\d+)?)(\D*)$/);o({[s]:[+i,a]});break;case"Q":case"A":case"C":case"T":{const n=++t;o({[s]:+e.slice(n,t=e.indexOf(";",t))});break}case"L":case"O":case"K":o({[s]:1});break;case"l":case"o":case"k":o({[s.toUpperCase()]:0})}break;case"{":{let n=1;const r=t;for(;s=e[++t];)if("{"===s)n++;else if("}"===s){if(0==--n){o(ve(e.slice(r+1,t)));break}}else"\\"===s&&t++;break}}return n&&t.push(n),t},_e=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),xe=e=>{var t;const[n,o,s]=null!==(t=me[e])&&void 0!==t?t:[0,0,50];return`hsl(${n},${o}%,${.8*s+20}%)`},$e=(e,t)=>Math.abs(e-t)<1/64,Ee=(()=>{const e=(e,t)=>{const[n,o]=(""+e).split("e");return+(n+"e"+(o?+o+t:t))};return(t,n)=>e(Math.round(e(t,n)),-n)})(),be=e=>"string"==typeof e&&/^-?[0-9]+(\.[0-9]*)?$/.test(e),ye=(...e)=>e.every(be),we=e=>e?e.trim():e,Ne=e=>e?e.startsWith("-")?e.slice(1):"-"+e:e,Ce=(t,n)=>we(e(t,n)),Te=(t,n)=>Ne(we(e(t,n))),Le=(t,n,o)=>{const s=+e(t,n);return isNaN(s)?void 0===o?(console.debug(`Group code ${n} must be a number, but "${s}".`,t),NaN):o:s},Se=({k:e,o:t,u:n})=>{const o=[];return e&&o.push("line-through"),t&&o.push("overline"),n&&o.push("underline"),0===o.length?"":1===o.length?" text-decoration="+o[0]:' text-decorations="'+o.join(" ")+'"'},Ae=e=>e.map(([e])=>e).filter((e,t,n)=>n.indexOf(e)===t).sort((e,t)=>e-t).map(t=>{const n=_e(String(c(e,t)));return n.includes(" ")?`data-${t}="${n}"`:`data-${t}=${n}`}).join(" "),Me=[""," dominant-baseline=text-before-edge"," dominant-baseline=text-before-edge text-anchor=middle"," dominant-baseline=text-before-edge text-anchor=end"," dominant-baseline=central"," dominant-baseline=central text-anchor=middle"," dominant-baseline=central text-anchor=end"," dominant-baseline=text-after-edge"," dominant-baseline=text-after-edge text-anchor=middle"," dominant-baseline=text-after-edge text-anchor=end"],ke=[""," dominant-baseline=text-after-edge"," dominant-baseline=central"," dominant-baseline=text-before-edge"],Ie=[""," text-anchor=middle"," text-anchor=end",""," text-anchor=middle"],Be=(e,t=0)=>{if(e.length<=t)return"";const n=Be(e,t+1),o=e[t];return"string"==typeof o?o+n:Array.isArray(o)?Be(o)+n:o.S?`<tspan><tspan dy=-.5em>${o.S[0]}</tspan><tspan dy=.5em>${o.S[2]}</tspan></tspan>`+n:o.f?`<tspan font-family="${o.f}"${o.b?" font-weight=bold":""}${o.i?" font-style=italic":""}>${n}</tspan>`:o.Q?`<tspan font-style="oblique ${o.Q}deg">${n}</tspan>`:n},De=e=>!isNaN(e),Oe=(t,n)=>{const o=(t=>{const n={};for(const r of null!==(o=null===(s=t.TABLES)||void 0===s?void 0:s.LAYER)&&void 0!==o?o:[]){var o,s;"LAYER"===e(r,0)&&(n[e(r,2)]={color:xe(Ce(r,62)),ltype:e(r,6)})}const r={};for(const n of null!==(i=null===(a=t.TABLES)||void 0===a?void 0:a.LTYPE)&&void 0!==i?i:[]){var i,a;if("LTYPE"===e(n,0)){const t=c(n,49).map(we).map(e=>e.startsWith("-")?e.slice(1):e),o=t.length%2==1?t:"0"===t[0]?t.slice(1):t.concat("0");r[e(n,2)]={strokeDasharray:o.join(" ")}}}const l=(e,t)=>{const o=Ce(e,62);if("0"===o)return` ${t}=currentColor`;if(o&&"256"!==o)return` ${t}=${xe(o)}`;const s=n[Ce(e,8)];return s?` ${t}=${s.color}`:"color"!==t?` ${t}=currentColor`:""},d=(t,o)=>{var s,i,a;let c="";if(!1!==(null==o?void 0:o.extrusion)){const e=+Ce(t,230);e&&Math.abs(e+1)<1/64&&(c=' style="transform:rotateY(180deg)"')}const d=null===(s=r[null!==(i=e(t,6))&&void 0!==i?i:null===(a=n[e(t,8)])||void 0===a?void 0:a.ltype])||void 0===s?void 0:s.strokeDasharray;return`${Ae(t)}${l(t,"stroke")}${d?' stroke-dasharray="'+d+'"':""} fill=none vector-effect=non-scaling-stroke${c}`};return{LINE:e=>{const t=Ce(e,10),n=Te(e,20),o=Ce(e,11),s=Te(e,21);if(ye(t,n,o,s))return`<line ${d(e)} x1=${t} y1=${n} x2=${o} y2=${s} />`},POLYLINE:(t,n)=>{var o;const s=+(null!==(o=e(t,70))&&void 0!==o?o:0);let r="";for(const e of n)r+=r?"L":"M",r+=Ce(e,10),r+=" ",r+=Te(e,20);return 1&s&&(r+="Z"),`<path ${d(t)} d="${r}" />`},CIRCLE:e=>{const t=Ce(e,10),n=Te(e,20),o=Ce(e,40);if(ye(t,n,o))return`<circle ${d(e)} cx=${t} cy=${n} r=${o} />`},ARC:e=>{const t=Le(e,10),n=Le(e,20),o=Le(e,40),s=Le(e,50,0),r=Le(e,51,0);if(isNaN(t)||isNaN(n)||isNaN(o))return"";const i=s*Math.PI/180,a=r*Math.PI/180,l=t+o*Math.cos(i),c=n+o*Math.sin(i),u=t+o*Math.cos(a),h=n+o*Math.sin(a),p=(r-s+360)%360<=180?"0":"1";return`<path ${d(e)} d="M${l} ${-c}A${o} ${o} 0 ${p} 0 ${u} ${-h}" />`},ELLIPSE:e=>{const t=Le(e,10),n=Le(e,20),o=Le(e,11),s=Le(e,21),r=Math.sqrt(o*o+s*s),i=Le(e,40)*r,a=-Math.atan2(s,o),l=Le(e,41,0),c=Le(e,42,2*Math.PI);if($e(l,0)&&$e(c,2*Math.PI)){const o=a?` transform="rotate(${180*a/Math.PI} ${t} ${-n})"`:"";return`<ellipse ${d(e)} cx=${t} cy=${-n} rx=${r} ry=${i}${o} />`}return console.debug("Elliptical arc cannot be rendered yet."),""},LEADER:e=>{const t=c(e,10).map(we),n=c(e,20).map(we);let o="";for(let e=0;e<t.length;e++)o+=o?"L":"M",o+=t[e],o+=" ",o+=Ne(n[e]);return`<path ${d(e,{extrusion:!1})} d="${o}" />`},HATCH:e=>{const t=e.slice(e.findIndex(e=>92===e[0]),e.findIndex(e=>97===e[0])),n=c(t,10).map(we),o=c(t,20).map(we).map(Ne),s=c(t,11).map(we),r=c(t,21).map(we).map(Ne);let i="";for(let e=0;e<n.length;e++)s[e]?n[e]===s[e-1]&&o[e]===r[e-1]?i+=`L${s[e]} ${r[e]}`:i+=`M${n[e]} ${o[e]}L${s[e]} ${r[e]}`:i+=`${0===e?"M":"L"}${n[e]} ${o[e]}`;return`<path ${Ae(e)}${l(e,"fill")} fill-opacity=.3 d="${i}" />`},SOLID:e=>{const t=Ce(e,10),n=Te(e,20),o=Ce(e,11),s=Te(e,21),r=Ce(e,12),i=Te(e,22),a=Ce(e,13),c=Te(e,23),d=`M${t} ${n}L${o} ${s}L${r} ${i}${r!==a||i!==c?`L${a} ${c}`:""}Z`;return`<path ${Ae(e)}${l(e,"fill")} d="${d}" />`},TEXT:t=>{var n,o;const s=Ce(t,10),r=Te(t,20),i=Ce(t,40),a=Te(t,50),c=null!==(n=Ie[Ce(t,72)])&&void 0!==n?n:"",d=null!==(o=ke[Ce(t,73)])&&void 0!==o?o:"",h=u(e(t,1)||""),p=`${Ae(t)}${l(t,"fill")} stroke=none x=${s} y=${r} font-size=${i}${c}${d}${a?` transform="rotate(${a} ${s} ${r})"`:""}`;if(1===h.length){const e=h[0];return`<text ${p}${Se(e)}>${e.text}</text>`}return`<text ${p}>${h.map(e=>`<tspan${Se(e)}>${e.text}</tspan>`)}</text>`},MTEXT:t=>{var n,o;const s=Ce(t,10),r=Te(t,20),i=Ce(t,40),a=null!==(n=Me[Ce(t,71)])&&void 0!==n?n:"",d=c(t,3).join("")+(null!==(o=e(t,1))&&void 0!==o?o:""),u=Be(ve(d));return`<text ${Ae(t)}${l(t,"fill")} stroke=none x=${s} y=${r} font-size=${i}${a}>${u}</text>`},DIMENSION:n=>{var o,s,r;const i=e(n,3),a=null===(o=t.TABLES)||void 0===o||null===(s=o.DIMSTYLE)||void 0===s?void 0:s.find(t=>e(t,2)===i);let c,u="",h=Le(n,42,0);switch(7&Le(n,70,0)){case 0:case 1:{const e=Ce(n,13),t=Te(n,23),o=Ce(n,10),s=Te(n,20),r=Ce(n,14),i=Te(n,24),[l,c]=o===r?[e,s]:[o,t];h=h||Math.abs(o===r?+s-+t:+o-+e)*Le(a,144,1),u=`<path vector-effect=non-scaling-stroke d="M${e} ${t}L${l} ${c}L${o} ${s}L${r} ${i}" />`;break}case 2:case 5:console.debug("Angular dimension cannot be rendered yet.",n);break;case 3:case 4:console.debug("Diameter / radius dimension cannot be rendered yet.",n);break;case 6:console.debug("Ordinate dimension cannot be rendered yet.",n)}h=Ee(h,+e(a,271)||+e(null===(r=t.HEADER)||void 0===r?void 0:r.$DIMDEC,70)||4);{var p,f,m,g;const o=Ce(n,11),s=Te(n,21),r=(+e(a,140)||+e(null===(p=t.HEADER)||void 0===p?void 0:p.$DIMTXT,40))*(+e(a,40)||+e(null===(f=t.HEADER)||void 0===f?void 0:f.$DIMSCALE,40)||1),i=Te(n,50),d=null!==(m=null===(g=e(n,1))||void 0===g?void 0:g.replace(/<>/,h))&&void 0!==m?m:String(h),u=Be(ve(d));c=`<text${l(n,"fill")} dominant-baseline=text-after-edge text-anchor=middle stroke=none x=${o} y=${s} font-size=${r}${i?` transform="rotate(${i} ${o} ${s})"`:""}>${u}</text>`}return`<g ${d(n)}${l(n,"stroke")}>${u}${c}</g>`},INSERT:n=>{var o;const s=Ce(n,10),r=Te(n,20),i=Te(n,50),a=Ce(n,41)||1,c=Ce(n,42)||1,d=[+s||+r?`translate(${s},${r})`:"",1!=+a||1!=+c?`scale(${a},${c})`:"",i?`rotate(${i})`:""].filter(Boolean).join(" "),u=null===(o=t.BLOCKS)||void 0===o?void 0:o[e(n,2)],h=null==u?void 0:u.slice("BLOCK"===e(u[0],0)?1:0,"ENDBLK"===e(u[u.length-1],0)?-1:void 0),p=Oe(t,h);return`<g ${Ae(n)}${l(n,"color")}${d?` transform="${d}"`:""}>${p}</g>`},SEQEND:()=>""}})(t);let s="";if(n)for(let t=0;t<n.length;t++){const r=n[t],i=e(r,0);if(!i)continue;const a=[];for(;"VERTEX"===e(n[t+1],0);)a.push(n[++t]);const l=o[i];l?s+=l(r,a):console.debug("Unknown entity type:",i,r)}return s};var He,Ve=(function(e){e.exports=function(){var e=function(){for(var e=3,t=document.createElement("b"),n=t.all||[];t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i><![endif]--\x3e",n[0];);return e>4?e:document.documentMode}(),t=navigator.platform.toLowerCase().indexOf("mac")+1,n=function(e){if(!(this instanceof n))return new n(e);var i=this,a={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,callbacks:{}};i.options={};for(var l,c=["rows_in_block","blocks_in_cluster","show_no_data_row","no_data_class","no_data_text","keep_parity","tag","callbacks"],d=0;l=c[d];d++)i.options[l]=void 0!==e[l]&&null!=e[l]?e[l]:a[l];var u,h=["scroll","content"];for(d=0;u=h[d];d++)if(i[u+"_elem"]=e[u+"Id"]?document.getElementById(e[u+"Id"]):e[u+"Elem"],!i[u+"_elem"])throw new Error("Error! Could not find "+u+" element");i.content_elem.hasAttribute("tabindex")||i.content_elem.setAttribute("tabindex",0);var p=r(e.rows)?e.rows:i.fetchMarkup(),f={},m=i.scroll_elem.scrollTop;i.insertToDOM(p,f),i.scroll_elem.scrollTop=m;var g=!1,v=0,_=!1,x=function(){t&&(_||(i.content_elem.style.pointerEvents="none"),_=!0,clearTimeout(v),v=setTimeout((function(){i.content_elem.style.pointerEvents="auto",_=!1}),50)),g!=(g=i.getClusterNum())&&i.insertToDOM(p,f),i.options.callbacks.scrollingProgress&&i.options.callbacks.scrollingProgress(i.getScrollProgress())},$=0,E=function(){clearTimeout($),$=setTimeout(i.refresh,100)};o("scroll",i.scroll_elem,x),o("resize",window,E),i.destroy=function(e){s("scroll",i.scroll_elem,x),s("resize",window,E),i.html((e?i.generateEmptyRow():p).join(""))},i.refresh=function(e){(i.getRowsHeight(p)||e)&&i.update(p)},i.update=function(e){p=r(e)?e:[];var t=i.scroll_elem.scrollTop;p.length*i.options.item_height<t&&(i.scroll_elem.scrollTop=0,g=0),i.insertToDOM(p,f),i.scroll_elem.scrollTop=t},i.clear=function(){i.update([])},i.getRowsAmount=function(){return p.length},i.getScrollProgress=function(){return this.options.scroll_top/(p.length*this.options.item_height)*100||0};var b=function(e,t){var n=r(t)?t:[];n.length&&(p="append"==e?p.concat(n):n.concat(p),i.insertToDOM(p,f))};i.append=function(e){b("append",e)},i.prepend=function(e){b("prepend",e)}};function o(e,t,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function s(e,t,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e,t){return window.getComputedStyle?window.getComputedStyle(t)[e]:t.currentStyle[e]}return n.prototype={constructor:n,fetchMarkup:function(){for(var e=[],t=this.getChildNodes(this.content_elem);t.length;)e.push(t.shift().outerHTML);return e},exploreEnvironment:function(t,n){var o=this.options;o.content_tag=this.content_elem.tagName.toLowerCase(),t.length&&(e&&e<=9&&!o.tag&&(o.tag=t[0].match(/<([^>\s/]*)/)[1].toLowerCase()),this.content_elem.children.length<=1&&(n.data=this.html(t[0]+t[0]+t[0])),o.tag||(o.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(t))},getRowsHeight:function(e){var t=this.options,n=t.item_height;if(t.cluster_height=0,e.length){var o=this.content_elem.children;if(o.length){var s=o[Math.floor(o.length/2)];if(t.item_height=s.offsetHeight,"tr"==t.tag&&"collapse"!=i("borderCollapse",this.content_elem)&&(t.item_height+=parseInt(i("borderSpacing",this.content_elem),10)||0),"tr"!=t.tag){var r=parseInt(i("marginTop",s),10)||0,a=parseInt(i("marginBottom",s),10)||0;t.item_height+=Math.max(r,a)}return t.block_height=t.item_height*t.rows_in_block,t.rows_in_cluster=t.blocks_in_cluster*t.rows_in_block,t.cluster_height=t.blocks_in_cluster*t.block_height,n!=t.item_height}}},getClusterNum:function(){return this.options.scroll_top=this.scroll_elem.scrollTop,Math.floor(this.options.scroll_top/(this.options.cluster_height-this.options.block_height))||0},generateEmptyRow:function(){var e=this.options;if(!e.tag||!e.show_no_data_row)return[];var t,n=document.createElement(e.tag),o=document.createTextNode(e.no_data_text);return n.className=e.no_data_class,"tr"==e.tag&&((t=document.createElement("td")).colSpan=100,t.appendChild(o)),n.appendChild(t||o),[n.outerHTML]},generate:function(e,t){var n=this.options,o=e.length;if(o<n.rows_in_block)return{top_offset:0,bottom_offset:0,rows_above:0,rows:o?e:this.generateEmptyRow()};var s=Math.max((n.rows_in_cluster-n.rows_in_block)*t,0),r=s+n.rows_in_cluster,i=Math.max(s*n.item_height,0),a=Math.max((o-r)*n.item_height,0),l=[],c=s;i<1&&c++;for(var d=s;d<r;d++)e[d]&&l.push(e[d]);return{top_offset:i,bottom_offset:a,rows_above:c,rows:l}},renderExtraTag:function(e,t){var n=document.createElement(this.options.tag);return n.className=["clusterize-extra-row","clusterize-"+e].join(" "),t&&(n.style.height=t+"px"),n.outerHTML},insertToDOM:function(e,t){this.options.cluster_height||this.exploreEnvironment(e,t);var n=this.generate(e,this.getClusterNum()),o=n.rows.join(""),s=this.checkChanges("data",o,t),r=this.checkChanges("top",n.top_offset,t),i=this.checkChanges("bottom",n.bottom_offset,t),a=this.options.callbacks,l=[];s||r?(n.top_offset&&(this.options.keep_parity&&l.push(this.renderExtraTag("keep-parity")),l.push(this.renderExtraTag("top-space",n.top_offset))),l.push(o),n.bottom_offset&&l.push(this.renderExtraTag("bottom-space",n.bottom_offset)),a.clusterWillChange&&a.clusterWillChange(),this.html(l.join("")),"ol"==this.options.content_tag&&this.content_elem.setAttribute("start",n.rows_above),this.content_elem.style["counter-increment"]="clusterize-counter "+(n.rows_above-1),a.clusterChanged&&a.clusterChanged()):i&&(this.content_elem.lastChild.style.height=n.bottom_offset+"px")},html:function(t){var n=this.content_elem;if(e&&e<=9&&"tr"==this.options.tag){var o,s=document.createElement("div");for(s.innerHTML="<table><tbody>"+t+"</tbody></table>";o=n.lastChild;)n.removeChild(o);for(var r=this.getChildNodes(s.firstChild.firstChild);r.length;)n.appendChild(r.shift())}else n.innerHTML=t},getChildNodes:function(e){for(var t=e.children,n=[],o=0,s=t.length;o<s;o++)n.push(t[o]);return n},checkChanges:function(e,t,n){var o=t!=n[e];return n[e]=t,o}},n}()}(He={exports:{}}),He.exports);const Pe=(e,t,n,o,s,r)=>{e.innerHTML='\n<div class="clusterize">\n  <div class="clusterize-header-scroll">\n    <table><thead></thead></table>\n  </div>\n  <div class="clusterize-scroll">\n    <table><tbody class="clusterize-content"></tbody></table>\n  </div>\n</div>\n';const i=e.getElementsByClassName("clusterize-scroll")[0];{const t=e.getElementsByClassName("clusterize-header-scroll")[0];i.addEventListener("scroll",(function(){t.scrollLeft=this.scrollLeft}))}const a=e.getElementsByTagName("thead")[0].insertRow();for(const e of n)a.appendChild(document.createElement("th")).textContent=e;const l=e.getElementsByTagName("tbody")[0],c=n.map(e=>[s(e),null==r?void 0:r(e)]),d=o.map(e=>`<tr>${c.map(([t,n])=>{var o;const s=null==n||null===(o=n(e))||void 0===o?void 0:o.message;return`<td${s?' title="'+_e(s)+'"':""}>${t(e)||""}</td>`}).join("")}</tr>`),u=new Ve({scrollElem:i,contentElem:l,rows:d,callbacks:{clusterChanged(){const e=l.querySelector("tr:not(.clusterize-extra-row)");if(!e.classList.contains("clusterize-no-data"))for(let t=0;t<a.cells.length;t++)a.cells[t].style.width=e.cells[t].offsetWidth+"px"}}});t.placeholder="filter",t.addEventListener("input",(function(){const e=this.value.toLowerCase(),t=e?d.filter((t,n)=>c.some(([t])=>{var s;return null===(s=t(o[n]))||void 0===s?void 0:s.toLowerCase().includes(e)})):d;u.update(t)}))},Re=e=>e;let ze={filename:"",dxf:{},activeSectionName:""};const je=e=>qe({...ze,activeSectionName:e.target.value}),We=e=>F`<label><input type=radio name=section hidden value=${e} .checked=${ze.activeSectionName===e} @change=${je}><span>${e}</span></label>`,Fe=e=>{const t=[];for(const n of e)for(const[e]of n)t.includes(e)||t.push(e);return t.sort((e,t)=>e-t)},Xe=(t,n,o)=>{Array.isArray(o)&&Pe(t,n,Fe(o),o,e=>t=>t.filter(([t])=>t===e).map(([,e])=>e).join("\n"),t=>1!==t?void 0:t=>{const n=e(t,1);if(n)switch(e(t,0)){case"TEXT":{const e=u(n).map(({text:e})=>e).join("");return e===n?void 0:{type:"info",message:e}}case"MTEXT":{const e=c(t,3).join("")+n;return e===n?void 0:{type:"info",message:e}}}})},Ye=(t,n,o)=>{if(n){const s=t.appendChild(document.createElement("input")),r=t.appendChild(document.createElement("article"));r.style.height=`calc(100% - ${s.offsetHeight+4}px - 1em)`,Pe(r,s,[o,...Fe(Object.values(n))],Object.entries(n),t=>t===o?([e])=>e:([o])=>e(n[o],t))}},Ke=document.getElementsByTagName("nav")[0],Je=document.getElementsByTagName("main")[0];function qe(t){var n;ze=t,n=Ke,((e,t,n)=>{let o=W.get(t);void 0===o&&(m(t,t.firstChild),W.set(t,o=new I(Object.assign({templateFactory:z},void 0))),o.appendInto(t)),o.setValue(e),o.commit()})(F`<h2 style="flex: auto; font-size: 100%;">${ze.filename}</h2>${We("PREVIEW")} ${We("DXF")} ${We("JSON")} ${G(Object.keys(ze.dxf),Re,We)}`,n),(t=>{if(t.innerHTML="",!ze.activeSectionName)return;const{dxf:n,activeSectionName:o}=ze;switch(o){case"PREVIEW":{t.innerHTML=`<div data-zoom-on-wheel="max-scale: 10000" data-pan-on-drag style="height: 100%">${(t=>`<svg viewBox="${(({ENTITIES:t})=>{if(!t)return"";let n=1/0,o=-1/0,s=1/0,r=-1/0;for(const i of t){const t=[+e(i,10),+e(i,11),+e(i,12)].filter(De),a=[-e(i,20),-e(i,21),-e(i,22)].filter(De);n=Math.min(n,...t),o=Math.max(o,...t),s=Math.min(s,...a),r=Math.max(r,...a)}return`${n} ${s} ${o-n} ${r-s}`})(t)}">${Oe(t,t.ENTITIES)}</svg>`)(ze.dxf)}</div>`;const n=t.getElementsByTagName("svg")[0],o=n.getBBox();return void n.setAttribute("viewBox",`${o.x-10} ${o.y-10} ${o.width+20} ${o.height+20}`)}case"DXF":return t.innerHTML=`<textarea readonly style="width: 100%; height: 100%; resize: none;">${(e=>{let t="";for(const n in e){t+="0\nSECTION\n2\n",t+=n,t+="\n";const o=e[n];switch(n){default:for(const e of o)t=l(t,e);break;case"HEADER":for(const e in o){t+="9\n",t+=e,t+="\n";const n=o[e];for(const[e,o]of n)t+=e,t+="\n",t+=o,t+="\n"}break;case"CLASSES":for(const e in o){const n=o[e];t+="0\nCLASS\n1\n",t+=e,t+="\n";for(const[e,o]of n)0!==e&&(t+=e,t+="\n",t+=o,t+="\n")}break;case"TABLES":for(const e in o){const n=o[e];for(const e of n)t=l(t,e);t+="0\nENDTAB\n"}break;case"BLOCKS":for(const e in o)for(const n of o[e])t=l(t,n);break;case"OBJECTS":for(const e of o)for(const[n,o]of e)t+=n,t+="\n",t+=o,t+="\n";break;case"ACDSDATA":for(const e of o)for(const n of e)t=l(t,n)}t+="0\nENDSEC\n"}return t+="0\nEOF\n",t})(ze.dxf)}</textarea>`;case"JSON":return t.innerHTML=`<textarea readonly style="width: 100%; height: 100%; resize: none;">${JSON.stringify(ze.dxf,void 0,2)}</textarea>`;case"HEADER":return Ye(t,n[o],9);case"CLASSES":return Ye(t,n[o],1);case"OBJECTS":if(n[o]){const s=t.appendChild(document.createElement("section"));for(const t of n[o]){s.appendChild(document.createElement("h3")).textContent=e(t,0);const n=s.appendChild(document.createElement("article")).appendChild(document.createElement("table"));for(const[e,o]of t){const t=n.insertRow();t.insertCell().textContent=e,t.insertCell().textContent=o}}}break;case"TABLES":case"BLOCKS":if(n[o]){const e=t.appendChild(document.createElement("section")),s=e.appendChild(document.createElement("div"));s.className="filter-input-container";const r=s.appendChild(document.createElement("input"));e.style.paddingTop=`calc(${r.offsetHeight+4}px + 1em)`;for(const t in n[o]){e.appendChild(document.createElement("h3")).textContent=t;const s=e.appendChild(document.createElement("article"));s.tabIndex=0,s.style.display="flex",s.style.maxHeight="30vh",Xe(s,r,n[o][t])}}break;case"ACDSDATA":if(n[o]){const e=t.appendChild(document.createElement("section")),s=e.appendChild(document.createElement("div"));s.className="filter-input-container";const r=s.appendChild(document.createElement("input"));e.style.paddingTop=`calc(${r.offsetHeight+4}px + 1em)`;for(const t of n[o]){const n=e.appendChild(document.createElement("article"));n.tabIndex=0,n.style.display="flex",n.style.maxHeight="30vh",Xe(n,r,t)}}break;default:if(n[o]){const e=t.appendChild(document.createElement("input")),s=t.appendChild(document.createElement("article"));s.style.height=`calc(100% - ${e.offsetHeight+4}px - 1em)`,Xe(s,e,n[o])}}})(Je);const o=performance.now();setTimeout(()=>console.log(`Rendering takes ${performance.now()-o} [ms]`))}((e,t)=>{let n=!1;e.addEventListener("dragenter",()=>{n=!0,e.classList.add("dragging")}),e.addEventListener("dragover",e=>{n=!1;const t=e.dataTransfer;if(t){const n=t.items;1===n.length&&"file"===n[0].kind&&(t.dropEffect="copy",e.stopPropagation(),e.preventDefault())}}),e.addEventListener("dragleave",()=>{n||e.classList.remove("dragging")}),e.addEventListener("drop",t=>{t.stopPropagation(),t.preventDefault(),e.classList.remove("dragging");const n=t.dataTransfer;n&&(e=>{const t=performance.now();a(e,(n,o)=>{const s=performance.now();n?(console.error(e.name,s-t+" [ms]",n),alert("エラーが発生しました。")):(console.debug(e.name,s-t+" [ms]"),qe({filename:e.name,dxf:o||{},activeSectionName:"PREVIEW"}))})})(n.files[0])})})(document.body);
